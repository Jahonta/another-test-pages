<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="parent">
      <div id="slot"></div>
      <video id="videoSlot"></video>
    </div>

    <style>
      #parent {
        width: 270px;
        height: 200px;
        position: relative;
        border: 2px solid black;
      }

      #slot {
        width: 100%;
        height: 100%;
        position: absolute;
        z-index: 2;
      }

      #videoSlot {
        width: 100%;
        height: 100%;
        position: absolute;
        z-index: 1;
      }

      body {
        background-color: gray;
      }
    </style>
    <script>
      // @adr/vpaid-wrapper-player v2.2.0
      !(function () {
        'use strict';
        function t(t, n, r) {
          return (
            (n = p(n)),
            (function (t, e) {
              if (e && ('object' == typeof e || 'function' == typeof e))
                return e;
              if (void 0 !== e)
                throw new TypeError(
                  'Derived constructors may only return object or undefined'
                );
              return y(t);
            })(
              t,
              e()
                ? Reflect.construct(n, r || [], p(t).constructor)
                : n.apply(t, r)
            )
          );
        }
        function e() {
          try {
            var t = !Boolean.prototype.valueOf.call(
              Reflect.construct(Boolean, [], function () {})
            );
          } catch (t) {}
          return (e = function () {
            return !!t;
          })();
        }
        function n(t, e) {
          var n = Object.keys(t);
          if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e &&
              (r = r.filter(function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable;
              })),
              n.push.apply(n, r);
          }
          return n;
        }
        function r(t) {
          for (var e = 1; e < arguments.length; e++) {
            var r = null != arguments[e] ? arguments[e] : {};
            e % 2
              ? n(Object(r), !0).forEach(function (e) {
                  h(t, e, r[e]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r))
              : n(Object(r)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(r, e)
                  );
                });
          }
          return t;
        }
        function i() {
          i = function () {
            return e;
          };
          var t,
            e = {},
            n = Object.prototype,
            r = n.hasOwnProperty,
            o =
              Object.defineProperty ||
              function (t, e, n) {
                t[e] = n.value;
              },
            a = 'function' == typeof Symbol ? Symbol : {},
            s = a.iterator || '@@iterator',
            u = a.asyncIterator || '@@asyncIterator',
            c = a.toStringTag || '@@toStringTag';
          function l(t, e, n) {
            return (
              Object.defineProperty(t, e, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              }),
              t[e]
            );
          }
          try {
            l({}, '');
          } catch (t) {
            l = function (t, e, n) {
              return (t[e] = n);
            };
          }
          function f(t, e, n, r) {
            var i = e && e.prototype instanceof b ? e : b,
              a = Object.create(i.prototype),
              s = new L(r || []);
            return o(a, '_invoke', { value: A(t, n, s) }), a;
          }
          function h(t, e, n) {
            try {
              return { type: 'normal', arg: t.call(e, n) };
            } catch (t) {
              return { type: 'throw', arg: t };
            }
          }
          e.wrap = f;
          var d = 'suspendedStart',
            p = 'suspendedYield',
            v = 'executing',
            m = 'completed',
            y = {};
          function b() {}
          function g() {}
          function w() {}
          var k = {};
          l(k, s, function () {
            return this;
          });
          var S = Object.getPrototypeOf,
            E = S && S(S(V([])));
          E && E !== n && r.call(E, s) && (k = E);
          var T = (w.prototype = b.prototype = Object.create(k));
          function P(t) {
            ['next', 'throw', 'return'].forEach(function (e) {
              l(t, e, function (t) {
                return this._invoke(e, t);
              });
            });
          }
          function C(t, e) {
            function n(i, o, a, s) {
              var u = h(t[i], t, o);
              if ('throw' !== u.type) {
                var c = u.arg,
                  l = c.value;
                return l && 'object' == typeof l && r.call(l, '__await')
                  ? e.resolve(l.__await).then(
                      function (t) {
                        n('next', t, a, s);
                      },
                      function (t) {
                        n('throw', t, a, s);
                      }
                    )
                  : e.resolve(l).then(
                      function (t) {
                        (c.value = t), a(c);
                      },
                      function (t) {
                        return n('throw', t, a, s);
                      }
                    );
              }
              s(u.arg);
            }
            var i;
            o(this, '_invoke', {
              value: function (t, r) {
                function o() {
                  return new e(function (e, i) {
                    n(t, r, e, i);
                  });
                }
                return (i = i ? i.then(o, o) : o());
              },
            });
          }
          function A(e, n, r) {
            var i = d;
            return function (o, a) {
              if (i === v) throw new Error('Generator is already running');
              if (i === m) {
                if ('throw' === o) throw a;
                return { value: t, done: !0 };
              }
              for (r.method = o, r.arg = a; ; ) {
                var s = r.delegate;
                if (s) {
                  var u = x(s, r);
                  if (u) {
                    if (u === y) continue;
                    return u;
                  }
                }
                if ('next' === r.method) r.sent = r._sent = r.arg;
                else if ('throw' === r.method) {
                  if (i === d) throw ((i = m), r.arg);
                  r.dispatchException(r.arg);
                } else 'return' === r.method && r.abrupt('return', r.arg);
                i = v;
                var c = h(e, n, r);
                if ('normal' === c.type) {
                  if (((i = r.done ? m : p), c.arg === y)) continue;
                  return { value: c.arg, done: r.done };
                }
                'throw' === c.type &&
                  ((i = m), (r.method = 'throw'), (r.arg = c.arg));
              }
            };
          }
          function x(e, n) {
            var r = n.method,
              i = e.iterator[r];
            if (i === t)
              return (
                (n.delegate = null),
                ('throw' === r &&
                  e.iterator.return &&
                  ((n.method = 'return'),
                  (n.arg = t),
                  x(e, n),
                  'throw' === n.method)) ||
                  ('return' !== r &&
                    ((n.method = 'throw'),
                    (n.arg = new TypeError(
                      "The iterator does not provide a '" + r + "' method"
                    )))),
                y
              );
            var o = h(i, e.iterator, n.arg);
            if ('throw' === o.type)
              return (
                (n.method = 'throw'), (n.arg = o.arg), (n.delegate = null), y
              );
            var a = o.arg;
            return a
              ? a.done
                ? ((n[e.resultName] = a.value),
                  (n.next = e.nextLoc),
                  'return' !== n.method && ((n.method = 'next'), (n.arg = t)),
                  (n.delegate = null),
                  y)
                : a
              : ((n.method = 'throw'),
                (n.arg = new TypeError('iterator result is not an object')),
                (n.delegate = null),
                y);
          }
          function O(t) {
            var e = { tryLoc: t[0] };
            1 in t && (e.catchLoc = t[1]),
              2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
              this.tryEntries.push(e);
          }
          function j(t) {
            var e = t.completion || {};
            (e.type = 'normal'), delete e.arg, (t.completion = e);
          }
          function L(t) {
            (this.tryEntries = [{ tryLoc: 'root' }]),
              t.forEach(O, this),
              this.reset(!0);
          }
          function V(e) {
            if (e || '' === e) {
              var n = e[s];
              if (n) return n.call(e);
              if ('function' == typeof e.next) return e;
              if (!isNaN(e.length)) {
                var i = -1,
                  o = function n() {
                    for (; ++i < e.length; )
                      if (r.call(e, i))
                        return (n.value = e[i]), (n.done = !1), n;
                    return (n.value = t), (n.done = !0), n;
                  };
                return (o.next = o);
              }
            }
            throw new TypeError(typeof e + ' is not iterable');
          }
          return (
            (g.prototype = w),
            o(T, 'constructor', { value: w, configurable: !0 }),
            o(w, 'constructor', { value: g, configurable: !0 }),
            (g.displayName = l(w, c, 'GeneratorFunction')),
            (e.isGeneratorFunction = function (t) {
              var e = 'function' == typeof t && t.constructor;
              return (
                !!e &&
                (e === g || 'GeneratorFunction' === (e.displayName || e.name))
              );
            }),
            (e.mark = function (t) {
              return (
                Object.setPrototypeOf
                  ? Object.setPrototypeOf(t, w)
                  : ((t.__proto__ = w), l(t, c, 'GeneratorFunction')),
                (t.prototype = Object.create(T)),
                t
              );
            }),
            (e.awrap = function (t) {
              return { __await: t };
            }),
            P(C.prototype),
            l(C.prototype, u, function () {
              return this;
            }),
            (e.AsyncIterator = C),
            (e.async = function (t, n, r, i, o) {
              void 0 === o && (o = Promise);
              var a = new C(f(t, n, r, i), o);
              return e.isGeneratorFunction(n)
                ? a
                : a.next().then(function (t) {
                    return t.done ? t.value : a.next();
                  });
            }),
            P(T),
            l(T, c, 'Generator'),
            l(T, s, function () {
              return this;
            }),
            l(T, 'toString', function () {
              return '[object Generator]';
            }),
            (e.keys = function (t) {
              var e = Object(t),
                n = [];
              for (var r in e) n.push(r);
              return (
                n.reverse(),
                function t() {
                  for (; n.length; ) {
                    var r = n.pop();
                    if (r in e) return (t.value = r), (t.done = !1), t;
                  }
                  return (t.done = !0), t;
                }
              );
            }),
            (e.values = V),
            (L.prototype = {
              constructor: L,
              reset: function (e) {
                if (
                  ((this.prev = 0),
                  (this.next = 0),
                  (this.sent = this._sent = t),
                  (this.done = !1),
                  (this.delegate = null),
                  (this.method = 'next'),
                  (this.arg = t),
                  this.tryEntries.forEach(j),
                  !e)
                )
                  for (var n in this)
                    't' === n.charAt(0) &&
                      r.call(this, n) &&
                      !isNaN(+n.slice(1)) &&
                      (this[n] = t);
              },
              stop: function () {
                this.done = !0;
                var t = this.tryEntries[0].completion;
                if ('throw' === t.type) throw t.arg;
                return this.rval;
              },
              dispatchException: function (e) {
                if (this.done) throw e;
                var n = this;
                function i(r, i) {
                  return (
                    (s.type = 'throw'),
                    (s.arg = e),
                    (n.next = r),
                    i && ((n.method = 'next'), (n.arg = t)),
                    !!i
                  );
                }
                for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                  var a = this.tryEntries[o],
                    s = a.completion;
                  if ('root' === a.tryLoc) return i('end');
                  if (a.tryLoc <= this.prev) {
                    var u = r.call(a, 'catchLoc'),
                      c = r.call(a, 'finallyLoc');
                    if (u && c) {
                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);
                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);
                    } else if (u) {
                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);
                    } else {
                      if (!c)
                        throw new Error(
                          'try statement without catch or finally'
                        );
                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);
                    }
                  }
                }
              },
              abrupt: function (t, e) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                  var i = this.tryEntries[n];
                  if (
                    i.tryLoc <= this.prev &&
                    r.call(i, 'finallyLoc') &&
                    this.prev < i.finallyLoc
                  ) {
                    var o = i;
                    break;
                  }
                }
                o &&
                  ('break' === t || 'continue' === t) &&
                  o.tryLoc <= e &&
                  e <= o.finallyLoc &&
                  (o = null);
                var a = o ? o.completion : {};
                return (
                  (a.type = t),
                  (a.arg = e),
                  o
                    ? ((this.method = 'next'), (this.next = o.finallyLoc), y)
                    : this.complete(a)
                );
              },
              complete: function (t, e) {
                if ('throw' === t.type) throw t.arg;
                return (
                  'break' === t.type || 'continue' === t.type
                    ? (this.next = t.arg)
                    : 'return' === t.type
                    ? ((this.rval = this.arg = t.arg),
                      (this.method = 'return'),
                      (this.next = 'end'))
                    : 'normal' === t.type && e && (this.next = e),
                  y
                );
              },
              finish: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                  var n = this.tryEntries[e];
                  if (n.finallyLoc === t)
                    return this.complete(n.completion, n.afterLoc), j(n), y;
                }
              },
              catch: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                  var n = this.tryEntries[e];
                  if (n.tryLoc === t) {
                    var r = n.completion;
                    if ('throw' === r.type) {
                      var i = r.arg;
                      j(n);
                    }
                    return i;
                  }
                }
                throw new Error('illegal catch attempt');
              },
              delegateYield: function (e, n, r) {
                return (
                  (this.delegate = {
                    iterator: V(e),
                    resultName: n,
                    nextLoc: r,
                  }),
                  'next' === this.method && (this.arg = t),
                  y
                );
              },
            }),
            e
          );
        }
        function o(t) {
          var e = (function (t, e) {
            if ('object' != typeof t || !t) return t;
            var n = t[Symbol.toPrimitive];
            if (void 0 !== n) {
              var r = n.call(t, e || 'default');
              if ('object' != typeof r) return r;
              throw new TypeError(
                '@@toPrimitive must return a primitive value.'
              );
            }
            return ('string' === e ? String : Number)(t);
          })(t, 'string');
          return 'symbol' == typeof e ? e : String(e);
        }
        function a(t) {
          return (
            (a =
              'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                ? function (t) {
                    return typeof t;
                  }
                : function (t) {
                    return t &&
                      'function' == typeof Symbol &&
                      t.constructor === Symbol &&
                      t !== Symbol.prototype
                      ? 'symbol'
                      : typeof t;
                  }),
            a(t)
          );
        }
        function s(t, e, n, r, i, o, a) {
          try {
            var s = t[o](a),
              u = s.value;
          } catch (t) {
            return void n(t);
          }
          s.done ? e(u) : Promise.resolve(u).then(r, i);
        }
        function u(t) {
          return function () {
            var e = this,
              n = arguments;
            return new Promise(function (r, i) {
              var o = t.apply(e, n);
              function a(t) {
                s(o, r, i, a, u, 'next', t);
              }
              function u(t) {
                s(o, r, i, a, u, 'throw', t);
              }
              a(void 0);
            });
          };
        }
        function c(t, e) {
          if (!(t instanceof e))
            throw new TypeError('Cannot call a class as a function');
        }
        function l(t, e) {
          for (var n = 0; n < e.length; n++) {
            var r = e[n];
            (r.enumerable = r.enumerable || !1),
              (r.configurable = !0),
              'value' in r && (r.writable = !0),
              Object.defineProperty(t, o(r.key), r);
          }
        }
        function f(t, e, n) {
          return (
            e && l(t.prototype, e),
            n && l(t, n),
            Object.defineProperty(t, 'prototype', { writable: !1 }),
            t
          );
        }
        function h(t, e, n) {
          return (
            (e = o(e)) in t
              ? Object.defineProperty(t, e, {
                  value: n,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                })
              : (t[e] = n),
            t
          );
        }
        function d(t, e) {
          if ('function' != typeof e && null !== e)
            throw new TypeError(
              'Super expression must either be null or a function'
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, 'prototype', { writable: !1 }),
            e && v(t, e);
        }
        function p(t) {
          return (
            (p = Object.setPrototypeOf
              ? Object.getPrototypeOf.bind()
              : function (t) {
                  return t.__proto__ || Object.getPrototypeOf(t);
                }),
            p(t)
          );
        }
        function v(t, e) {
          return (
            (v = Object.setPrototypeOf
              ? Object.setPrototypeOf.bind()
              : function (t, e) {
                  return (t.__proto__ = e), t;
                }),
            v(t, e)
          );
        }
        function m(t) {
          var n = 'function' == typeof Map ? new Map() : void 0;
          return (
            (m = function (t) {
              if (
                null === t ||
                !(function (t) {
                  try {
                    return (
                      -1 !== Function.toString.call(t).indexOf('[native code]')
                    );
                  } catch (e) {
                    return 'function' == typeof t;
                  }
                })(t)
              )
                return t;
              if ('function' != typeof t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              if (void 0 !== n) {
                if (n.has(t)) return n.get(t);
                n.set(t, r);
              }
              function r() {
                return (function (t, n, r) {
                  if (e()) return Reflect.construct.apply(null, arguments);
                  var i = [null];
                  i.push.apply(i, n);
                  var o = new (t.bind.apply(t, i))();
                  return r && v(o, r.prototype), o;
                })(t, arguments, p(this).constructor);
              }
              return (
                (r.prototype = Object.create(t.prototype, {
                  constructor: {
                    value: r,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0,
                  },
                })),
                v(r, t)
              );
            }),
            m(t)
          );
        }
        function y(t) {
          if (void 0 === t)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return t;
        }
        function b() {
          return (
            (b =
              'undefined' != typeof Reflect && Reflect.get
                ? Reflect.get.bind()
                : function (t, e, n) {
                    var r = (function (t, e) {
                      for (
                        ;
                        !Object.prototype.hasOwnProperty.call(t, e) &&
                        null !== (t = p(t));

                      );
                      return t;
                    })(t, e);
                    if (r) {
                      var i = Object.getOwnPropertyDescriptor(r, e);
                      return i.get
                        ? i.get.call(arguments.length < 3 ? t : n)
                        : i.value;
                    }
                  }),
            b.apply(this, arguments)
          );
        }
        function g(t, e) {
          return (
            (function (t) {
              if (Array.isArray(t)) return t;
            })(t) ||
            (function (t, e) {
              var n =
                null == t
                  ? null
                  : ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
                    t['@@iterator'];
              if (null != n) {
                var r,
                  i,
                  o,
                  a,
                  s = [],
                  u = !0,
                  c = !1;
                try {
                  if (((o = (n = n.call(t)).next), 0 === e)) {
                    if (Object(n) !== n) return;
                    u = !1;
                  } else
                    for (
                      ;
                      !(u = (r = o.call(n)).done) &&
                      (s.push(r.value), s.length !== e);
                      u = !0
                    );
                } catch (t) {
                  (c = !0), (i = t);
                } finally {
                  try {
                    if (
                      !u &&
                      null != n.return &&
                      ((a = n.return()), Object(a) !== a)
                    )
                      return;
                  } finally {
                    if (c) throw i;
                  }
                }
                return s;
              }
            })(t, e) ||
            k(t, e) ||
            (function () {
              throw new TypeError(
                'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            })()
          );
        }
        function w(t) {
          return (
            (function (t) {
              if (Array.isArray(t)) return S(t);
            })(t) ||
            (function (t) {
              if (
                ('undefined' != typeof Symbol && null != t[Symbol.iterator]) ||
                null != t['@@iterator']
              )
                return Array.from(t);
            })(t) ||
            k(t) ||
            (function () {
              throw new TypeError(
                'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            })()
          );
        }
        function k(t, e) {
          if (t) {
            if ('string' == typeof t) return S(t, e);
            var n = Object.prototype.toString.call(t).slice(8, -1);
            return (
              'Object' === n && t.constructor && (n = t.constructor.name),
              'Map' === n || 'Set' === n
                ? Array.from(t)
                : 'Arguments' === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? S(t, e)
                : void 0
            );
          }
        }
        function S(t, e) {
          (null == e || e > t.length) && (e = t.length);
          for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
          return r;
        }
        function E(t, e) {
          var n =
            ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
            t['@@iterator'];
          if (!n) {
            if (
              Array.isArray(t) ||
              (n = k(t)) ||
              (e && t && 'number' == typeof t.length)
            ) {
              n && (t = n);
              var r = 0,
                i = function () {};
              return {
                s: i,
                n: function () {
                  return r >= t.length
                    ? { done: !0 }
                    : { done: !1, value: t[r++] };
                },
                e: function (t) {
                  throw t;
                },
                f: i,
              };
            }
            throw new TypeError(
              'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
            );
          }
          var o,
            a = !0,
            s = !1;
          return {
            s: function () {
              n = n.call(t);
            },
            n: function () {
              var t = n.next();
              return (a = t.done), t;
            },
            e: function (t) {
              (s = !0), (o = t);
            },
            f: function () {
              try {
                a || null == n.return || n.return();
              } finally {
                if (s) throw o;
              }
            },
          };
        }
        var T = function () {
          return (
            (T =
              Object.assign ||
              function (t) {
                for (var e, n = 1, r = arguments.length; n < r; n++)
                  for (var i in (e = arguments[n]))
                    Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                return t;
              }),
            T.apply(this, arguments)
          );
        };
        'function' == typeof SuppressedError && SuppressedError;
        var P,
          C = function (t) {
            var e = +'1E'.concat(t || 10),
              n = e / 10;
            return Math.floor(n + Math.random() * (e - n));
          },
          A = function (t, e) {
            if (t)
              for (
                var n = Object.prototype.toString.call(e.prototype),
                  r = Object.getPrototypeOf(t);
                r;

              ) {
                if (Object.prototype.toString.call(r) === n) return !0;
                r = Object.getPrototypeOf(r);
              }
            return !1;
          },
          x = function (t) {
            return 'number' == typeof t && !isNaN(t) && isFinite(t);
          },
          O = function (t) {
            return 'string' == typeof t || A(t, String);
          },
          j = function (t) {
            return 'object' === a(t) && !Array.isArray(t) && null !== t;
          },
          L = function (t) {
            return '[object Object]' === Object.prototype.toString.call(t);
          },
          V = function (t) {
            return A(t, HTMLElement) || I(t);
          },
          I = function (t) {
            return A(t, Document);
          },
          M = function (t) {
            if (!j(t)) throw new Error(''.concat(t, ' is not an object'));
            for (var e in t) return !1;
            return !0;
          },
          _ = function (t) {
            if (!O(t)) throw new Error(''.concat(t, ' is not a string'));
            return 0 === H(t).length;
          },
          R = function () {
            if (arguments.length <= 0)
              throw new Error('Function has been called without arguments');
            return Boolean(arguments.length <= 0 ? void 0 : arguments[0]);
          },
          F = function (t) {
            return x(parseFloat(t)) && isFinite(t);
          },
          D = function (t) {
            var e = (O(t) ? t : window.navigator.userAgent).toLowerCase();
            return /android|webos|iphone|ipad|ipod|blackberry|bb|playbook|iemobile|windows phone|kindle|silk|opera mini/i.test(
              e
            );
          },
          B = function (t) {
            var e =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : '&';
            return j(t)
              ? Object.entries(t)
                  .map(function (t) {
                    return t.join('=');
                  })
                  .join(e)
              : null;
          },
          U = function (t) {
            if (!O(t) && !x(t))
              throw new Error(''.concat(t, ' is not a string or number'));
            return t + 'px';
          },
          z = function (t) {
            return new Promise(function (e) {
              return setTimeout(e, x(t) && t > 0 ? t : 0);
            });
          },
          H = function (t) {
            if (!O(t)) throw new Error(''.concat(t, ' is not a string'));
            return t.replace(/\s/g, '');
          },
          W = function (t) {
            if (
              !O(t) ||
              !/^\d+(\.\d+)?:\d+(\.\d+)?:\d+(\.\d+)?$/.test(t.trim())
            )
              return null;
            var e = t.split(':'),
              n = 0;
            return (
              (n += 3600 * parseFloat(e[0])),
              (n += 60 * parseFloat(e[1])),
              (n += parseFloat(e[2])),
              isNaN(n) ? null : n
            );
          };
        !(function (t) {
          (t.OnPage = 'onpage'),
            (t.SameDomainFrame = 'samedomainiframe'),
            (t.CrossDomainFrame = 'crossdomainframe');
        })(P || (P = {}));
        var q = (function () {
          function t() {
            if (
              (c(this, t),
              h(this, '_location', void 0),
              h(this, '_topWin', void 0),
              h(this, '_topRef', void 0),
              t._instance)
            )
              return t._instance;
            (t._instance = this), this.analyzeLocation();
          }
          return (
            f(t, [
              {
                key: 'analyzeLocation',
                value: function () {
                  var t = window.location.href;
                  if (window.top === window)
                    (this._location = P.OnPage), (this._topWin = window);
                  else {
                    this._topWin = window.top;
                    try {
                      var e;
                      null === (e = window.top) ||
                        void 0 === e ||
                        e.location.href,
                        (t = this._topWin.location.href),
                        (this._location = P.SameDomainFrame);
                    } catch (e) {
                      (this._location = P.CrossDomainFrame),
                        (t = window.document.referrer || window.location.href);
                    }
                  }
                  if (
                    window.location.ancestorOrigins &&
                    window.location.ancestorOrigins.length > 0
                  ) {
                    var n =
                      window.location.ancestorOrigins[
                        window.location.ancestorOrigins.length - 1
                      ];
                    new URL(n).hostname !== new URL(t).hostname && (t = n);
                  }
                  this._topRef = t;
                },
              },
              {
                key: 'topReferrer',
                get: function () {
                  return this._topRef;
                },
              },
              {
                key: 'topWindow',
                get: function () {
                  return this._topWin;
                },
              },
              {
                key: 'onPage',
                get: function () {
                  return this._location === P.OnPage;
                },
              },
              {
                key: 'inCrossDomainFrame',
                get: function () {
                  return this._location === P.CrossDomainFrame;
                },
              },
              {
                key: 'inSameDomainFrame',
                get: function () {
                  return this._location === P.SameDomainFrame;
                },
              },
            ]),
            t
          );
        })();
        h(q, '_instance', void 0);
        var N,
          Q = function (t, e) {
            switch (null == t ? void 0 : t[e]) {
              case !0:
                return 1;
              case !1:
                return 0;
              default:
                return -1;
            }
          },
          G = {
            113: function (t) {
              var e =
                t && 'secondaryParams' in t
                  ? { secondaryParams: Boolean(t.secondaryParams) }
                  : t;
              return Q(e, 'secondaryParams');
            },
            115: function (t) {
              var e;
              return null !==
                (e = null == t ? void 0 : t.methodOfDeterminingVisibility) &&
                void 0 !== e
                ? e
                : -1;
            },
            116: function (t) {
              var e;
              return null !== (e = null == t ? void 0 : t.appID) && void 0 !== e
                ? e
                : -1;
            },
            117: function (t) {
              var e;
              return null !== (e = null == t ? void 0 : t.ifa) && void 0 !== e
                ? e
                : -1;
            },
            118: function (t) {
              var e;
              return null !== (e = null == t ? void 0 : t.sdkVersion) &&
                void 0 !== e
                ? e
                : -1;
            },
            119: function (t) {
              var e;
              return null !== (e = null == t ? void 0 : t.sdkName) &&
                void 0 !== e
                ? e
                : -1;
            },
            161: function (t) {
              var e;
              return null !== (e = null == t ? void 0 : t.width) && void 0 !== e
                ? e
                : -1;
            },
            162: function (t) {
              var e;
              return null !== (e = null == t ? void 0 : t.height) &&
                void 0 !== e
                ? e
                : -1;
            },
            163: function () {
              var t;
              return null !== (t = new q().topReferrer) && void 0 !== t
                ? t
                : -1;
            },
            165: function (t) {
              if (t && 'getViewablePercent' in t) {
                var e,
                  n =
                    null === (e = t.getViewablePercent) || void 0 === e
                      ? void 0
                      : e.call(t);
                if (x(n) && -1 != +n) return (+n).toFixed(1);
              }
              return -1;
            },
            168: function () {
              var t = new q();
              return t.onPage
                ? 1
                : t.inCrossDomainFrame
                ? 2
                : t.inSameDomainFrame
                ? 3
                : -1;
            },
            176: function (t) {
              return x(null == t ? void 0 : t.startTime)
                ? new Date().getTime() - t.startTime
                : -1;
            },
            177: function (t) {
              return Q(t, 'measurable');
            },
            213: function () {
              var t, e;
              return null !==
                (t =
                  null === (e = window) ||
                  void 0 === e ||
                  null === (e = e.location) ||
                  void 0 === e ||
                  null === (e = e.ancestorOrigins) ||
                  void 0 === e
                    ? void 0
                    : e.length) && void 0 !== t
                ? t
                : -1;
            },
            214: function () {
              var t, e;
              return null !==
                (t =
                  null === (e = window) ||
                  void 0 === e ||
                  null === (e = e.history) ||
                  void 0 === e
                    ? void 0
                    : e.length) && void 0 !== t
                ? t
                : -1;
            },
            215: function () {
              var t, e;
              return null !==
                (t =
                  null === (e = window) ||
                  void 0 === e ||
                  null === (e = e.navigator) ||
                  void 0 === e
                    ? void 0
                    : e.userAgent) && void 0 !== t
                ? t
                : -1;
            },
            216: function () {
              var t, e;
              return null !==
                (t =
                  null === (e = window) ||
                  void 0 === e ||
                  null === (e = e.screen) ||
                  void 0 === e
                    ? void 0
                    : e.width) && void 0 !== t
                ? t
                : -1;
            },
            217: function () {
              var t, e;
              return null !==
                (t =
                  null === (e = window) ||
                  void 0 === e ||
                  null === (e = e.screen) ||
                  void 0 === e
                    ? void 0
                    : e.height) && void 0 !== t
                ? t
                : -1;
            },
            218: function (t) {
              return Q(t, 'isFullscreenMode');
            },
            226: function () {
              return D(t)
                ? (function (t, e) {
                    var n = e instanceof Window ? e : window,
                      r = (O(t) ? t : n.navigator.userAgent).toLowerCase(),
                      i = n.navigator.standalone,
                      o = /safari/.test(r),
                      a = /iphone|ipod|ipad/.test(r),
                      s = r.includes('wv'),
                      u = Boolean(
                        r.match(
                          /(WebView|Android.*(wv|.0.0.0)|Linux; U; Android)/gi
                        )
                      );
                    return (a && !i && !o) || s || u;
                  })()
                  ? 3
                  : 2
                : 1;
              var t;
            },
            227: function (t) {
              return Q(t, 'absoluteVisible');
            },
          },
          Z = (function () {
            function t(e) {
              if (
                (c(this, t),
                h(this, 'context', void 0),
                h(this, 'collectedCustoms', void 0),
                h(this, 'customMap', void 0),
                L(e))
              ) {
                if (
                  !Object.entries(e).some(function (t) {
                    var e = g(t, 2),
                      n = e[0],
                      r = e[1];
                    return x(+n) && 'function' == typeof r;
                  })
                )
                  throw new TypeError('CustomCollector: invalid custom map.');
                this.customMap = e;
              } else this.customMap = G;
              this.collectedCustoms = {};
            }
            return (
              f(t, [
                {
                  key: 'collectFrom',
                  value: function (t) {
                    if (!L(t))
                      throw new TypeError(
                        'CustomCollector: the context must be an object.'
                      );
                    if (M(t))
                      throw new TypeError(
                        'CustomCollector: empty context was passed.'
                      );
                    return (this.context = t), this;
                  },
                },
                {
                  key: 'collect',
                  value: function (t) {
                    if (!Array.isArray(t))
                      throw new TypeError(
                        'CustomCollector: there is no custom list.'
                      );
                    if (!this.context)
                      throw new Error('CustomCollector: missing context.');
                    var e,
                      n = E(t);
                    try {
                      for (n.s(); !(e = n.n()).done; ) {
                        var r,
                          i = e.value;
                        x(i) &&
                          (this.collectedCustoms[i] =
                            null !==
                              (r =
                                'function' == typeof this.customMap[i]
                                  ? this.customMap[i](this.context)
                                  : null) && void 0 !== r
                              ? r
                              : -1);
                      }
                    } catch (t) {
                      n.e(t);
                    } finally {
                      n.f();
                    }
                    return this;
                  },
                },
                {
                  key: 'clear',
                  value: function () {
                    for (var t in this.collectedCustoms)
                      delete this.collectedCustoms[t];
                    return this;
                  },
                },
                {
                  key: 'toString',
                  value: function () {
                    return B(this.collectedCustoms, ';');
                  },
                },
              ]),
              t
            );
          })(),
          $ = function (t, e, n) {
            if ((V(t) || t instanceof SVGElement) && L(e))
              for (var r in e) {
                var i = x(e[r]) ? String(e[r]) : e[r];
                O(i) && !_(i) && n(t, r, i);
              }
          },
          X = function (t, e) {
            return $(t, e, function (t, e, n) {
              return t.style.setProperty(e, n);
            });
          },
          Y = 'webkitDisplayingFullscreen',
          J = 'webkitEnterFullscreen',
          K = 'webkitExitFullscreen';
        !(function (t) {
          (t.Webkit = 'webkit'),
            (t.Moz = 'moz'),
            (t.Ms = 'ms'),
            (t.Web = 'web'),
            (t.DisabledWebkit = 'webkit_ios'),
            (t.Unknown = 'unknown');
        })(N || (N = {}));
        var tt,
          et = h(
            h(
              h(
                h({}, N.Webkit, {
                  fullscreenEnabled: 'webkitFullscreenEnabled',
                  fullscreenElement: 'webkitFullscreenElement',
                  requestFullscreen: 'webkitRequestFullscreen',
                  exitFullscreen: 'webkitExitFullscreen',
                  fullscreenChangeEvent: 'webkitfullscreenchange',
                  fullscreenErrorEvent: 'webkitfullscreenerror',
                  pseudoClass: '-webkit-full-screen',
                }),
                N.Moz,
                {
                  fullscreenEnabled: 'mozFullScreenEnabled',
                  fullscreenElement: 'mozFullScreenElement',
                  requestFullscreen: 'mozRequestFullScreen',
                  exitFullscreen: 'mozCancelFullScreen',
                  fullscreenChangeEvent: 'mozfullscreenchange',
                  fullscreenErrorEvent: 'mozfullscreenerror',
                  pseudoClass: '-moz-full-screen',
                }
              ),
              N.Ms,
              {
                fullscreenEnabled: 'msFullscreenEnabled',
                fullscreenElement: 'msFullscreenElement',
                requestFullscreen: 'msRequestFullscreen',
                exitFullscreen: 'msExitFullscreen',
                fullscreenChangeEvent: 'MSFullscreenChange',
                fullscreenErrorEvent: 'MSFullscreenError',
                pseudoClass: '-ms-fullscreen',
              }
            ),
            N.Web,
            {
              fullscreenEnabled: 'fullscreenEnabled',
              fullscreenElement: 'fullscreenElement',
              requestFullscreen: 'requestFullscreen',
              exitFullscreen: 'exitFullscreen',
              fullscreenChangeEvent: 'fullscreenchange',
              fullscreenErrorEvent: 'fullscreenerror',
              pseudoClass: 'fullscreen',
            }
          ),
          nt = function () {
            if (!tt)
              if (et[N.Web].fullscreenEnabled in window.document) tt = N.Web;
              else if (et[N.Webkit].fullscreenEnabled in window.document)
                tt = N.Webkit;
              else if (et[N.Moz].fullscreenEnabled in window.document)
                tt = N.Moz;
              else if (et[N.Ms].fullscreenEnabled in window.document) tt = N.Ms;
              else {
                var t = document.createElement('video');
                tt = Y in t ? N.DisabledWebkit : N.Unknown;
              }
            return tt;
          },
          rt = function (t, e) {
            var n = nt(),
              r = I(e) ? e : window.document;
            if (n === N.Unknown) return null;
            if (null != t && !V(t)) return null;
            if (A(t, HTMLVideoElement)) {
              var i, o;
              if (n === N.Webkit && Y in t)
                return null !== (i = t[Y]) && void 0 !== i ? i : null;
              if (n === N.DisabledWebkit && Y in t)
                return null !== (o = t[Y]) && void 0 !== o ? o : null;
            }
            return n === N.DisabledWebkit
              ? !t &&
                  (et.web.fullscreenElement in r
                    ? Boolean(r[et[N.Web].fullscreenElement])
                    : null)
              : t
              ? et[n].fullscreenElement in r
                ? r[et[n].fullscreenElement] === t
                : null
              : et[n].fullscreenElement in r
              ? Boolean(r[et[n].fullscreenElement])
              : null;
          },
          it = (function () {
            function t(e) {
              var n =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : 0;
              c(this, t),
                h(this, 'timeoutId', void 0),
                h(this, 'timeout', void 0),
                h(this, 'cb', void 0),
                h(this, 'shouldContinue', void 0),
                (this.cb = e),
                (this.timeoutId = null),
                (this.timeout = x(n) && n >= 0 ? n : 0),
                (this.shouldContinue = !1);
            }
            return (
              f(t, [
                {
                  key: 'loopIteration',
                  value: function () {
                    this.shouldContinue &&
                      (this.cb(),
                      (this.timeoutId = setTimeout(
                        this.loopIteration.bind(this),
                        this.timeout
                      )));
                  },
                },
                {
                  key: 'start',
                  value: function () {
                    null === this.timeoutId &&
                      ((this.shouldContinue = !0), this.loopIteration());
                  },
                },
                {
                  key: 'stop',
                  value: function () {
                    null !== this.timeoutId &&
                      (clearTimeout(this.timeoutId),
                      (this.shouldContinue = !1),
                      (this.timeoutId = null));
                  },
                },
              ]),
              t
            );
          })(),
          ot = (function () {
            var t = u(
              i().mark(function t(e) {
                var n;
                return i().wrap(function (t) {
                  for (;;)
                    switch ((t.prev = t.next)) {
                      case 0:
                        if (e) {
                          t.next = 2;
                          break;
                        }
                        return t.abrupt('return', !1);
                      case 2:
                        if (((n = nt()), !rt(e, e.ownerDocument))) {
                          t.next = 6;
                          break;
                        }
                        return t.abrupt('return', !0);
                      case 6:
                        if (n !== N.Unknown) {
                          t.next = 8;
                          break;
                        }
                        return t.abrupt('return', null);
                      case 8:
                        if (n !== N.DisabledWebkit) {
                          t.next = 18;
                          break;
                        }
                        if (A(e, HTMLVideoElement)) {
                          t.next = 11;
                          break;
                        }
                        return t.abrupt('return', !1);
                      case 11:
                        if (!(J in e)) {
                          t.next = 15;
                          break;
                        }
                        e[J](), (t.next = 16);
                        break;
                      case 15:
                      case 22:
                        return t.abrupt('return', !1);
                      case 16:
                        t.next = 23;
                        break;
                      case 18:
                        if (!(et[n].requestFullscreen in e)) {
                          t.next = 22;
                          break;
                        }
                        e[et[n].requestFullscreen](), (t.next = 23);
                        break;
                      case 23:
                        return t.abrupt(
                          'return',
                          new Promise(function (t) {
                            var n = new it(function () {
                              var i = rt(e, e.ownerDocument);
                              !0 === i && (n.stop(), clearTimeout(r), t(i));
                            }, 100);
                            n.start();
                            var r = setTimeout(function () {
                              n.stop(), t(!1);
                            }, 1e3);
                          })
                        );
                      case 24:
                      case 'end':
                        return t.stop();
                    }
                }, t);
              })
            );
            return function (e) {
              return t.apply(this, arguments);
            };
          })(),
          at = (function () {
            var t = u(
              i().mark(function t(e, n) {
                var r, o, a;
                return i().wrap(function (t) {
                  for (;;)
                    switch ((t.prev = t.next)) {
                      case 0:
                        if (
                          ((r = nt()),
                          (o = I(n) ? n : window.document),
                          (a = rt(e, n)),
                          r !== N.Unknown && null !== a)
                        ) {
                          t.next = 5;
                          break;
                        }
                        return t.abrupt('return', null);
                      case 5:
                        if (a) {
                          t.next = 7;
                          break;
                        }
                        return t.abrupt('return', !0);
                      case 7:
                        if (r !== N.DisabledWebkit) {
                          t.next = 17;
                          break;
                        }
                        if (A(e, HTMLVideoElement)) {
                          t.next = 10;
                          break;
                        }
                        return t.abrupt('return', !1);
                      case 10:
                        if (!(K in e)) {
                          t.next = 14;
                          break;
                        }
                        e[K](), (t.next = 15);
                        break;
                      case 14:
                      case 25:
                        return t.abrupt('return', !1);
                      case 15:
                        t.next = 26;
                        break;
                      case 17:
                        if (!e || !(et[r].exitFullscreen in e)) {
                          t.next = 21;
                          break;
                        }
                        e[et[r].exitFullscreen](), (t.next = 26);
                        break;
                      case 21:
                        if (!(et[r].exitFullscreen in o)) {
                          t.next = 25;
                          break;
                        }
                        o[et[r].exitFullscreen](), (t.next = 26);
                        break;
                      case 26:
                        return t.abrupt(
                          'return',
                          new Promise(function (t) {
                            var n = new it(function () {
                              var i = rt(e, o);
                              !1 === i && (n.stop(), clearTimeout(r), t(!i));
                            }, 100);
                            n.start();
                            var r = setTimeout(function () {
                              n.stop(), t(!1);
                            }, 1e3);
                          })
                        );
                      case 27:
                      case 'end':
                        return t.stop();
                    }
                }, t);
              })
            );
            return function (e, n) {
              return t.apply(this, arguments);
            };
          })(),
          st = (function (e) {
            function n(e) {
              var r;
              c(this, n);
              var i = n.hasProtocol(e) ? e : 'https:' + e;
              return (
                h(y((r = t(this, n, [i]))), 'macrosList', []),
                Object.setPrototypeOf(y(r), n.prototype),
                r
              );
            }
            return (
              d(n, e),
              f(
                n,
                [
                  {
                    key: 'setMacros',
                    value: function (t, e) {
                      var n;
                      if (
                        ((e =
                          null === (n = e) || void 0 === n
                            ? void 0
                            : n.toString()),
                        O(t) && !_(t) && !_(e))
                      ) {
                        t = t.replace(/[^a-zA-Z0-9 ]/g, '');
                        var r = {
                          value: e,
                          template: new RegExp('\\!\\['.concat(t, '\\]')),
                        };
                        this.macrosList.push(r);
                      }
                      return this;
                    },
                  },
                  {
                    key: 'setRnd',
                    value: function () {
                      return this.setMacros('rnd', C(6)), this;
                    },
                  },
                  {
                    key: 'setParams',
                    value: function (t) {
                      if (L(t))
                        for (var e in t)
                          this.searchParams.set(e, t[e].toString());
                      return this;
                    },
                  },
                  {
                    key: 'toString',
                    value: function () {
                      var t,
                        e = decodeURIComponent(
                          b(p(n.prototype), 'toString', this).call(this)
                        ),
                        r = E(this.macrosList);
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          var i = t.value,
                            o = i.value,
                            a = i.template;
                          e = e.replace(a, o);
                        }
                      } catch (t) {
                        r.e(t);
                      } finally {
                        r.f();
                      }
                      return new URL(e).toString();
                    },
                  },
                  {
                    key: 'httpslize',
                    value: function () {
                      return (
                        'https:' !== this.protocol &&
                          (this.protocol = 'https:'),
                        this
                      );
                    },
                  },
                ],
                [
                  {
                    key: 'hasProtocol',
                    value: function (t) {
                      return /^(https|http):\/\/.+/.test(t);
                    },
                  },
                ]
              ),
              n
            );
          })(m(URL)),
          ut = (function () {
            function t() {
              c(this, t),
                h(this, 'eventMap', void 0),
                (this.eventMap = Object.create(null));
            }
            return (
              f(t, [
                {
                  key: 'subscribe',
                  value: function (t, e) {
                    O(t) &&
                      !_(t) &&
                      'function' == typeof e &&
                      (this.eventMap[t] || (this.eventMap[t] = []),
                      this.eventMap[t].push(e));
                  },
                },
                {
                  key: 'clear',
                  value: function () {
                    for (var t in this.eventMap) delete this.eventMap[t];
                  },
                },
                {
                  key: 'triggerEvent',
                  value: function (t) {
                    for (
                      var e = arguments.length,
                        n = new Array(e > 1 ? e - 1 : 0),
                        r = 1;
                      r < e;
                      r++
                    )
                      n[r - 1] = arguments[r];
                    O(t) &&
                      this.eventMap[t] &&
                      this.eventMap[t].forEach(function (t) {
                        return t.apply(void 0, n);
                      });
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (t, e) {
                    if (O(t) && Array.isArray(this.eventMap[t]))
                      if ('function' == typeof e)
                        for (
                          var n = this.eventMap[t].length, r = 0;
                          r < n;
                          r++
                        ) {
                          e === this.eventMap[t][r] &&
                            ((this.eventMap[t][r] = this.eventMap[t][n - 1]),
                            (this.eventMap[t].length -= 1));
                        }
                      else delete this.eventMap[t];
                  },
                },
              ]),
              t
            );
          })(),
          ct = (function () {
            function t(e) {
              var n = e.uri,
                r = e.options,
                i = e.timeout,
                o = e.requestCount;
              c(this, t),
                h(this, 'uri', void 0),
                h(this, 'options', void 0),
                h(this, 'timeout', void 0),
                h(this, 'requestCount', void 0),
                h(this, 'requestController', void 0),
                h(this, 'timeoutHandler', void 0),
                h(this, 'numberOfCalls', 0),
                (this.uri = n),
                L(r) ? (this.options = r) : (this.options = {}),
                x(i)
                  ? (this.timeout = i < 200 ? 200 : i)
                  : (this.timeout = 1e4),
                !x(o) || o < 1
                  ? (this.requestCount = 2)
                  : (this.requestCount = o);
            }
            return (
              f(t, [
                {
                  key: 'request',
                  value: function () {
                    var t = this;
                    try {
                      return (
                        (this.requestController = new AbortController()),
                        (this.timeoutHandler = setTimeout(function () {
                          return t.requestController.abort();
                        }, this.timeout)),
                        fetch(
                          this.uri,
                          r(
                            r({}, this.options),
                            {},
                            { signal: this.requestController.signal }
                          )
                        )
                          .then(function (e) {
                            return (
                              clearTimeout(t.timeoutHandler),
                              (t.requestController = void 0),
                              (t.timeoutHandler = void 0),
                              (t.numberOfCalls = 0),
                              e
                            );
                          })
                          .catch(function (e) {
                            if (
                              (clearTimeout(t.timeoutHandler),
                              (t.requestController = void 0),
                              (t.timeoutHandler = void 0),
                              t.numberOfCalls++,
                              t.numberOfCalls >= t.requestCount)
                            )
                              throw (
                                ((t.numberOfCalls = 0),
                                'AbortError' === e.name &&
                                  (e = new Error('Timeout error.')),
                                new Error('Fetcher: Error during request.'))
                              );
                            return t.request();
                          })
                      );
                    } catch (t) {
                      return Promise.reject(
                        new Error('Fetcher: Error when trying to request.')
                      );
                    }
                  },
                },
              ]),
              t
            );
          })();
        !(function () {
          if (
            'object' ===
            ('undefined' == typeof window ? 'undefined' : a(window))
          )
            if (
              'IntersectionObserver' in window &&
              'IntersectionObserverEntry' in window &&
              'intersectionRatio' in window.IntersectionObserverEntry.prototype
            )
              'isIntersecting' in window.IntersectionObserverEntry.prototype ||
                Object.defineProperty(
                  window.IntersectionObserverEntry.prototype,
                  'isIntersecting',
                  {
                    get: function () {
                      return this.intersectionRatio > 0;
                    },
                  }
                );
            else {
              var t = (function (t) {
                  for (var e = window.document, n = i(e); n; )
                    n = i((e = n.ownerDocument));
                  return e;
                })(),
                e = [],
                n = null,
                r = null;
              (s.prototype.THROTTLE_TIMEOUT = 100),
                (s.prototype.POLL_INTERVAL = null),
                (s.prototype.USE_MUTATION_OBSERVER = !0),
                (s._setupCrossOriginUpdater = function () {
                  return (
                    n ||
                      (n = function (t, n) {
                        (r =
                          t && n
                            ? h(t, n)
                            : {
                                top: 0,
                                bottom: 0,
                                left: 0,
                                right: 0,
                                width: 0,
                                height: 0,
                              }),
                          e.forEach(function (t) {
                            t._checkForIntersections();
                          });
                      }),
                    n
                  );
                }),
                (s._resetCrossOriginUpdater = function () {
                  (n = null), (r = null);
                }),
                (s.prototype.observe = function (t) {
                  if (
                    !this._observationTargets.some(function (e) {
                      return e.element == t;
                    })
                  ) {
                    if (!t || 1 != t.nodeType)
                      throw new Error('target must be an Element');
                    this._registerInstance(),
                      this._observationTargets.push({
                        element: t,
                        entry: null,
                      }),
                      this._monitorIntersections(t.ownerDocument),
                      this._checkForIntersections();
                  }
                }),
                (s.prototype.unobserve = function (t) {
                  (this._observationTargets = this._observationTargets.filter(
                    function (e) {
                      return e.element != t;
                    }
                  )),
                    this._unmonitorIntersections(t.ownerDocument),
                    0 == this._observationTargets.length &&
                      this._unregisterInstance();
                }),
                (s.prototype.disconnect = function () {
                  (this._observationTargets = []),
                    this._unmonitorAllIntersections(),
                    this._unregisterInstance();
                }),
                (s.prototype.takeRecords = function () {
                  var t = this._queuedEntries.slice();
                  return (this._queuedEntries = []), t;
                }),
                (s.prototype._initThresholds = function (t) {
                  var e = t || [0];
                  return (
                    Array.isArray(e) || (e = [e]),
                    e.sort().filter(function (t, e, n) {
                      if ('number' != typeof t || isNaN(t) || t < 0 || t > 1)
                        throw new Error(
                          'threshold must be a number between 0 and 1 inclusively'
                        );
                      return t !== n[e - 1];
                    })
                  );
                }),
                (s.prototype._parseRootMargin = function (t) {
                  var e = (t || '0px').split(/\s+/).map(function (t) {
                    var e = /^(-?\d*\.?\d+)(px|%)$/.exec(t);
                    if (!e)
                      throw new Error(
                        'rootMargin must be specified in pixels or percent'
                      );
                    return { value: parseFloat(e[1]), unit: e[2] };
                  });
                  return (
                    (e[1] = e[1] || e[0]),
                    (e[2] = e[2] || e[0]),
                    (e[3] = e[3] || e[1]),
                    e
                  );
                }),
                (s.prototype._monitorIntersections = function (e) {
                  var n = e.defaultView;
                  if (n && -1 == this._monitoringDocuments.indexOf(e)) {
                    var r = this._checkForIntersections,
                      o = null,
                      a = null;
                    this.POLL_INTERVAL
                      ? (o = n.setInterval(r, this.POLL_INTERVAL))
                      : (u(n, 'resize', r, !0),
                        u(e, 'scroll', r, !0),
                        this.USE_MUTATION_OBSERVER &&
                          'MutationObserver' in n &&
                          (a = new n.MutationObserver(r)).observe(e, {
                            attributes: !0,
                            childList: !0,
                            characterData: !0,
                            subtree: !0,
                          })),
                      this._monitoringDocuments.push(e),
                      this._monitoringUnsubscribes.push(function () {
                        var t = e.defaultView;
                        t && (o && t.clearInterval(o), c(t, 'resize', r, !0)),
                          c(e, 'scroll', r, !0),
                          a && a.disconnect();
                      });
                    var s =
                      (this.root && (this.root.ownerDocument || this.root)) ||
                      t;
                    if (e != s) {
                      var l = i(e);
                      l && this._monitorIntersections(l.ownerDocument);
                    }
                  }
                }),
                (s.prototype._unmonitorIntersections = function (e) {
                  var n = this._monitoringDocuments.indexOf(e);
                  if (-1 != n) {
                    var r =
                        (this.root && (this.root.ownerDocument || this.root)) ||
                        t,
                      o = this._observationTargets.some(function (t) {
                        var n = t.element.ownerDocument;
                        if (n == e) return !0;
                        for (; n && n != r; ) {
                          var o = i(n);
                          if ((n = o && o.ownerDocument) == e) return !0;
                        }
                        return !1;
                      });
                    if (!o) {
                      var a = this._monitoringUnsubscribes[n];
                      if (
                        (this._monitoringDocuments.splice(n, 1),
                        this._monitoringUnsubscribes.splice(n, 1),
                        a(),
                        e != r)
                      ) {
                        var s = i(e);
                        s && this._unmonitorIntersections(s.ownerDocument);
                      }
                    }
                  }
                }),
                (s.prototype._unmonitorAllIntersections = function () {
                  var t = this._monitoringUnsubscribes.slice(0);
                  (this._monitoringDocuments.length = 0),
                    (this._monitoringUnsubscribes.length = 0);
                  for (var e = 0; e < t.length; e++) t[e]();
                }),
                (s.prototype._checkForIntersections = function () {
                  if (this.root || !n || r) {
                    var t = this._rootIsInDom(),
                      e = t
                        ? this._getRootRect()
                        : {
                            top: 0,
                            bottom: 0,
                            left: 0,
                            right: 0,
                            width: 0,
                            height: 0,
                          };
                    this._observationTargets.forEach(function (r) {
                      var i = r.element,
                        a = l(i),
                        s = this._rootContainsTarget(i),
                        u = r.entry,
                        c =
                          t &&
                          s &&
                          this._computeTargetAndRootIntersection(i, a, e),
                        f = null;
                      this._rootContainsTarget(i)
                        ? (n && !this.root) || (f = e)
                        : (f = {
                            top: 0,
                            bottom: 0,
                            left: 0,
                            right: 0,
                            width: 0,
                            height: 0,
                          });
                      var h = (r.entry = new o({
                        time:
                          window.performance &&
                          performance.now &&
                          performance.now(),
                        target: i,
                        boundingClientRect: a,
                        rootBounds: f,
                        intersectionRect: c,
                      }));
                      u
                        ? t && s
                          ? this._hasCrossedThreshold(u, h) &&
                            this._queuedEntries.push(h)
                          : u && u.isIntersecting && this._queuedEntries.push(h)
                        : this._queuedEntries.push(h);
                    }, this),
                      this._queuedEntries.length &&
                        this._callback(this.takeRecords(), this);
                  }
                }),
                (s.prototype._computeTargetAndRootIntersection = function (
                  e,
                  i,
                  o
                ) {
                  if ('none' != window.getComputedStyle(e).display) {
                    for (
                      var a, s, u, c, f, d, v, m, y = i, b = p(e), g = !1;
                      !g && b;

                    ) {
                      var w = null,
                        k = 1 == b.nodeType ? window.getComputedStyle(b) : {};
                      if ('none' == k.display) return null;
                      if (b == this.root || 9 == b.nodeType)
                        if (((g = !0), b == this.root || b == t))
                          n && !this.root
                            ? !r || (0 == r.width && 0 == r.height)
                              ? ((b = null), (w = null), (y = null))
                              : (w = r)
                            : (w = o);
                        else {
                          var S = p(b),
                            E = S && l(S),
                            T =
                              S &&
                              this._computeTargetAndRootIntersection(S, E, o);
                          E && T
                            ? ((b = S), (w = h(E, T)))
                            : ((b = null), (y = null));
                        }
                      else {
                        var P = b.ownerDocument;
                        b != P.body &&
                          b != P.documentElement &&
                          'visible' != k.overflow &&
                          (w = l(b));
                      }
                      if (
                        (w &&
                          ((a = w),
                          (s = y),
                          (u = void 0),
                          (c = void 0),
                          (f = void 0),
                          (d = void 0),
                          (v = void 0),
                          (m = void 0),
                          (u = Math.max(a.top, s.top)),
                          (c = Math.min(a.bottom, s.bottom)),
                          (f = Math.max(a.left, s.left)),
                          (d = Math.min(a.right, s.right)),
                          (m = c - u),
                          (y =
                            ((v = d - f) >= 0 &&
                              m >= 0 && {
                                top: u,
                                bottom: c,
                                left: f,
                                right: d,
                                width: v,
                                height: m,
                              }) ||
                            null)),
                        !y)
                      )
                        break;
                      b = b && p(b);
                    }
                    return y;
                  }
                }),
                (s.prototype._getRootRect = function () {
                  var e;
                  if (this.root && !v(this.root)) e = l(this.root);
                  else {
                    var n = v(this.root) ? this.root : t,
                      r = n.documentElement,
                      i = n.body;
                    e = {
                      top: 0,
                      left: 0,
                      right: r.clientWidth || i.clientWidth,
                      width: r.clientWidth || i.clientWidth,
                      bottom: r.clientHeight || i.clientHeight,
                      height: r.clientHeight || i.clientHeight,
                    };
                  }
                  return this._expandRectByRootMargin(e);
                }),
                (s.prototype._expandRectByRootMargin = function (t) {
                  var e = this._rootMarginValues.map(function (e, n) {
                      return 'px' == e.unit
                        ? e.value
                        : (e.value * (n % 2 ? t.width : t.height)) / 100;
                    }),
                    n = {
                      top: t.top - e[0],
                      right: t.right + e[1],
                      bottom: t.bottom + e[2],
                      left: t.left - e[3],
                    };
                  return (
                    (n.width = n.right - n.left),
                    (n.height = n.bottom - n.top),
                    n
                  );
                }),
                (s.prototype._hasCrossedThreshold = function (t, e) {
                  var n = t && t.isIntersecting ? t.intersectionRatio || 0 : -1,
                    r = e.isIntersecting ? e.intersectionRatio || 0 : -1;
                  if (n !== r)
                    for (var i = 0; i < this.thresholds.length; i++) {
                      var o = this.thresholds[i];
                      if (o == n || o == r || o < n != o < r) return !0;
                    }
                }),
                (s.prototype._rootIsInDom = function () {
                  return !this.root || d(t, this.root);
                }),
                (s.prototype._rootContainsTarget = function (e) {
                  var n =
                    (this.root && (this.root.ownerDocument || this.root)) || t;
                  return d(n, e) && (!this.root || n == e.ownerDocument);
                }),
                (s.prototype._registerInstance = function () {
                  e.indexOf(this) < 0 && e.push(this);
                }),
                (s.prototype._unregisterInstance = function () {
                  var t = e.indexOf(this);
                  -1 != t && e.splice(t, 1);
                }),
                (window.IntersectionObserver = s),
                (window.IntersectionObserverEntry = o);
            }
          function i(t) {
            try {
              return (t.defaultView && t.defaultView.frameElement) || null;
            } catch (t) {
              return null;
            }
          }
          function o(t) {
            (this.time = t.time),
              (this.target = t.target),
              (this.rootBounds = f(t.rootBounds)),
              (this.boundingClientRect = f(t.boundingClientRect)),
              (this.intersectionRect = f(
                t.intersectionRect || {
                  top: 0,
                  bottom: 0,
                  left: 0,
                  right: 0,
                  width: 0,
                  height: 0,
                }
              )),
              (this.isIntersecting = !!t.intersectionRect);
            var e = this.boundingClientRect,
              n = e.width * e.height,
              r = this.intersectionRect,
              i = r.width * r.height;
            this.intersectionRatio = n
              ? Number((i / n).toFixed(4))
              : this.isIntersecting
              ? 1
              : 0;
          }
          function s(t, e) {
            var n,
              r,
              i,
              o = e || {};
            if ('function' != typeof t)
              throw new Error('callback must be a function');
            if (o.root && 1 != o.root.nodeType && 9 != o.root.nodeType)
              throw new Error('root must be a Document or Element');
            (this._checkForIntersections =
              ((n = this._checkForIntersections.bind(this)),
              (r = this.THROTTLE_TIMEOUT),
              (i = null),
              function () {
                i ||
                  (i = setTimeout(function () {
                    n(), (i = null);
                  }, r));
              })),
              (this._callback = t),
              (this._observationTargets = []),
              (this._queuedEntries = []),
              (this._rootMarginValues = this._parseRootMargin(o.rootMargin)),
              (this.thresholds = this._initThresholds(o.threshold)),
              (this.root = o.root || null),
              (this.rootMargin = this._rootMarginValues
                .map(function (t) {
                  return t.value + t.unit;
                })
                .join(' ')),
              (this._monitoringDocuments = []),
              (this._monitoringUnsubscribes = []);
          }
          function u(t, e, n, r) {
            'function' == typeof t.addEventListener
              ? t.addEventListener(e, n, r || !1)
              : 'function' == typeof t.attachEvent &&
                t.attachEvent('on' + e, n);
          }
          function c(t, e, n, r) {
            'function' == typeof t.removeEventListener
              ? t.removeEventListener(e, n, r || !1)
              : 'function' == typeof t.detachEvent &&
                t.detachEvent('on' + e, n);
          }
          function l(t) {
            var e;
            try {
              e = t.getBoundingClientRect();
            } catch (t) {}
            return e
              ? ((e.width && e.height) ||
                  (e = {
                    top: e.top,
                    right: e.right,
                    bottom: e.bottom,
                    left: e.left,
                    width: e.right - e.left,
                    height: e.bottom - e.top,
                  }),
                e)
              : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };
          }
          function f(t) {
            return !t || 'x' in t
              ? t
              : {
                  top: t.top,
                  y: t.top,
                  bottom: t.bottom,
                  left: t.left,
                  x: t.left,
                  right: t.right,
                  width: t.width,
                  height: t.height,
                };
          }
          function h(t, e) {
            var n = e.top - t.top,
              r = e.left - t.left;
            return {
              top: n,
              left: r,
              height: e.height,
              width: e.width,
              bottom: n + e.height,
              right: r + e.width,
            };
          }
          function d(t, e) {
            for (var n = e; n; ) {
              if (n == t) return !0;
              n = p(n);
            }
            return !1;
          }
          function p(e) {
            var n = e.parentNode;
            return 9 == e.nodeType && e != t
              ? i(e)
              : (n && n.assignedSlot && (n = n.assignedSlot.parentNode),
                n && 11 == n.nodeType && n.host ? n.host : n);
          }
          function v(t) {
            return t && 9 === t.nodeType;
          }
        })();
        var lt = (function (e) {
            function n(e, r) {
              var i;
              return (
                c(this, n),
                h(y((i = t(this, n, [e, r]))), 'elementsToObserve', []),
                Object.setPrototypeOf(y(i), n.prototype),
                i
              );
            }
            return (
              d(n, window.IntersectionObserver),
              f(n, [
                {
                  key: 'isObserved',
                  value: function (t) {
                    if (!V(t)) return !1;
                    var e,
                      n = E(this.elementsToObserve);
                    try {
                      for (n.s(); !(e = n.n()).done; ) {
                        if (e.value === t) return !0;
                      }
                    } catch (t) {
                      n.e(t);
                    } finally {
                      n.f();
                    }
                    return !1;
                  },
                },
                {
                  key: 'disconnect',
                  value: function () {
                    (this.elementsToObserve.length = 0),
                      b(p(n.prototype), 'disconnect', this).call(this);
                  },
                },
                {
                  key: 'observe',
                  value: function (t) {
                    b(p(n.prototype), 'observe', this).call(this, t),
                      this.isObserved(t) || this.elementsToObserve.push(t);
                  },
                },
                {
                  key: 'unobserve',
                  value: function (t) {
                    if (!V(t))
                      throw new Error('Target must be an html element');
                    b(p(n.prototype), 'unobserve', this).call(this, t);
                    var e = this.elementsToObserve.findIndex(function (e) {
                      return e === t;
                    });
                    -1 !== e &&
                      ((this.elementsToObserve[e] =
                        this.elementsToObserve[
                          this.elementsToObserve.length - 1
                        ]),
                      this.elementsToObserve.pop());
                  },
                },
              ]),
              n
            );
          })(),
          ft = {
            position: 'absolute',
            display: 'none',
            width: '0px',
            height: '0px',
          },
          ht = (function () {
            function t(e, n) {
              if (
                (c(this, t),
                h(this, 'url', void 0),
                h(this, 'element', void 0),
                O(e) && _(e))
              )
                throw new Error('Pixel: url should not be an empty.');
              if (!O(e)) throw new Error('Pixel: url must be a string.');
              (this.url = e),
                n instanceof Document
                  ? (this.element = n.body)
                  : n instanceof HTMLElement
                  ? (this.element = n)
                  : (this.element = document.body);
            }
            return (
              f(t, [
                {
                  key: 'send',
                  value: function () {
                    var t = this;
                    return new Promise(function (e, n) {
                      var r = document.createElement('img');
                      X(r, ft),
                        r.setAttribute(
                          'referrerpolicy',
                          'no-referrer-when-downgrade'
                        ),
                        r.setAttribute('src', t.url);
                      var i = setTimeout(function () {
                          r.removeEventListener('load', o),
                            r.removeEventListener('error', o),
                            n(new Error('Pixel: TimeOut error.'));
                        }, 1e4),
                        o = function (t) {
                          clearTimeout(i),
                            'error' === t.type
                              ? n(new Error('Pixel: Img error loading.'))
                              : e(t);
                        };
                      r.addEventListener('load', o),
                        r.addEventListener('error', o),
                        t.element.append(r);
                    });
                  },
                },
              ]),
              t
            );
          })(),
          dt = (function () {
            function t(e, n, r) {
              if (
                (c(this, t),
                h(this, 'uri', void 0),
                h(this, 'parent', void 0),
                h(this, 'timeOut', void 0),
                h(this, 'scriptElement', void 0),
                !O(e))
              )
                throw new Error('ScriptLoader: The url must be a string.');
              if (_(e))
                throw new Error(
                  'ScriptLoader: The url parameter cannot be an empty string.'
                );
              (this.timeOut =
                x(r) &&
                (function (t) {
                  if (!x(t)) throw new Error(''.concat(t, ' is not a number'));
                  return t >= 0;
                })(r)
                  ? r
                  : 5e3),
                (this.scriptElement = document.createElement('script')),
                (this.uri = e),
                I(n) && V(n.head)
                  ? (this.parent = n.head)
                  : V(n) && 1 === (null == n ? void 0 : n.nodeType)
                  ? (this.parent = n)
                  : (this.parent = document.head);
            }
            return (
              f(t, [
                {
                  key: 'removeScriptElement',
                  value: function () {
                    this.scriptElement.remove();
                  },
                },
                {
                  key: 'load',
                  value: function () {
                    var t = this;
                    return new Promise(function (e, n) {
                      t.scriptElement.setAttribute('src', t.uri);
                      var r = setTimeout(function () {
                          t.scriptElement.removeEventListener('load', i),
                            t.scriptElement.removeEventListener('error', i),
                            t.scriptElement.remove(),
                            n(new Error('TimeOut error.'));
                        }, t.timeOut),
                        i = function (i) {
                          clearTimeout(r),
                            'error' === i.type
                              ? (t.scriptElement.remove(),
                                n(new Error('Script error loading.')))
                              : e(!0);
                        };
                      t.scriptElement.addEventListener('load', i, { once: !0 }),
                        t.scriptElement.addEventListener('error', i, {
                          once: !0,
                        }),
                        t.parent.append(t.scriptElement);
                    });
                  },
                },
                {
                  key: 'setAttributes',
                  value: function (t) {
                    return (
                      (function (t, e) {
                        $(t, e, function (t, e, n) {
                          return t.setAttribute(e, n);
                        });
                      })(this.scriptElement, t),
                      this
                    );
                  },
                },
              ]),
              t
            );
          })(),
          pt = (function () {
            function t() {
              c(this, t),
                h(this, 'audio', void 0),
                h(this, 'timeoutId', void 0),
                h(this, 'checkProcess', void 0),
                (this.audio = new Audio()),
                (this.audio.volume = 1),
                (this.timeoutId = null),
                (this.checkProcess = null);
            }
            return (
              f(t, [
                {
                  key: 'check',
                  value: function () {
                    var e = this;
                    return !0 === t.resoultCheck
                      ? Promise.resolve(t.resoultCheck)
                      : (this.checkProcess ||
                          (this.checkProcess = new Promise(function (n) {
                            var r = function () {
                              e.timeoutId && clearTimeout(e.timeoutId),
                                (t.resoultCheck = !0),
                                (e.checkProcess = null),
                                n(!0);
                            };
                            e.audio.addEventListener('play', r);
                            var i = e.audio.play();
                            void 0 !== i
                              ? i.catch(function () {
                                  e.audio.removeEventListener('play', r),
                                    (e.checkProcess = null),
                                    n(!1);
                                })
                              : (e.timeoutId = setTimeout(function () {
                                  e.audio.removeEventListener('play', r),
                                    (e.checkProcess = null),
                                    n(!1);
                                }, 500));
                          })),
                        this.checkProcess);
                  },
                },
              ]),
              t
            );
          })();
        h(pt, 'resoultCheck', !1);
        var vt = {
            method: 'GET',
            mode: 'cors',
            credentials: 'include',
            referrerPolicy: 'no-referrer-when-downgrade',
          },
          mt = (function () {
            function t(e) {
              c(this, t), h(this, 'chwl', void 0), (this.chwl = e);
            }
            var e;
            return (
              f(t, [
                {
                  key: 'check',
                  value:
                    ((e = u(
                      i().mark(function t() {
                        var e, n, r, o;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  return (
                                    (e = new st(
                                      'https://ev.adriver.ru/cgi-bin/json.cgi'
                                    )
                                      .setParams({
                                        ad: this.chwl,
                                        bt: 21,
                                        sid: 1,
                                        tuid: 1,
                                        rnd: C(6),
                                        tail256: new q().topReferrer,
                                      })
                                      .toString()),
                                    (n = new ct({ uri: e, options: vt })),
                                    (t.prev = 2),
                                    (t.next = 5),
                                    n.request()
                                  );
                                case 5:
                                  if ((r = t.sent).ok) {
                                    t.next = 8;
                                    break;
                                  }
                                  throw new Error(
                                    'Error while executing chwl request'
                                  );
                                case 8:
                                  return (t.next = 10), r.json();
                                case 10:
                                  if ((o = t.sent).chwl) {
                                    t.next = 13;
                                    break;
                                  }
                                  throw new Error('Missing or empty chwl');
                                case 13:
                                  return t.abrupt('return', '0' !== o.chwl);
                                case 16:
                                  return (
                                    (t.prev = 16),
                                    (t.t0 = t.catch(2)),
                                    console.error(t.t0),
                                    t.abrupt('return', !1)
                                  );
                                case 20:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this,
                          [[2, 16]]
                        );
                      })
                    )),
                    function () {
                      return e.apply(this, arguments);
                    }),
                },
              ]),
              t
            );
          })(),
          yt = new DOMParser().parseFromString(
            '\n  <svg class="svg" xmlns="http://www.w3.org/2000/svg" width="100" height="15" viewBox="0 0 199 29">\n        <g fill="#575757" fill-rule="evenodd" transform="translate(0 -1)">\n        <polygon points="146.286 10.635 168.232 10.635 168.232 4.682 146.286 4.682"></polygon>\n        <polygon points="146.286 19.785 168.232 19.785 168.232 14.09 146.286 14.09"></polygon>\n        <polygon points="146.285 29.192 168.232 29.192 168.232 23.239 146.285 23.239"></polygon>\n        <path d="M43.2576 23.4976L49.2566 23.4976C52.6646 23.4976 55.1496 20.3616 55.1496 16.9376 55.1496 13.5136 53.0736 10.3416 49.2566 10.3416L43.2576 10.3416 43.2576 23.4976zM36.1686 29.1926L36.1686 4.6826 49.2566 4.6826C57.2136 4.6826 62.2236 9.8326 62.2236 16.9376 62.2236 24.0426 57.3476 29.1926 49.2566 29.1926L36.1686 29.1926zM75.7517 13.272L84.7507 13.272C86.5687 13.272 87.7497 11.904 87.7497 10.268 87.7497 8.632 86.7947 7.273 84.7507 7.273L75.7517 7.273 75.7517 13.272zM68.2527 1L85.7047 1C91.5667 1 94.9757 5.56 94.9757 10.268 94.9757 13.774 92.8127 17.214 89.7947 18.316L95.0057 29.192 87.4007 29.192 82.5387 18.998 75.7517 18.998 75.7517 29.192 68.2527 29.192 68.2527 1z"></path>\n        <polygon points="101.572 29.192 108.883 29.192 108.883 4.682 101.572 4.682"></polygon>\n        <polygon points="142.818 4.683 131.087 29.193 124.055 29.193 112.323 4.683 119.824 4.683 127.453 20.899 127.688 20.899 135.317 4.683"></polygon>\n        <path d="M189.3674 15.2173C191.1964 15.2173 192.1394 14.0803 192.1394 12.8113 192.1394 11.5423 191.2634 10.3933 189.3674 10.3933L181.6414 10.3933 181.6414 15.2173 189.3674 15.2173zM174.5524 4.6823L189.3674 4.6823C195.5044 4.6823 198.9014 8.0033 198.9564 12.8113 199.0024 16.8033 196.5064 18.9043 194.4574 19.8013 194.5944 19.8013 199.0024 29.1923 199.0024 29.1923L191.5494 29.1923 187.5304 20.9063 181.5054 20.9063 181.5054 29.1923 174.5524 29.1923 174.5524 4.6823zM12.1892 19.1655L16.0312 9.8635 19.8692 19.1655 12.1892 19.1655zM19.1102.9995L12.9522.9995.000200000002 29.1925 8.0432 29.1925 10.0892 24.8605 21.9732 24.8605 24.0192 29.1925 32.0632 29.1925 19.1102.9995z"></path>\n        </g>\n    </svg>\n',
            'image/svg+xml'
          ).firstChild,
          bt = (function () {
            function t(e) {
              var n = e.styles;
              c(this, t),
                h(this, 'style', void 0),
                (this.style = document.createElement('style')),
                (this.style.textContent = n);
            }
            return (
              f(t, [
                {
                  key: 'insertInto',
                  value: function (t) {
                    this.style.isConnected || t.append(this.style);
                  },
                },
              ]),
              t
            );
          })(),
          gt = {
            position: 'absolute',
            display: 'flex',
            'flex-direction': 'column',
            'justify-content': 'center',
            'align-items': 'center',
            'z-index': '3',
            width: '100%',
            height: '100%',
            'background-color': 'rgb(29, 29, 29)',
          },
          wt = {
            width: '110px',
            height: '2px',
            'background-color': '#575757',
            position: 'relative',
            overflow: 'hidden',
            'margin-top': '5px',
          },
          kt = {
            position: 'absolute',
            height: '100%',
            'background-color': '#bfbfbf',
            animation: 'loaderAnimation 2s linear infinite',
          },
          St = (function () {
            function t() {
              c(this, t),
                h(this, 'wrapper', void 0),
                (this.wrapper = document.createElement('div'));
              var e = document.createElement('div'),
                n = document.createElement('div');
              X(this.wrapper, gt),
                X(e, wt),
                X(n, kt),
                e.append(n),
                this.wrapper.append(yt),
                this.wrapper.append(e),
                new bt({
                  styles:
                    '\n    @keyframes loaderAnimation {\n        0% { left: 0; width: 0%; }\n        50% { left: 0; width: 100%; }\n        99.9% { left: 100%; width: 100%; }\n        100% { left: 100%; width: 0; }\n    }\n',
                }).insertInto(this.wrapper);
            }
            return (
              f(t, [
                {
                  key: 'insertInto',
                  value: function (t) {
                    t.append(this.wrapper);
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    this.wrapper.remove();
                  },
                },
              ]),
              t
            );
          })(),
          Et = (function () {
            function t(e) {
              c(this, t),
                h(this, 'sources', void 0),
                h(this, 'currentIndex', void 0),
                (this.sources = e),
                (this.currentIndex = 0);
            }
            return (
              f(t, [
                {
                  key: 'filter',
                  value: function () {
                    this.sources = this.sources.filter(function (t) {
                      return Boolean(t.source);
                    });
                  },
                },
                {
                  key: 'sort',
                  value: function () {
                    this.sources.sort(function (t, e) {
                      return 'adriver' === t.system && 'adriver' !== e.system
                        ? -1
                        : 'adriver' !== t.system && 'adriver' === e.system
                        ? 1
                        : t.priority - e.priority;
                    });
                  },
                },
                {
                  key: 'getSource',
                  value: function () {
                    if (!this.hasSources()) return null;
                    var t = this.sources[this.currentIndex++],
                      e = t.source,
                      n = t.total;
                    return { source: e, total: n > 0 ? n : 1 / 0 };
                  },
                },
                {
                  key: 'hasSources',
                  value: function () {
                    return this.sources.length > this.currentIndex;
                  },
                },
              ]),
              t
            );
          })(),
          Tt = {
            989: function (t) {
              var e = (function (t) {
                var e,
                  n = Object.prototype,
                  r = n.hasOwnProperty,
                  i =
                    Object.defineProperty ||
                    function (t, e, n) {
                      t[e] = n.value;
                    },
                  o = 'function' == typeof Symbol ? Symbol : {},
                  s = o.iterator || '@@iterator',
                  u = o.asyncIterator || '@@asyncIterator',
                  c = o.toStringTag || '@@toStringTag';
                function l(t, e, n) {
                  return (
                    Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    }),
                    t[e]
                  );
                }
                try {
                  l({}, '');
                } catch (t) {
                  l = function (t, e, n) {
                    return (t[e] = n);
                  };
                }
                function f(t, e, n, r) {
                  var o = e && e.prototype instanceof b ? e : b,
                    a = Object.create(o.prototype),
                    s = new L(r || []);
                  return i(a, '_invoke', { value: A(t, n, s) }), a;
                }
                function h(t, e, n) {
                  try {
                    return { type: 'normal', arg: t.call(e, n) };
                  } catch (t) {
                    return { type: 'throw', arg: t };
                  }
                }
                t.wrap = f;
                var d = 'suspendedStart',
                  p = 'suspendedYield',
                  v = 'executing',
                  m = 'completed',
                  y = {};
                function b() {}
                function g() {}
                function w() {}
                var k = {};
                l(k, s, function () {
                  return this;
                });
                var S = Object.getPrototypeOf,
                  E = S && S(S(V([])));
                E && E !== n && r.call(E, s) && (k = E);
                var T = (w.prototype = b.prototype = Object.create(k));
                function P(t) {
                  ['next', 'throw', 'return'].forEach(function (e) {
                    l(t, e, function (t) {
                      return this._invoke(e, t);
                    });
                  });
                }
                function C(t, e) {
                  function n(i, o, s, u) {
                    var c = h(t[i], t, o);
                    if ('throw' !== c.type) {
                      var l = c.arg,
                        f = l.value;
                      return f && 'object' == a(f) && r.call(f, '__await')
                        ? e.resolve(f.__await).then(
                            function (t) {
                              n('next', t, s, u);
                            },
                            function (t) {
                              n('throw', t, s, u);
                            }
                          )
                        : e.resolve(f).then(
                            function (t) {
                              (l.value = t), s(l);
                            },
                            function (t) {
                              return n('throw', t, s, u);
                            }
                          );
                    }
                    u(c.arg);
                  }
                  var o;
                  i(this, '_invoke', {
                    value: function (t, r) {
                      function i() {
                        return new e(function (e, i) {
                          n(t, r, e, i);
                        });
                      }
                      return (o = o ? o.then(i, i) : i());
                    },
                  });
                }
                function A(t, n, r) {
                  var i = d;
                  return function (o, a) {
                    if (i === v)
                      throw new Error('Generator is already running');
                    if (i === m) {
                      if ('throw' === o) throw a;
                      return { value: e, done: !0 };
                    }
                    for (r.method = o, r.arg = a; ; ) {
                      var s = r.delegate;
                      if (s) {
                        var u = x(s, r);
                        if (u) {
                          if (u === y) continue;
                          return u;
                        }
                      }
                      if ('next' === r.method) r.sent = r._sent = r.arg;
                      else if ('throw' === r.method) {
                        if (i === d) throw ((i = m), r.arg);
                        r.dispatchException(r.arg);
                      } else 'return' === r.method && r.abrupt('return', r.arg);
                      i = v;
                      var c = h(t, n, r);
                      if ('normal' === c.type) {
                        if (((i = r.done ? m : p), c.arg === y)) continue;
                        return { value: c.arg, done: r.done };
                      }
                      'throw' === c.type &&
                        ((i = m), (r.method = 'throw'), (r.arg = c.arg));
                    }
                  };
                }
                function x(t, n) {
                  var r = n.method,
                    i = t.iterator[r];
                  if (i === e)
                    return (
                      (n.delegate = null),
                      ('throw' === r &&
                        t.iterator.return &&
                        ((n.method = 'return'),
                        (n.arg = e),
                        x(t, n),
                        'throw' === n.method)) ||
                        ('return' !== r &&
                          ((n.method = 'throw'),
                          (n.arg = new TypeError(
                            "The iterator does not provide a '" + r + "' method"
                          )))),
                      y
                    );
                  var o = h(i, t.iterator, n.arg);
                  if ('throw' === o.type)
                    return (
                      (n.method = 'throw'),
                      (n.arg = o.arg),
                      (n.delegate = null),
                      y
                    );
                  var a = o.arg;
                  return a
                    ? a.done
                      ? ((n[t.resultName] = a.value),
                        (n.next = t.nextLoc),
                        'return' !== n.method &&
                          ((n.method = 'next'), (n.arg = e)),
                        (n.delegate = null),
                        y)
                      : a
                    : ((n.method = 'throw'),
                      (n.arg = new TypeError(
                        'iterator result is not an object'
                      )),
                      (n.delegate = null),
                      y);
                }
                function O(t) {
                  var e = { tryLoc: t[0] };
                  1 in t && (e.catchLoc = t[1]),
                    2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
                    this.tryEntries.push(e);
                }
                function j(t) {
                  var e = t.completion || {};
                  (e.type = 'normal'), delete e.arg, (t.completion = e);
                }
                function L(t) {
                  (this.tryEntries = [{ tryLoc: 'root' }]),
                    t.forEach(O, this),
                    this.reset(!0);
                }
                function V(t) {
                  if (null != t) {
                    var n = t[s];
                    if (n) return n.call(t);
                    if ('function' == typeof t.next) return t;
                    if (!isNaN(t.length)) {
                      var i = -1,
                        o = function n() {
                          for (; ++i < t.length; )
                            if (r.call(t, i))
                              return (n.value = t[i]), (n.done = !1), n;
                          return (n.value = e), (n.done = !0), n;
                        };
                      return (o.next = o);
                    }
                  }
                  throw new TypeError(a(t) + ' is not iterable');
                }
                return (
                  (g.prototype = w),
                  i(T, 'constructor', { value: w, configurable: !0 }),
                  i(w, 'constructor', { value: g, configurable: !0 }),
                  (g.displayName = l(w, c, 'GeneratorFunction')),
                  (t.isGeneratorFunction = function (t) {
                    var e = 'function' == typeof t && t.constructor;
                    return (
                      !!e &&
                      (e === g ||
                        'GeneratorFunction' === (e.displayName || e.name))
                    );
                  }),
                  (t.mark = function (t) {
                    return (
                      Object.setPrototypeOf
                        ? Object.setPrototypeOf(t, w)
                        : ((t.__proto__ = w), l(t, c, 'GeneratorFunction')),
                      (t.prototype = Object.create(T)),
                      t
                    );
                  }),
                  (t.awrap = function (t) {
                    return { __await: t };
                  }),
                  P(C.prototype),
                  l(C.prototype, u, function () {
                    return this;
                  }),
                  (t.AsyncIterator = C),
                  (t.async = function (e, n, r, i, o) {
                    void 0 === o && (o = Promise);
                    var a = new C(f(e, n, r, i), o);
                    return t.isGeneratorFunction(n)
                      ? a
                      : a.next().then(function (t) {
                          return t.done ? t.value : a.next();
                        });
                  }),
                  P(T),
                  l(T, c, 'Generator'),
                  l(T, s, function () {
                    return this;
                  }),
                  l(T, 'toString', function () {
                    return '[object Generator]';
                  }),
                  (t.keys = function (t) {
                    var e = Object(t),
                      n = [];
                    for (var r in e) n.push(r);
                    return (
                      n.reverse(),
                      function t() {
                        for (; n.length; ) {
                          var r = n.pop();
                          if (r in e) return (t.value = r), (t.done = !1), t;
                        }
                        return (t.done = !0), t;
                      }
                    );
                  }),
                  (t.values = V),
                  (L.prototype = {
                    constructor: L,
                    reset: function (t) {
                      if (
                        ((this.prev = 0),
                        (this.next = 0),
                        (this.sent = this._sent = e),
                        (this.done = !1),
                        (this.delegate = null),
                        (this.method = 'next'),
                        (this.arg = e),
                        this.tryEntries.forEach(j),
                        !t)
                      )
                        for (var n in this)
                          't' === n.charAt(0) &&
                            r.call(this, n) &&
                            !isNaN(+n.slice(1)) &&
                            (this[n] = e);
                    },
                    stop: function () {
                      this.done = !0;
                      var t = this.tryEntries[0].completion;
                      if ('throw' === t.type) throw t.arg;
                      return this.rval;
                    },
                    dispatchException: function (t) {
                      if (this.done) throw t;
                      var n = this;
                      function i(r, i) {
                        return (
                          (s.type = 'throw'),
                          (s.arg = t),
                          (n.next = r),
                          i && ((n.method = 'next'), (n.arg = e)),
                          !!i
                        );
                      }
                      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var a = this.tryEntries[o],
                          s = a.completion;
                        if ('root' === a.tryLoc) return i('end');
                        if (a.tryLoc <= this.prev) {
                          var u = r.call(a, 'catchLoc'),
                            c = r.call(a, 'finallyLoc');
                          if (u && c) {
                            if (this.prev < a.catchLoc)
                              return i(a.catchLoc, !0);
                            if (this.prev < a.finallyLoc)
                              return i(a.finallyLoc);
                          } else if (u) {
                            if (this.prev < a.catchLoc)
                              return i(a.catchLoc, !0);
                          } else {
                            if (!c)
                              throw new Error(
                                'try statement without catch or finally'
                              );
                            if (this.prev < a.finallyLoc)
                              return i(a.finallyLoc);
                          }
                        }
                      }
                    },
                    abrupt: function (t, e) {
                      for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                        var i = this.tryEntries[n];
                        if (
                          i.tryLoc <= this.prev &&
                          r.call(i, 'finallyLoc') &&
                          this.prev < i.finallyLoc
                        ) {
                          var o = i;
                          break;
                        }
                      }
                      o &&
                        ('break' === t || 'continue' === t) &&
                        o.tryLoc <= e &&
                        e <= o.finallyLoc &&
                        (o = null);
                      var a = o ? o.completion : {};
                      return (
                        (a.type = t),
                        (a.arg = e),
                        o
                          ? ((this.method = 'next'),
                            (this.next = o.finallyLoc),
                            y)
                          : this.complete(a)
                      );
                    },
                    complete: function (t, e) {
                      if ('throw' === t.type) throw t.arg;
                      return (
                        'break' === t.type || 'continue' === t.type
                          ? (this.next = t.arg)
                          : 'return' === t.type
                          ? ((this.rval = this.arg = t.arg),
                            (this.method = 'return'),
                            (this.next = 'end'))
                          : 'normal' === t.type && e && (this.next = e),
                        y
                      );
                    },
                    finish: function (t) {
                      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var n = this.tryEntries[e];
                        if (n.finallyLoc === t)
                          return (
                            this.complete(n.completion, n.afterLoc), j(n), y
                          );
                      }
                    },
                    catch: function (t) {
                      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var n = this.tryEntries[e];
                        if (n.tryLoc === t) {
                          var r = n.completion;
                          if ('throw' === r.type) {
                            var i = r.arg;
                            j(n);
                          }
                          return i;
                        }
                      }
                      throw new Error('illegal catch attempt');
                    },
                    delegateYield: function (t, n, r) {
                      return (
                        (this.delegate = {
                          iterator: V(t),
                          resultName: n,
                          nextLoc: r,
                        }),
                        'next' === this.method && (this.arg = e),
                        y
                      );
                    },
                  }),
                  t
                );
              })(t.exports);
              try {
                regeneratorRuntime = e;
              } catch (t) {
                'object' ==
                ('undefined' == typeof globalThis ? 'undefined' : a(globalThis))
                  ? (globalThis.regeneratorRuntime = e)
                  : Function('r', 'regeneratorRuntime = r')(e);
              }
            },
          },
          Pt = {};
        function Ct(t) {
          var e = Pt[t];
          if (void 0 !== e) return e.exports;
          var n = (Pt[t] = { exports: {} });
          return Tt[t](n, n.exports, Ct), n.exports;
        }
        (Ct.d = function (t, e) {
          for (var n in e)
            Ct.o(e, n) &&
              !Ct.o(t, n) &&
              Object.defineProperty(t, n, { enumerable: !0, get: e[n] });
        }),
          (Ct.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e);
          });
        var At = {};
        !(function () {
          function t(t) {
            return 'string' == typeof t;
          }
          Ct.d(At, {
            cc: function () {
              return Ri;
            },
            $W: function () {
              return Bi;
            },
            Ts: function () {
              return Di;
            },
          });
          var e =
              /^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,
            n = function (e) {
              var n =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : {};
              if (null != e.documentElement) return e.documentElement;
              var r = null;
              if (
                'undefined' == typeof DOMParser &&
                'undefined' != typeof ActiveXObject
              )
                return (
                  ((r = new ActiveXObject('Microsoft.XMLDOM')).async = !1),
                  r.loadXML(e),
                  r
                );
              try {
                r = (function (e, n) {
                  var r,
                    i,
                    o = new n();
                  try {
                    if (
                      ((r = o.parseFromString(e, 'application/xml')),
                      t((i = e)) && 0 === i.length)
                    )
                      throw new Error('empty string');
                    if (
                      (function (t, e) {
                        try {
                          var n = (void 0)
                            .parseFromString('INVALID', 'text/xml')
                            .getElementsByTagName(
                              'parsererror'
                            )[0].namespaceURI;
                          return 'http://www.w3.org/1999/xhtml' === n
                            ? t.getElementsByTagName('parsererror').length > 0
                            : t.getElementsByTagNameNS(n, 'parsererror')
                                .length > 0;
                        } catch (t) {}
                      })(r)
                    )
                      throw new Error('xml parse error');
                  } catch (t) {
                    throw new Error(
                      'Error: '.concat(t.message, ' from ').concat(e)
                    );
                  }
                  return r;
                })(e, n.DOMParser || DOMParser);
              } catch (t) {
                throw new Error('Unsupported Environment');
              }
              return r;
            };
          function r(t) {
            return (
              (r =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              r(t)
            );
          }
          function i(t) {
            var e = (function (t, e) {
              if ('object' != r(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var i = n.call(t, 'string');
                if ('object' != r(i)) return i;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == r(e) ? e : String(e);
          }
          var o = (function () {
            function t(e) {
              if (
                ((function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                e.documentElement)
              )
                return new t(e.documentElement);
              if (e.hasChildNodes()) {
                for (var n, r, i, o = '', a = 0; a < e.childNodes.length; a++)
                  3 == (((n = e.childNodes.item(a)).nodeType - 1) | 1)
                    ? (o += 3 === n.nodeType ? n.nodeValue.trim() : n.nodeValue)
                    : 1 === n.nodeType &&
                      ((r = u(n.nodeName)),
                      (i = new t(n)),
                      this.hasOwnProperty(r)
                        ? (this[r].constructor !== Array &&
                            (this[r] = [this[r]]),
                          this[r].push(i))
                        : (this[r] = i));
                o && (this.keyValue = s(o));
              }
              if (
                void 0 === e.hasAttributes
                  ? e.attributes.length > 0
                  : e.hasAttributes()
              )
                for (var c = 0; c < e.attributes.length; c++) {
                  var l = e.attributes.item(c);
                  this['@' + u(l.name)] = s(l.value.trim());
                }
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'attr',
                  value: function (t) {
                    return this['@' + u(t)];
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, i(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function s(n) {
            return /^\s*$/.test(n)
              ? null
              : /^(?:true|false)$/i.test(n)
              ? 'true' === n.toLowerCase()
              : isFinite(n)
              ? parseFloat(n)
              : (function (n) {
                  return (
                    (function (t) {
                      return 'number' == typeof t;
                    })(n) && (n += ''),
                    !!t(n) && e.test(n.trim())
                  );
                })(n)
              ? new Date(n)
              : n.trim();
          }
          function u(t) {
            return t.charAt(0).toLowerCase() + t.slice(1);
          }
          o.fromXML = function (t) {
            return [
              n(
                t,
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : {}
              ),
            ]
              .map(function (t) {
                return new o(t);
              })
              .shift();
          };
          var c = o,
            l = function (t) {
              return {
                to: function (e, n) {
                  return ((r = t),
                  '[object Array]' === Object.prototype.toString.call(r)
                    ? t
                    : [t])
                    .filter(function (t) {
                      return (function (t) {
                        return void 0 !== t;
                      })(t);
                    })
                    .map(function (t) {
                      return new e(t, n);
                    });
                  var r;
                },
              };
            };
          function f(t) {
            return (
              (f =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              f(t)
            );
          }
          function h(t) {
            var e = 'function' == typeof Map ? new Map() : void 0;
            return (
              (h = function (t) {
                if (
                  null === t ||
                  !(function (t) {
                    try {
                      return (
                        -1 !==
                        Function.toString.call(t).indexOf('[native code]')
                      );
                    } catch (e) {
                      return 'function' == typeof t;
                    }
                  })(t)
                )
                  return t;
                if ('function' != typeof t)
                  throw new TypeError(
                    'Super expression must either be null or a function'
                  );
                if (void 0 !== e) {
                  if (e.has(t)) return e.get(t);
                  e.set(t, n);
                }
                function n() {
                  return (function (t, e, n) {
                    if (d()) return Reflect.construct.apply(null, arguments);
                    var r = [null];
                    r.push.apply(r, e);
                    var i = new (t.bind.apply(t, r))();
                    return n && p(i, n.prototype), i;
                  })(t, arguments, v(this).constructor);
                }
                return (
                  (n.prototype = Object.create(t.prototype, {
                    constructor: {
                      value: n,
                      enumerable: !1,
                      writable: !0,
                      configurable: !0,
                    },
                  })),
                  p(n, t)
                );
              }),
              h(t)
            );
          }
          function d() {
            try {
              var t = !Boolean.prototype.valueOf.call(
                Reflect.construct(Boolean, [], function () {})
              );
            } catch (t) {}
            return (d = function () {
              return !!t;
            })();
          }
          function p(t, e) {
            return (
              (p = Object.setPrototypeOf
                ? Object.setPrototypeOf.bind()
                : function (t, e) {
                    return (t.__proto__ = e), t;
                  }),
              p(t, e)
            );
          }
          function v(t) {
            return (
              (v = Object.setPrototypeOf
                ? Object.getPrototypeOf.bind()
                : function (t) {
                    return t.__proto__ || Object.getPrototypeOf(t);
                  }),
              v(t)
            );
          }
          function m(t) {
            var e = (function (t, e) {
              if ('object' != f(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != f(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == f(e) ? e : String(e);
          }
          var y,
            b,
            g = (function (t) {
              function e(t) {
                var n, r, i, o;
                return (
                  (function (t, e) {
                    if (!(t instanceof e))
                      throw new TypeError('Cannot call a class as a function');
                  })(this, e),
                  (((r = this),
                  (i = e),
                  (o = [t]),
                  (i = v(i)),
                  (n = (function (t, e) {
                    if (e && ('object' === f(e) || 'function' == typeof e))
                      return e;
                    if (void 0 !== e)
                      throw new TypeError(
                        'Derived constructors may only return object or undefined'
                      );
                    return (function (t) {
                      if (void 0 === t)
                        throw new ReferenceError(
                          "this hasn't been initialised - super() hasn't been called"
                        );
                      return t;
                    })(t);
                  })(
                    r,
                    d()
                      ? Reflect.construct(i, o || [], v(r).constructor)
                      : i.apply(r, o)
                  ))).name = 'VAST ERROR'),
                  n
                );
              }
              var n, r;
              return (
                (function (t, e) {
                  if ('function' != typeof e && null !== e)
                    throw new TypeError(
                      'Super expression must either be null or a function'
                    );
                  (t.prototype = Object.create(e && e.prototype, {
                    constructor: { value: t, writable: !0, configurable: !0 },
                  })),
                    Object.defineProperty(t, 'prototype', { writable: !1 }),
                    e && p(t, e);
                })(e, t),
                (n = e),
                (r = [
                  {
                    key: 'inform',
                    value: function (t) {
                      e.errorMessage && console.error(t);
                    },
                  },
                  {
                    key: 'noAttribute',
                    value: function (t, n) {
                      var r = 'The element '
                        .concat(t, ' is missing an attribute ')
                        .concat(n, '.');
                      e.fatalError(r);
                    },
                  },
                  {
                    key: 'mutuallyExclusiveTags',
                    value: function () {
                      for (
                        var t = arguments.length, n = new Array(t), r = 0;
                        r < t;
                        r++
                      )
                        n[r] = arguments[r];
                      var i = 'Either '.concat(
                        n
                          .map(function (t) {
                            return '<'.concat(t, '>');
                          })
                          .join(' or '),
                        ' may be provided but not all together.'
                      );
                      e.fatalError(i);
                    },
                  },
                  {
                    key: 'requiredElements',
                    value: function (t, n) {
                      var r = 'The element '
                        .concat(t, ' must contain child ')
                        .concat(n.length > 1 ? 'elements' : 'element', ' ')
                        .concat(
                          n
                            .map(function (t) {
                              return '<'.concat(t, '>');
                            })
                            .join(' or '),
                          '.'
                        );
                      e.fatalError(r);
                    },
                  },
                  {
                    key: 'requestAbort',
                    value: function () {
                      var t = 'All requests were aborted. '.concat(
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : ''
                      );
                      return e.errorMessage && console.error(t), new e(t);
                    },
                  },
                  {
                    key: 'fatalError',
                    value: function (t) {
                      throw (
                        (e.errorMessage &&
                          console.error('VAST FATAL ERROR: '.concat(t)),
                        new e('VAST FATAL ERROR: '.concat(t)))
                      );
                    },
                  },
                ]),
                r &&
                  (function (t, e) {
                    for (var n = 0; n < e.length; n++) {
                      var r = e[n];
                      (r.enumerable = r.enumerable || !1),
                        (r.configurable = !0),
                        'value' in r && (r.writable = !0),
                        Object.defineProperty(t, m(r.key), r);
                    }
                  })(n, r),
                Object.defineProperty(n, 'prototype', { writable: !1 }),
                e
              );
            })(h(Error));
          (y = g),
            (b = m((b = 'errorMessage'))) in y
              ? Object.defineProperty(y, b, {
                  value: !1,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                })
              : (y[b] = !1);
          var w = g;
          function k(t) {
            return (
              (k =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              k(t)
            );
          }
          function S(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, E(r.key), r);
            }
          }
          function E(t) {
            var e = (function (t, e) {
              if ('object' != k(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != k(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == k(e) ? e : String(e);
          }
          var T = (function (t, e, n) {
            return (
              e && S(t.prototype, e),
              n && S(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.delivery = e.attr('delivery')),
              (this.type = e.attr('type')),
              (this.width = e.attr('width')),
              (this.height = e.attr('height')),
              (this.codec = e.attr('codec')),
              (this.id = e.attr('id')),
              (this.bitrate = e.attr('bitrate')),
              (this.minBitrate = e.attr('minBitrate')),
              (this.maxBitrate = e.attr('maxBitrate')),
              (this.scalable = e.attr('scalable')),
              (this.maintainAspectRatio = e.attr('maintainAspectRatio')),
              (this.apiFramework = e.attr('apiFramework')),
              (this.fileSize = e.attr('fileSize')),
              (this.mediaType = e.attr('mediaType')),
              (this.uri = e.keyValue);
          });
          function P(t) {
            return (
              (P =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              P(t)
            );
          }
          function C(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, A(r.key), r);
            }
          }
          function A(t) {
            var e = (function (t, e) {
              if ('object' != P(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != P(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == P(e) ? e : String(e);
          }
          var x = (function (t, e, n) {
            return (
              e && C(t.prototype, e),
              n && C(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.uri = e.keyValue),
              (this.delivery = e.attr('delivery')),
              this.delivery || w.noAttribute('Mezzanine', 'delivery'),
              (this.type = e.attr('type')),
              this.type || w.noAttribute('Mezzanine', 'type'),
              (this.width = e.attr('width')),
              this.width || w.noAttribute('Mezzanine', 'width'),
              (this.height = e.attr('height')),
              this.height || w.noAttribute('Mezzanine', 'height'),
              (this.codec = e.attr('codec')),
              (this.id = e.attr('id')),
              (this.fileSize = e.attr('fileSize')),
              (this.mediaType = e.attr('mediaType'));
          });
          function O(t) {
            return (
              (O =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              O(t)
            );
          }
          function j(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, L(r.key), r);
            }
          }
          function L(t) {
            var e = (function (t, e) {
              if ('object' != O(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != O(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == O(e) ? e : String(e);
          }
          var V = (function (t, e, n) {
            return (
              e && j(t.prototype, e),
              n && j(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.type = e.attr('type')),
              (this.variableDuration = e.attr('variableDuration')),
              (this.apiFramework = e.attr('apiFramework')),
              (this.uri = e.keyValue);
          });
          function I(t) {
            return (
              (I =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              I(t)
            );
          }
          function M(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, _(r.key), r);
            }
          }
          function _(t) {
            var e = (function (t, e) {
              if ('object' != I(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != I(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == I(e) ? e : String(e);
          }
          var R = (function (t, e, n) {
            return (
              e && M(t.prototype, e),
              n && M(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.type = e.attr('type')),
              (this.language = e.attr('language')),
              (this.uri = e.keyValue);
          });
          function F(t) {
            return (
              (F =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              F(t)
            );
          }
          function D(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, B(r.key), r);
            }
          }
          function B(t) {
            var e = (function (t, e) {
              if ('object' != F(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != F(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == F(e) ? e : String(e);
          }
          var U = (function (t, e, n) {
            return (
              e && D(t.prototype, e),
              n && D(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              e.mediaFile
                ? (this.mediaFile = l(e.mediaFile).to(T))
                : w.requiredElements('MediaFiles', ['mediaFile']),
              (this.mezzanine = l(e.mezzanine).to(x)),
              this.mezzanine ||
                w.requiredElements('MediaFiles', ['mezzanine'], !1),
              e.interactiveCreativeFile &&
                (this.interactiveCreativeFile = l(e.interactiveCreativeFile).to(
                  V
                )),
              e.closedCaptionFiles &&
                (this.closedCaptionFiles = l(e.closedCaptionFiles).to(R));
          });
          function z(t) {
            return (
              (z =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              z(t)
            );
          }
          function H(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, W(r.key), r);
            }
          }
          function W(t) {
            var e = (function (t, e) {
              if ('object' != z(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != z(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == z(e) ? e : String(e);
          }
          var q = (function (t, e, n) {
            return (
              e && H(t.prototype, e),
              n && H(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.xmlEncoded = e.attr('xmlEncoded')),
              (this.metadata = e.keyValue);
          });
          function N(t) {
            return (
              (N =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              N(t)
            );
          }
          function Q(t) {
            var e = (function (t, e) {
              if ('object' != N(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != N(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == N(e) ? e : String(e);
          }
          var G = (function () {
            function t() {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'sendPixel',
                  value: function (t) {
                    if (document.createElement && document.body) {
                      var e = document.createElement('img');
                      (e.style.position = 'absolute'),
                        (e.style.display = 'none'),
                        (e.style.width = e.style.height = '0px'),
                        e.setAttribute(
                          'referrerpolicy',
                          'no-referrer-when-downgrade'
                        ),
                        (e.src = t),
                        document.body.appendChild(e);
                    } else {
                      var n = new Image();
                      n.setAttribute(
                        'referrerpolicy',
                        'no-referrer-when-downgrade'
                      ),
                        (n.src = t);
                    }
                  },
                },
              ]),
              n &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, Q(r.key), r);
                  }
                })(e, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function Z(t) {
            return (
              (Z =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Z(t)
            );
          }
          function $(t) {
            var e = (function (t, e) {
              if ('object' != Z(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Z(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Z(e) ? e : String(e);
          }
          var X = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.event = e.attr('event')),
                (this.offset = e.attr('offset')),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'execute',
                  value: function () {
                    this.uri && G.sendPixel(this.uri);
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, $(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function Y(t) {
            return (
              (Y =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Y(t)
            );
          }
          function J(t) {
            var e = (function (t, e) {
              if ('object' != Y(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Y(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Y(e) ? e : String(e);
          }
          var K = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.id = e.attr('id')),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'execute',
                  value: function () {
                    this.uri && window.open(this.uri, '_blank');
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, J(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function tt(t) {
            return (
              (tt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              tt(t)
            );
          }
          function et(t) {
            var e = (function (t, e) {
              if ('object' != tt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != tt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == tt(e) ? e : String(e);
          }
          var nt = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.id = e.attr('id')),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'execute',
                  value: function () {
                    this.uri && G.sendPixel(this.uri);
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, et(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function rt(t) {
            return (
              (rt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              rt(t)
            );
          }
          function it(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, ot(r.key), r);
            }
          }
          function ot(t) {
            var e = (function (t, e) {
              if ('object' != rt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != rt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == rt(e) ? e : String(e);
          }
          var at = (function (t, e, n) {
            return (
              e && it(t.prototype, e),
              n && it(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.id = e.attr('id')),
              (this.uri = e.keyValue);
          });
          function st(t) {
            return (
              (st =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              st(t)
            );
          }
          function ut(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, ct(r.key), r);
            }
          }
          function ct(t) {
            var e = (function (t, e) {
              if ('object' != st(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != st(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == st(e) ? e : String(e);
          }
          var lt = (function (t, e, n) {
            return (
              e && ut(t.prototype, e),
              n && ut(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.clickThrough = l(e.clickThrough).to(K).shift()),
              (this.clickTracking = l(e.clickTracking).to(nt)),
              (this.customClick = l(e.customClick).to(at));
          });
          function ft(t) {
            return (
              (ft =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ft(t)
            );
          }
          function ht(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, dt(r.key), r);
            }
          }
          function dt(t) {
            var e = (function (t, e) {
              if ('object' != ft(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ft(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ft(e) ? e : String(e);
          }
          var pt = (function (t, e, n) {
            return (
              e && ht(t.prototype, e),
              n && ht(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.creativeType = e.attr('creativeType')),
              (this.uri = e.keyValue);
          });
          function vt(t) {
            return (
              (vt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              vt(t)
            );
          }
          function mt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, yt(r.key), r);
            }
          }
          function yt(t) {
            var e = (function (t, e) {
              if ('object' != vt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != vt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == vt(e) ? e : String(e);
          }
          var bt = (function (t, e, n) {
            return (
              e && mt(t.prototype, e),
              n && mt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.uri = e.keyValue);
          });
          function gt(t) {
            return (
              (gt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              gt(t)
            );
          }
          function wt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, kt(r.key), r);
            }
          }
          function kt(t) {
            var e = (function (t, e) {
              if ('object' != gt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != gt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == gt(e) ? e : String(e);
          }
          var St = (function (t, e, n) {
            return (
              e && wt(t.prototype, e),
              n && wt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.uri = e.keyValue);
          });
          function Et(t) {
            return (
              (Et =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Et(t)
            );
          }
          function Tt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Pt(r.key), r);
            }
          }
          function Pt(t) {
            var e = (function (t, e) {
              if ('object' != Et(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Et(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Et(e) ? e : String(e);
          }
          var xt = (function (t, e, n) {
            return (
              e && Tt(t.prototype, e),
              n && Tt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.uri = e.keyValue);
          });
          function Ot(t) {
            return (
              (Ot =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Ot(t)
            );
          }
          function jt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Lt(r.key), r);
            }
          }
          function Lt(t) {
            var e = (function (t, e) {
              if ('object' != Ot(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Ot(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Ot(e) ? e : String(e);
          }
          var Vt = (function (t, e, n) {
            return (
              e && jt(t.prototype, e),
              n && jt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.id = e.attr('id')),
              (this.uri = e.keyValue);
          });
          function It(t) {
            return (
              (It =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              It(t)
            );
          }
          function Mt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, _t(r.key), r);
            }
          }
          function _t(t) {
            var e = (function (t, e) {
              if ('object' != It(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != It(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == It(e) ? e : String(e);
          }
          var Rt = (function (t, e, n) {
            return (
              e && Mt(t.prototype, e),
              n && Mt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.content = e.keyValue);
          });
          function Ft(t) {
            return (
              (Ft =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Ft(t)
            );
          }
          function Dt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Bt(r.key), r);
            }
          }
          function Bt(t) {
            var e = (function (t, e) {
              if ('object' != Ft(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Ft(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Ft(e) ? e : String(e);
          }
          var Ut = (function (t, e, n) {
            return (
              e && Dt(t.prototype, e),
              n && Dt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.width = e.attr('width')),
              this.width ||
                w.noAttribute('iconClickFallbackImage', 'width', !0),
              (this.height = e.attr('height')),
              this.height ||
                w.noAttribute('iconClickFallbackImage', 'height', !0),
              (this.uri = e.keyValue),
              (this.altText = l(e.altText).to(Rt).shift()),
              (this.staticResource = l(e.staticResource).to(pt));
          });
          function zt(t) {
            return (
              (zt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              zt(t)
            );
          }
          function Ht(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Wt(r.key), r);
            }
          }
          function Wt(t) {
            var e = (function (t, e) {
              if ('object' != zt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != zt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == zt(e) ? e : String(e);
          }
          var qt = (function (t, e, n) {
            return (
              e && Ht(t.prototype, e),
              n && Ht(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.iconClickThrough = l(e.iconClickThrough).to(xt).shift()),
              e.iconClickTracking &&
                (this.iconClickTracking = l(e.iconClickTracking).to(Vt)),
              e.iconClickFallbackImages &&
                (this.iconClickFallbackImages = l(
                  e.iconClickFallbackImages.iconClickFallbackImage
                ).to(Ut));
          });
          function Nt(t) {
            return (
              (Nt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Nt(t)
            );
          }
          function Qt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Gt(r.key), r);
            }
          }
          function Gt(t) {
            var e = (function (t, e) {
              if ('object' != Nt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Nt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Nt(e) ? e : String(e);
          }
          var Zt = (function (t, e, n) {
            return (
              e && Qt(t.prototype, e),
              n && Qt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.uri = e.keyValue);
          });
          function $t(t) {
            return (
              ($t =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              $t(t)
            );
          }
          function Xt(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Yt(r.key), r);
            }
          }
          function Yt(t) {
            var e = (function (t, e) {
              if ('object' != $t(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != $t(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == $t(e) ? e : String(e);
          }
          var Jt = (function (t, e, n) {
            return (
              e && Xt(t.prototype, e),
              n && Xt(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.program = e.attr('program')),
              (this.width = e.attr('width')),
              (this.height = e.attr('height')),
              (this.xPosition = e.attr('xPosition')),
              (this.yPosition = e.attr('yPosition')),
              (this.duration = e.attr('duration')),
              (this.offset = e.attr('offset')),
              (this.apiFramework = e.attr('apiFramework')),
              (this.pxratio = e.attr('pxratio') || 1),
              (this.altText = e.attr('altText')),
              (this.hoverText = e.attr('hoverText')),
              (this.iFrameResource = l(e.iFrameResource).to(bt)),
              (this.htmlResource = l(e.hTMLResource).to(St)),
              (this.staticResource = l(e.staticResource).to(pt)),
              (this.iconClicks = l(e.iconClicks).to(qt).shift()),
              (this.iconViewTracking = l(e.iconViewTracking).to(Zt));
          });
          function Kt(t) {
            return (
              (Kt =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Kt(t)
            );
          }
          function te(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, ee(r.key), r);
            }
          }
          function ee(t) {
            var e = (function (t, e) {
              if ('object' != Kt(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Kt(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Kt(e) ? e : String(e);
          }
          var ne = (function (t, e, n) {
            return (
              e && te(t.prototype, e),
              n && te(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            var n;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.skipoffset = e.attr('skipoffset') || void 0),
              (this.mediaFiles = l(e.mediaFiles).to(U).shift()),
              (this.duration = e.duration ? e.duration.keyValue : void 0),
              (this.adParameters = l(e.adParameters).to(q).shift()),
              (this.videoClicks = l(e.videoClicks).to(lt).shift()),
              (this.icons = l(
                null === (n = e.icons) || void 0 === n ? void 0 : n.icon
              ).to(Jt)),
              e.trackingEvents &&
                e.trackingEvents.tracking &&
                (this.trackingEvents = l(e.trackingEvents.tracking).to(X));
          });
          function re(t) {
            return (
              (re =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              re(t)
            );
          }
          function ie(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, oe(r.key), r);
            }
          }
          function oe(t) {
            var e = (function (t, e) {
              if ('object' != re(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != re(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == re(e) ? e : String(e);
          }
          var ae = (function (t, e, n) {
            return (
              e && ie(t.prototype, e),
              n && ie(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.uri = e.keyValue);
          });
          function se(t) {
            return (
              (se =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              se(t)
            );
          }
          function ue(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, ce(r.key), r);
            }
          }
          function ce(t) {
            var e = (function (t, e) {
              if ('object' != se(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != se(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == se(e) ? e : String(e);
          }
          var le = (function (t, e, n) {
            return (
              e && ue(t.prototype, e),
              n && ue(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.id = e.attr('id')),
              (this.uri = e.keyValue);
          });
          function fe(t) {
            return (
              (fe =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              fe(t)
            );
          }
          function he(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, de(r.key), r);
            }
          }
          function de(t) {
            var e = (function (t, e) {
              if ('object' != fe(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != fe(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == fe(e) ? e : String(e);
          }
          var pe = (function (t, e, n) {
            return (
              e && he(t.prototype, e),
              n && he(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.width = e.attr('width')),
              this.width || w.noAttribute('NonLinear', 'width', !0),
              (this.height = e.attr('height')),
              this.height || w.noAttribute('NonLinear', 'height', !0),
              (this.expandedWidth = e.attr('expandedWidth')),
              (this.expandedHeight = e.attr('expandedHeight')),
              (this.scalable = e.attr('scalable')),
              (this.maintainAspectRatio = e.attr('maintainAspectRatio')),
              (this.apiFramework = e.attr('apiFramework')),
              (this.minSuggestedDuration = e.attr('minSuggestedDuration')),
              (this.id = e.attr('id')),
              (this.staticResource = l(e.staticResource).to(pt)),
              (this.iFrameResource = l(e.iFrameResource).to(bt)),
              (this.hTMLResource = l(e.hTMLResource).to(St)),
              (this.adParameters = l(e.adParameters).to(q)),
              (this.nonLinearClickThrough = l(e.nonLinearClickThrough)
                .to(ae)
                .shift()),
              (this.nonLinearClickTracking = l(e.nonLinearClickTracking).to(
                le
              ));
          });
          function ve(t) {
            return (
              (ve =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ve(t)
            );
          }
          function me(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, ye(r.key), r);
            }
          }
          function ye(t) {
            var e = (function (t, e) {
              if ('object' != ve(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ve(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ve(e) ? e : String(e);
          }
          var be = (function (t, e, n) {
            return (
              e && me(t.prototype, e),
              n && me(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.nonLinear = l(e.nonLinear).to(pe)),
              e.trackingEvents &&
                e.trackingEvents.tracking &&
                (this.trackingEvents = l(e.trackingEvents.tracking).to(X));
          });
          function ge(t) {
            return (
              (ge =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ge(t)
            );
          }
          function we(t) {
            var e = (function (t, e) {
              if ('object' != ge(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ge(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ge(e) ? e : String(e);
          }
          var ke = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'execute',
                  value: function () {
                    this.uri && window.open(this.uri, '_blank');
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, we(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function Se(t) {
            return (
              (Se =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Se(t)
            );
          }
          function Ee(t) {
            var e = (function (t, e) {
              if ('object' != Se(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Se(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Se(e) ? e : String(e);
          }
          var Te = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.id = e.attr('id')),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'execute',
                  value: function () {
                    this.uri && G.sendPixel(this.uri);
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, Ee(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function Pe(t) {
            return (
              (Pe =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Pe(t)
            );
          }
          function Ce(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Ae(r.key), r);
            }
          }
          function Ae(t) {
            var e = (function (t, e) {
              if ('object' != Pe(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Pe(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Pe(e) ? e : String(e);
          }
          var xe = (function (t, e, n) {
            return (
              e && Ce(t.prototype, e),
              n && Ce(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.width = e.attr('width')),
              this.width || w.noAttribute('Companion', 'width', !0),
              (this.height = e.attr('height')),
              this.height || w.noAttribute('Companion', 'height', !0),
              (this.id = e.attr('id')),
              (this.assetWidth = e.attr('assetWidth')),
              (this.assetHeight = e.attr('assetHeight')),
              (this.expandedWidth = e.attr('expandedWidth')),
              (this.expandedHeight = e.attr('expandedHeight')),
              (this.apiFramework = e.attr('apiFramework')),
              (this.adslotID = e.attr('adslotID')),
              (this.pxratio = e.attr('pxratio') || 1),
              e.staticResource &&
                (this.staticResource = l(e.staticResource).to(pt)),
              e.iFrameResource &&
                (this.iFrameResource = l(e.iFrameResource).to(bt)),
              e.hTMLResource && (this.htmlResource = l(e.hTMLResource).to(St)),
              e.adParameters && (this.adParameters = l(e.adParameters).to(q)),
              e.altText && (this.altText = l(e.altText).to(Rt).shift()),
              e.companionClickThrough &&
                (this.companionClickThrough = l(e.companionClickThrough)
                  .to(ke)
                  .shift()),
              e.companionClickTracking &&
                (this.companionClickTracking = l(e.companionClickTracking).to(
                  Te
                )),
              e.trackingEvents &&
                e.trackingEvents.tracking &&
                (this.trackingEvents = l(e.trackingEvents.tracking).to(X));
          });
          function Oe(t) {
            return (
              (Oe =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Oe(t)
            );
          }
          function je(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Le(r.key), r);
            }
          }
          function Le(t) {
            var e = (function (t, e) {
              if ('object' != Oe(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Oe(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Oe(e) ? e : String(e);
          }
          var Ve = (function (t, e, n) {
            return (
              e && je(t.prototype, e),
              n && je(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.required = e.attr('required')),
              (this.companion = l(e.companion).to(xe));
          });
          function Ie(t) {
            return (
              (Ie =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Ie(t)
            );
          }
          function Me(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, _e(r.key), r);
            }
          }
          function _e(t) {
            var e = (function (t, e) {
              if ('object' != Ie(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Ie(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Ie(e) ? e : String(e);
          }
          var Re = (function (t, e, n) {
            return (
              e && Me(t.prototype, e),
              n && Me(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.idRegistry = e.attr('idRegistry') || 'unknown'),
              (this.content = e.keyValue || 'unknown');
          });
          function Fe(t) {
            return (
              (Fe =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Fe(t)
            );
          }
          function De(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Be(r.key), r);
            }
          }
          function Be(t) {
            var e = (function (t, e) {
              if ('object' != Fe(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Fe(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Fe(e) ? e : String(e);
          }
          var Ue = (function (t, e, n) {
            return (
              e && De(t.prototype, e),
              n && De(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.type = e.attr('type')),
              (this.xmlObject = e.keyValue);
          });
          function ze(t) {
            return (
              (ze =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ze(t)
            );
          }
          function He(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, We(r.key), r);
            }
          }
          function We(t) {
            var e = (function (t, e) {
              if ('object' != ze(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ze(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ze(e) ? e : String(e);
          }
          var qe = (function (t, e, n) {
            return (
              e && He(t.prototype, e),
              n && He(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.linear = l(e.linear).to(ne).shift()),
              (this.id = e.attr('id')),
              (this.adId = e.attr('adId')),
              (this.sequence = e.attr('sequence')),
              (this.apiFramework = e.attr('apiFramework')),
              (this.universalAdId = l(e.universalAdId).to(Re)),
              this.universalAdId ||
                w.requiredElements('Creative', ['universalAdId']),
              e.creativeExtensions &&
                (this.creativeExtensions = l(
                  e.creativeExtensions.creativeExtension
                ).to(Ue)),
              e.companionAds &&
                (this.companionAds = l(e.companionAds).to(Ve).shift()),
              e.nonLinearAds &&
                (this.nonLinearAds = l(e.nonLinearAds).to(be).shift());
          });
          function Ne(t) {
            return (
              (Ne =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Ne(t)
            );
          }
          function Qe(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Ge(r.key), r);
            }
          }
          function Ge(t) {
            var e = (function (t, e) {
              if ('object' != Ne(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Ne(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Ne(e) ? e : String(e);
          }
          var Ze = (function (t, e, n) {
            return (
              e && Qe(t.prototype, e),
              n && Qe(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.authority = e.attr('authority')),
              (this.value = e.keyValue);
          });
          function $e(t) {
            return (
              ($e =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              $e(t)
            );
          }
          function Xe(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Ye(r.key), r);
            }
          }
          function Ye(t) {
            var e = (function (t, e) {
              if ('object' != $e(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != $e(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == $e(e) ? e : String(e);
          }
          var Je = (function (t, e, n) {
            return (
              e && Xe(t.prototype, e),
              n && Xe(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.type = e.attr('type')),
              (this.uri = e.keyValue);
          });
          function Ke(t) {
            return (
              (Ke =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Ke(t)
            );
          }
          function tn(t) {
            var e = (function (t, e) {
              if ('object' != Ke(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Ke(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Ke(e) ? e : String(e);
          }
          var en = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.id = e.attr('id')),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'execute',
                  value: function () {
                    this.uri && G.sendPixel(this.uri);
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, tn(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function nn(t) {
            return (
              (nn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              nn(t)
            );
          }
          function rn(t) {
            var e = (function (t, e) {
              if ('object' != nn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != nn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == nn(e) ? e : String(e);
          }
          var on = (function () {
            function t(e) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.uri = e.keyValue);
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'getURI',
                  value: function () {
                    var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : '900';
                    return this.uri.replace(/\[ERRORCODE\]/, t);
                  },
                },
                {
                  key: 'execute',
                  value: function (t) {
                    var e = this.getURI(t);
                    G.sendPixel(e);
                  },
                },
              ]),
              n &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, rn(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function an(t) {
            return (
              (an =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              an(t)
            );
          }
          function sn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, un(r.key), r);
            }
          }
          function un(t) {
            var e = (function (t, e) {
              if ('object' != an(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != an(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == an(e) ? e : String(e);
          }
          var cn = (function (t, e, n) {
            return (
              e && sn(t.prototype, e),
              n && sn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.model = e.attr('model')),
              this.model || w.noAttribute('Pricing', 'model', !0),
              (this.currency = e.attr('currency')),
              this.currency || w.noAttribute('Pricing', 'currency', !0),
              (this.value = e.keyValue);
          });
          function ln(t) {
            return (
              (ln =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ln(t)
            );
          }
          function fn(t) {
            var e = (function (t, e) {
              if ('object' != ln(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ln(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ln(e) ? e : String(e);
          }
          var hn = (function () {
            function t(e) {
              return (
                (function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                this.structure(e)
              );
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'structure',
                  value: function (t) {
                    var e = this;
                    if (
                      1 ===
                        (function (t) {
                          return Object.keys(t).length;
                        })(t) &&
                      t.keyValue
                    )
                      return Object.values(t)[0];
                    var n = {};
                    for (var r in t)
                      Array.isArray(t[r])
                        ? (n[r] = t[r].map(function (t) {
                            return e.structure(t);
                          }))
                        : r.startsWith('@')
                        ? (n[r.substring(1)] = t.attr(r.substring(1)))
                        : dn(t[r])
                        ? (n[r] = this.structure(t[r]))
                        : 'keyValue' === r
                        ? (n.value = t[r])
                        : (n[r] = t[r]);
                    return n;
                  },
                },
              ]),
              n &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, fn(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function dn(t) {
            return 'Object' === Object.prototype.toString.call(t).slice(8, -1);
          }
          var pn = hn;
          function vn(t) {
            return (
              (vn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              vn(t)
            );
          }
          function mn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, bn(r.key), r);
            }
          }
          function yn(t, e, n) {
            return (
              e && mn(t.prototype, e),
              n && mn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          }
          function bn(t) {
            var e = (function (t, e) {
              if ('object' != vn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != vn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == vn(e) ? e : String(e);
          }
          function gn(t, e) {
            if (!(t instanceof e))
              throw new TypeError('Cannot call a class as a function');
          }
          var wn = yn(function t(e) {
              gn(this, t),
                (this.id = e.attr('id')),
                e.viewable && (this.viewable = l(e.viewable).to(kn)),
                e.notViewable && (this.notViewable = l(e.notViewable).to(Sn)),
                e.viewUndetermined &&
                  (this.viewUndetermined = l(e.viewUndetermined).to(En));
            }),
            kn = (function () {
              function t(e) {
                gn(this, t), (this.uri = e.keyValue);
              }
              return (
                yn(t, [
                  {
                    key: 'execute',
                    value: function () {
                      this.uri && G.sendPixel(this.uri);
                    },
                  },
                ]),
                t
              );
            })(),
            Sn = (function () {
              function t(e) {
                gn(this, t), (this.uri = e.keyValue);
              }
              return (
                yn(t, [
                  {
                    key: 'execute',
                    value: function () {
                      this.uri && G.sendPixel(this.uri);
                    },
                  },
                ]),
                t
              );
            })(),
            En = (function () {
              function t(e) {
                gn(this, t), (this.uri = e.keyValue);
              }
              return (
                yn(t, [
                  {
                    key: 'execute',
                    value: function () {
                      this.uri && G.sendPixel(this.uri);
                    },
                  },
                ]),
                t
              );
            })(),
            Tn = wn;
          function Pn(t) {
            return (
              (Pn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Pn(t)
            );
          }
          function Cn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, An(r.key), r);
            }
          }
          function An(t) {
            var e = (function (t, e) {
              if ('object' != Pn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Pn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Pn(e) ? e : String(e);
          }
          var xn = (function (t, e, n) {
            return (
              e && Cn(t.prototype, e),
              n && Cn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.content = e.keyValue),
              (this.version = e.attr('version'));
          });
          function On(t) {
            return (
              (On =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              On(t)
            );
          }
          function jn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Ln(r.key), r);
            }
          }
          function Ln(t) {
            var e = (function (t, e) {
              if ('object' != On(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != On(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == On(e) ? e : String(e);
          }
          var Vn = (function (t, e, n) {
            return (
              e && jn(t.prototype, e),
              n && jn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.content = e.keyValue),
              (this.id = e.attr('id'));
          });
          function In(t) {
            return (
              (In =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              In(t)
            );
          }
          function Mn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, _n(r.key), r);
            }
          }
          function _n(t) {
            var e = (function (t, e) {
              if ('object' != In(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != In(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == In(e) ? e : String(e);
          }
          var Rn = (function (t, e, n) {
            return (
              e && Mn(t.prototype, e),
              n && Mn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.apiFramework = e.attr('apiFramework')),
              this.apiFramework ||
                w.noAttribute('JavaScriptResource', 'apiFramework', !0),
              (this.browserOptional = e.attr('browserOptional')),
              void 0 === In(this.browserOptional) &&
                w.noAttribute('JavaScriptResource', 'browserOptional', !0),
              (this.uri = e.keyValue);
          });
          function Fn(t) {
            return (
              (Fn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Fn(t)
            );
          }
          function Dn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Bn(r.key), r);
            }
          }
          function Bn(t) {
            var e = (function (t, e) {
              if ('object' != Fn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Fn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Fn(e) ? e : String(e);
          }
          var Un = (function (t, e, n) {
            return (
              e && Dn(t.prototype, e),
              n && Dn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.apiFramework = e.attr('apiFramework')),
              this.apiFramework &&
                w.noAttribute('ExecutableResource', 'apiFramework', !0),
              (this.type = e.attr('type')),
              this.type && w.noAttribute('ExecutableResource', 'type', !0),
              (this.uri = e.keyValue);
          });
          function zn(t) {
            return (
              (zn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              zn(t)
            );
          }
          function Hn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Wn(r.key), r);
            }
          }
          function Wn(t) {
            var e = (function (t, e) {
              if ('object' != zn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != zn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == zn(e) ? e : String(e);
          }
          var qn = (function (t, e, n) {
            return (
              e && Hn(t.prototype, e),
              n && Hn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.event = e.attr('event')),
              (this.uri = e.keyValue);
          });
          function Nn(t) {
            return (
              (Nn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Nn(t)
            );
          }
          function Qn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Gn(r.key), r);
            }
          }
          function Gn(t) {
            var e = (function (t, e) {
              if ('object' != Nn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Nn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Nn(e) ? e : String(e);
          }
          var Zn = (function (t, e, n) {
            return (
              e && Qn(t.prototype, e),
              n && Qn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.vendor = e.attr('vendor')),
              this.vendor || w.noAttribute('Verification', 'vendor', !0),
              (this.javaScriptResources = l(e.javaScriptResource).to(Rn)),
              (this.executableResource = l(e.executableResource).to(Un)),
              e.trackingEvents &&
                e.trackingEvents.tracking &&
                (this.trackingEvents = l(e.trackingEvents.tracking).to(qn)),
              (this.verificationParameters = e.verificationParameters
                ? e.verificationParameters.keyValue
                : null);
          });
          function $n(t) {
            return (
              ($n =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              $n(t)
            );
          }
          function Xn(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Yn(r.key), r);
            }
          }
          function Yn(t) {
            var e = (function (t, e) {
              if ('object' != $n(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != $n(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == $n(e) ? e : String(e);
          }
          var Jn = (function (t, e, n) {
            return (
              e && Xn(t.prototype, e),
              n && Xn(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.adSystem = l(e.adSystem).to(xn).shift()),
              this.adSystem || w.requiredElements('InLine', ['adSystem']),
              (this.adTitle = e.adTitle ? e.adTitle.keyValue : void 0),
              this.adTitle || w.requiredElements('InLine', ['adTitle']),
              (this.adServingId = e.adServingId
                ? e.adServingId.keyValue
                : void 0),
              e.impression && (this.impression = l(e.impression).to(en)),
              this.impression || w.requiredElements('InLine', ['impression']),
              e.category && (this.category = l(e.category).to(Ze)),
              (this.description = e.description
                ? e.description.keyValue
                : void 0),
              (this.advertiser = l(e.advertiser).to(Vn).shift()),
              (this.pricing = l(e.pricing).to(cn).shift()),
              e.survey && (this.survey = l(e.survey).to(Je)),
              (this.expires = e.expires ? e.expires.keyValue : void 0),
              (this.viewableImpression = l(e.viewableImpression)
                .to(Tn)
                .shift()),
              e.adVerifications &&
                e.adVerifications.verification &&
                (this.adVerifications = l(e.adVerifications.verification).to(
                  Zn
                )),
              e.extensions &&
                (this.extensions = l(e.extensions.extension).to(pn)),
              e.creatives && (this.creatives = l(e.creatives.creative).to(qe)),
              this.creatives || w.requiredElements('InLine', ['creatives']),
              e.error && (this.error = l(e.error).to(on));
          });
          function Kn(t) {
            return (
              (Kn =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Kn(t)
            );
          }
          function tr(t) {
            var e = (function (t, e) {
              if ('object' != Kn(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Kn(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Kn(e) ? e : String(e);
          }
          var er = (function () {
            function t(e) {
              var n,
                r,
                i,
                o = this;
              return (
                (function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                (this.impression = l(e.impression).to(en)),
                (this.VASTAdTagURI =
                  null === (n = e.vASTAdTagURI) || void 0 === n
                    ? void 0
                    : n.keyValue),
                (this.adSystem =
                  null === (r = e.adSystem) || void 0 === r
                    ? void 0
                    : r.keyValue),
                (this.pricing = l(e.pricing).to(cn).shift()),
                (this.errors = l(e.error).to(on)),
                (this.viewableImpression = l(e.viewableImpression)
                  .to(Tn)
                  .shift()),
                e.AdVerifications &&
                  e.AdVerifications.verification &&
                  (this.adVerifications = l(e.AdVerifications.verification).to(
                    Zn
                  )),
                e.extensions &&
                  (this.extensions = l(e.extensions.extension).to(pn)),
                (this.creatives = l(e.creatives.creative).to(qe)),
                (this.followAdditionalWrappers =
                  e.attr('followAdditionalWrappers') || !0),
                (this.allowMultipleAds = e.attr('allowMultipleAds') || !1),
                (this.fallbackOnNoAd = e.attr('fallbackOnNoAd')),
                (this.BlockedAdCategories =
                  null === (i = e.blockedAdCategories) || void 0 === i
                    ? void 0
                    : i.keyValue),
                Ri(this.VASTAdTagURI)
                  .then(function (t) {
                    return (o.vast = t), o;
                  })
                  .catch(function (t) {
                    return (o.vast = null), o;
                  })
              );
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'structuring',
                  value: function () {
                    var t = this.vast;
                    if (!t) return null;
                    var e = t.getCreative();
                    return e
                      ? ((e.error = e.error.concat(this.errors || [])),
                        (e.impression = e.impression.concat(
                          this.impressions || []
                        )),
                        this.pricing && (e.pricing = this.pricing),
                        e)
                      : null;
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, tr(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function nr(t) {
            return (
              (nr =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              nr(t)
            );
          }
          function rr(t) {
            var e = (function (t, e) {
              if ('object' != nr(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != nr(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == nr(e) ? e : String(e);
          }
          var ir = (function () {
            function t(e) {
              var n = this;
              if (
                ((function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                (this.id = e.attr('id')),
                (this.sequence = e.attr('sequence')),
                (this.conditionalAd = e.attr('conditionalAd') || !1),
                e.inLine &&
                  e.wrapper &&
                  w.mutuallyExclusiveTags('inLine', 'wrapper'),
                e.inLine)
              )
                this.inLine = new Jn(e.inLine);
              else {
                if (e.wrapper)
                  return new er(e.wrapper).then(function (t) {
                    return (n.wrapper = t), n;
                  });
                w.requiredElements('Ad', ['inLine', 'wrapper']);
              }
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'getRootElem',
                  value: function () {
                    return (
                      (!this.wrapper && !this.inLine) ||
                        (this.wrapper && this.inLine),
                      this.wrapper ? this.wrapper : this.inLine
                    );
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, rr(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          function or(t) {
            return (
              (or =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              or(t)
            );
          }
          function ar(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, sr(r.key), r);
            }
          }
          function sr(t) {
            var e = (function (t, e) {
              if ('object' != or(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != or(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == or(e) ? e : String(e);
          }
          var ur = (function (t, e, n) {
            return (
              e && ar(t.prototype, e),
              n && ar(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            var n = this;
            return (
              (function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
              (this.format = 'VAST'),
              (this.version = parseFloat(e.attr('version'))),
              this.version || w.noAttribute('VAST', 'version'),
              e.error && e.ad && w.mutuallyExclusiveTags('error', 'ad'),
              e.error || e.ad || w.requiredElements('VAST', ['error', 'ad']),
              0 === e.ad.length && w.fatalError('Number of Ad districts 0.'),
              (this.error = l(e.error).to(Error)),
              this.error.length,
              Promise.all(l(e.ad).to(ir)).then(function (t) {
                return (n.ad = t), n;
              })
            );
          });
          function cr(t) {
            return (
              (cr =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              cr(t)
            );
          }
          function lr(t) {
            var e = 'function' == typeof Map ? new Map() : void 0;
            return (
              (lr = function (t) {
                if (
                  null === t ||
                  !(function (t) {
                    try {
                      return (
                        -1 !==
                        Function.toString.call(t).indexOf('[native code]')
                      );
                    } catch (e) {
                      return 'function' == typeof t;
                    }
                  })(t)
                )
                  return t;
                if ('function' != typeof t)
                  throw new TypeError(
                    'Super expression must either be null or a function'
                  );
                if (void 0 !== e) {
                  if (e.has(t)) return e.get(t);
                  e.set(t, n);
                }
                function n() {
                  return (function (t, e, n) {
                    if (fr()) return Reflect.construct.apply(null, arguments);
                    var r = [null];
                    r.push.apply(r, e);
                    var i = new (t.bind.apply(t, r))();
                    return n && hr(i, n.prototype), i;
                  })(t, arguments, dr(this).constructor);
                }
                return (
                  (n.prototype = Object.create(t.prototype, {
                    constructor: {
                      value: n,
                      enumerable: !1,
                      writable: !0,
                      configurable: !0,
                    },
                  })),
                  hr(n, t)
                );
              }),
              lr(t)
            );
          }
          function fr() {
            try {
              var t = !Boolean.prototype.valueOf.call(
                Reflect.construct(Boolean, [], function () {})
              );
            } catch (t) {}
            return (fr = function () {
              return !!t;
            })();
          }
          function hr(t, e) {
            return (
              (hr = Object.setPrototypeOf
                ? Object.setPrototypeOf.bind()
                : function (t, e) {
                    return (t.__proto__ = e), t;
                  }),
              hr(t, e)
            );
          }
          function dr(t) {
            return (
              (dr = Object.setPrototypeOf
                ? Object.getPrototypeOf.bind()
                : function (t) {
                    return t.__proto__ || Object.getPrototypeOf(t);
                  }),
              dr(t)
            );
          }
          var pr = (function (t) {
            function e(t) {
              return (
                (function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, e),
                (n = this),
                (i = [t]),
                (r = dr((r = e))),
                (function (t, e) {
                  if (e && ('object' === cr(e) || 'function' == typeof e))
                    return e;
                  if (void 0 !== e)
                    throw new TypeError(
                      'Derived constructors may only return object or undefined'
                    );
                  return (function (t) {
                    if (void 0 === t)
                      throw new ReferenceError(
                        "this hasn't been initialised - super() hasn't been called"
                      );
                    return t;
                  })(t);
                })(
                  n,
                  fr()
                    ? Reflect.construct(r, i || [], dr(n).constructor)
                    : r.apply(n, i)
                )
              );
              var n, r, i;
            }
            return (
              (function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Super expression must either be null or a function'
                  );
                (t.prototype = Object.create(e && e.prototype, {
                  constructor: { value: t, writable: !0, configurable: !0 },
                })),
                  Object.defineProperty(t, 'prototype', { writable: !1 }),
                  e && hr(t, e);
              })(e, t),
              (n = e),
              Object.defineProperty(n, 'prototype', { writable: !1 }),
              n
            );
            var n;
          })(lr(Error));
          function vr(t) {
            return (
              (vr =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              vr(t)
            );
          }
          function mr(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, yr(r.key), r);
            }
          }
          function yr(t) {
            var e = (function (t, e) {
              if ('object' != vr(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != vr(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == vr(e) ? e : String(e);
          }
          var br = (function (t, e, n) {
            return (
              e && mr(t.prototype, e),
              n && mr(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.templateType = e.attr('templateType')),
              (this.vastURI = e.keyValue);
          });
          function gr(t) {
            return (
              (gr =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              gr(t)
            );
          }
          function wr(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, kr(r.key), r);
            }
          }
          function kr(t) {
            var e = (function (t, e) {
              if ('object' != gr(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != gr(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == gr(e) ? e : String(e);
          }
          var Sr = (function (t, e, n) {
            return (
              e && wr(t.prototype, e),
              n && wr(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            var n = this;
            if (
              ((function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
              (this.id = e.attr('id')),
              (this.allowMultipleAds = e.attr('allowMultipleAds')),
              (this.followRedirects = e.attr('followRedirects')),
              e['vmap:VASTData'])
            )
              return new ur(e['vmap:VASTData']).then(function (t) {
                return (n.vastData = t), n;
              });
            if (e['vmap:AdTagURI']) return new br(e['vmap:AdTagURI']);
            throw (
              (e['vmap:CustomAdData'] &&
                (this.customData = objectMapper(e['vmap:CustomAdData']).to(pn)),
              new pr('No source specified'))
            );
          });
          function Er(t) {
            return (
              (Er =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Er(t)
            );
          }
          function Tr(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Pr(r.key), r);
            }
          }
          function Pr(t) {
            var e = (function (t, e) {
              if ('object' != Er(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Er(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Er(e) ? e : String(e);
          }
          var Cr = (function (t, e, n) {
            return (
              e && Tr(t.prototype, e),
              n && Tr(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function');
            })(this, t),
              (this.event = e.attr('event')),
              (this.uri = e.keyValue);
          });
          function Ar(t) {
            return (
              (Ar =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Ar(t)
            );
          }
          function xr(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Or(r.key), r);
            }
          }
          function Or(t) {
            var e = (function (t, e) {
              if ('object' != Ar(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Ar(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Ar(e) ? e : String(e);
          }
          var jr = (function (t, e, n) {
            return (
              e && xr(t.prototype, e),
              n && xr(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            var n = this;
            return (
              (function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
              (this.timeOffset = e.attr('timeOffset')),
              (this.breakType = e.attr('breakType')),
              (this.breakId = e.attr('breakId')),
              (this.repeatAfter = e.attr('repeatAfter')),
              e['vmap:Extensions'] &&
                (this.extensions = l(e['vmap:Extensions']['vmap:Extension']).to(
                  pn
                )),
              e['vmap:TrackingEvents'] &&
                (this.TrackingEvents = l(
                  e['vmap:TrackingEvents']['vmap:Tracking']
                ).to(Cr)),
              new Promise(function (t, n) {
                t(new Sr(e['vmap:AdSource']));
              }).then(function (t) {
                return (n.AdSource = t), n;
              })
            );
          });
          function Lr(t) {
            return (
              (Lr =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Lr(t)
            );
          }
          function Vr(t) {
            var e = (function (t, e) {
              if ('object' != Lr(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Lr(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Lr(e) ? e : String(e);
          }
          var Ir = (function () {
              function t(e, n, r) {
                !(function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                  (this.timeOffsetList = e),
                  (this.timeOffsetListGroup = n),
                  (this.version = r);
              }
              var e, n;
              return (
                (e = t),
                (n = [
                  {
                    key: 'timeOffSet',
                    value: function (t) {
                      if (!this.timeOffsetListGroup[t]) throw new Error();
                      return Promise.all(
                        this.timeOffsetListGroup[t].map(function (t) {
                          if (t.AdSource.vastURI) {
                            var e = t.AdSource.vastURI;
                            return Ri(e).then(function (e) {
                              return (t.AdSource = e), t;
                            });
                          }
                          return t;
                        })
                      );
                    },
                  },
                ]),
                n &&
                  (function (t, e) {
                    for (var n = 0; n < e.length; n++) {
                      var r = e[n];
                      (r.enumerable = r.enumerable || !1),
                        (r.configurable = !0),
                        'value' in r && (r.writable = !0),
                        Object.defineProperty(t, Vr(r.key), r);
                    }
                  })(e.prototype, n),
                Object.defineProperty(e, 'prototype', { writable: !1 }),
                t
              );
            })(),
            Mr = Ir;
          function _r(t) {
            return (
              (_r =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              _r(t)
            );
          }
          function Rr(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Fr(r.key), r);
            }
          }
          function Fr(t) {
            var e = (function (t, e) {
              if ('object' != _r(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != _r(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == _r(e) ? e : String(e);
          }
          var Dr = (function (t, e, n) {
            return (
              e && Rr(t.prototype, e),
              n && Rr(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e) {
            var n = this;
            return (
              (function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
              e['vmap:Extensions'] &&
                (this.extensions = l(e['vmap:Extensions']['vmap:Extension']).to(
                  pn
                )),
              (this.version = e.attr('version')),
              (this.format = 'VMAP'),
              Promise.all(l(e['vmap:AdBreak']).to(jr)).then(function (t) {
                return (n.adBreak = t), n;
              })
            );
          });
          function Br(t) {
            return (
              (Br =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Br(t)
            );
          }
          function Ur(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          function zr(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function Hr(t, e, n) {
            return (
              (e = Wr(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          function Wr(t) {
            var e = (function (t, e) {
              if ('object' != Br(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Br(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Br(e) ? e : String(e);
          }
          var qr = (function () {
              function t(e, n) {
                !(function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t);
                var r =
                  (e.linear ? 'linear' : e.companionAds && 'companionAds') ||
                  (e.nonLinearAds && 'nonLinearAds') ||
                  null;
                switch (
                  ((this.type = r),
                  (this.adId = n),
                  (this.apiFramework = e.apiFramework),
                  (this.id = e.id),
                  (this.sequence = e.sequence),
                  (this.universalAdId = e.universalAdId),
                  (this.creativeExtensions = e.creativeExtensions),
                  r)
                ) {
                  case 'linear':
                    var i;
                    (this.skipoffset = e.linear.skipoffset),
                      (this.mediaFiles = e.linear.mediaFiles),
                      (this.duration = e.linear.duration),
                      (this.adParameters = e.linear.adParameters),
                      (this.videoClicks = (function (t) {
                        for (var e = 1; e < arguments.length; e++) {
                          var n = null != arguments[e] ? arguments[e] : {};
                          e % 2
                            ? zr(Object(n), !0).forEach(function (e) {
                                Hr(t, e, n[e]);
                              })
                            : Object.getOwnPropertyDescriptors
                            ? Object.defineProperties(
                                t,
                                Object.getOwnPropertyDescriptors(n)
                              )
                            : zr(Object(n)).forEach(function (e) {
                                Object.defineProperty(
                                  t,
                                  e,
                                  Object.getOwnPropertyDescriptor(n, e)
                                );
                              });
                        }
                        return t;
                      })({}, e.linear.videoClicks)),
                      (this.icons = e.linear.icons);
                    var o = t.groupingTracking(
                        null == e || null === (i = e.linear) || void 0 === i
                          ? void 0
                          : i.trackingEvents
                      ),
                      a = o.trackingEvents,
                      s = o.eventProgressOffsetList;
                    (this.trackingEvents = a),
                      (this.eventProgressOffsetList = s);
                    break;
                  case 'companionAds':
                    (this.required = e.companionAds.required),
                      (this.companion = e.companionAds.companion.map(function (
                        e
                      ) {
                        var n = {};
                        (n.width = e.width),
                          (n.height = e.height),
                          (n.id = e.id),
                          (n.assetWidth = e.assetWidth),
                          (n.assetHeight = e.assetHeight),
                          (n.expandedWidth = e.expandedWidth),
                          (n.expandedHeight = e.expandedHeight),
                          (n.apiFramework = e.apiFramework),
                          (n.adslotID = e.adslotID),
                          (n.pxratio = e.pxratio),
                          (n.staticResource = e.staticResource),
                          (n.iFrameResource = e.iFrameResource),
                          (n.htmlResource = e.htmlResource),
                          (n.adParameters = e.adParameters),
                          (n.altText = e.altText),
                          (n.companionClickThrough = e.companionClickThrough),
                          (n.companionClickTracking = e.companionClickTracking);
                        var r = t.groupingTracking(e.trackingEvents),
                          i = r.trackingEvents,
                          o = r.eventProgressOffsetList;
                        return (
                          (n.trackingEvents = i),
                          (n.eventProgressOffsetList = o),
                          n
                        );
                      }));
                    break;
                  case 'nonLinearAds':
                    var u;
                    this.nonLinear = e.nonLinearAds.nonLinear;
                    var c = t.groupingTracking(
                        null == e ||
                          null === (u = e.nonLinearAds) ||
                          void 0 === u
                          ? void 0
                          : u.trackingEvents
                      ),
                      l = c.trackingEvents,
                      f = c.eventProgressOffsetList;
                    (this.trackingEvents = l),
                      (this.eventProgressOffsetList = f);
                }
              }
              var e, n;
              return (
                (e = t),
                (n = [
                  {
                    key: 'groupingTracking',
                    value: function (t) {
                      var e,
                        n = {},
                        r = [],
                        i = (function (t, e) {
                          var n =
                            ('undefined' != typeof Symbol &&
                              t[Symbol.iterator]) ||
                            t['@@iterator'];
                          if (!n) {
                            if (
                              Array.isArray(t) ||
                              (n = (function (t, e) {
                                if (t) {
                                  if ('string' == typeof t) return Ur(t, e);
                                  var n = Object.prototype.toString
                                    .call(t)
                                    .slice(8, -1);
                                  return (
                                    'Object' === n &&
                                      t.constructor &&
                                      (n = t.constructor.name),
                                    'Map' === n || 'Set' === n
                                      ? Array.from(t)
                                      : 'Arguments' === n ||
                                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(
                                          n
                                        )
                                      ? Ur(t, e)
                                      : void 0
                                  );
                                }
                              })(t))
                            ) {
                              n && (t = n);
                              var r = 0,
                                i = function () {};
                              return {
                                s: i,
                                n: function () {
                                  return r >= t.length
                                    ? { done: !0 }
                                    : { done: !1, value: t[r++] };
                                },
                                e: function (t) {
                                  throw t;
                                },
                                f: i,
                              };
                            }
                            throw new TypeError(
                              'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                            );
                          }
                          var o,
                            a = !0,
                            s = !1;
                          return {
                            s: function () {
                              n = n.call(t);
                            },
                            n: function () {
                              var t = n.next();
                              return (a = t.done), t;
                            },
                            e: function (t) {
                              (s = !0), (o = t);
                            },
                            f: function () {
                              try {
                                a || null == n.return || n.return();
                              } finally {
                                if (s) throw o;
                              }
                            },
                          };
                        })(t || []);
                      try {
                        for (i.s(); !(e = i.n()).done; ) {
                          var o = e.value;
                          'progress' === o.event &&
                            o.offset &&
                            r.push(o.offset),
                            n[o.event] || (n[o.event] = []),
                            n[o.event].push(o);
                        }
                      } catch (t) {
                        i.e(t);
                      } finally {
                        i.f();
                      }
                      return { trackingEvents: n, eventProgressOffsetList: r };
                    },
                  },
                ]),
                n &&
                  (function (t, e) {
                    for (var n = 0; n < e.length; n++) {
                      var r = e[n];
                      (r.enumerable = r.enumerable || !1),
                        (r.configurable = !0),
                        'value' in r && (r.writable = !0),
                        Object.defineProperty(t, Wr(r.key), r);
                    }
                  })(e, n),
                Object.defineProperty(e, 'prototype', { writable: !1 }),
                t
              );
            })(),
            Nr = qr;
          function Qr(t) {
            return (
              (Qr =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Qr(t)
            );
          }
          function Gr(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function Zr(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? Gr(Object(n), !0).forEach(function (e) {
                    Kr(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    t,
                    Object.getOwnPropertyDescriptors(n)
                  )
                : Gr(Object(n)).forEach(function (e) {
                    Object.defineProperty(
                      t,
                      e,
                      Object.getOwnPropertyDescriptor(n, e)
                    );
                  });
            }
            return t;
          }
          function $r(t, e) {
            var n =
              ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
              t['@@iterator'];
            if (!n) {
              if (
                Array.isArray(t) ||
                (n = Yr(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length
                      ? { done: !0 }
                      : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = n.call(t);
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function Xr(t) {
            return (
              (function (t) {
                if (Array.isArray(t)) return Jr(t);
              })(t) ||
              (function (t) {
                if (
                  ('undefined' != typeof Symbol &&
                    null != t[Symbol.iterator]) ||
                  null != t['@@iterator']
                )
                  return Array.from(t);
              })(t) ||
              Yr(t) ||
              (function () {
                throw new TypeError(
                  'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                );
              })()
            );
          }
          function Yr(t, e) {
            if (t) {
              if ('string' == typeof t) return Jr(t, e);
              var n = Object.prototype.toString.call(t).slice(8, -1);
              return (
                'Object' === n && t.constructor && (n = t.constructor.name),
                'Map' === n || 'Set' === n
                  ? Array.from(t)
                  : 'Arguments' === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? Jr(t, e)
                  : void 0
              );
            }
          }
          function Jr(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          function Kr(t, e, n) {
            return (
              (e = ti(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          function ti(t) {
            var e = (function (t, e) {
              if ('object' != Qr(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Qr(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Qr(e) ? e : String(e);
          }
          var ei = (function () {
              function t(e, n) {
                !(function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                  Kr(
                    this,
                    'structuring',
                    function () {
                      var t = null,
                        e = 0;
                      return function () {
                        var n = this;
                        if (!this.vast) return null;
                        if (e >= this.vast.ads.length) return null;
                        if ((t || ((t = this.vast.nextAd()), e++), t)) {
                          var r = Array.isArray(t)
                            ? t.map(function (t) {
                                return n.merge(t);
                              })
                            : this.merge(t);
                          return (t = null), r;
                        }
                        return this.structuring();
                      };
                    }.call(this)
                  ),
                  (this.id = e.id),
                  (this.conditionalAd = e.conditionalAd),
                  (this.VASTAdTagURI = e.VASTAdTagURI),
                  (this.adSystem = e.adSystem),
                  (this.adVerifications = e.adVerifications),
                  (this.allowMultipleAds = e.allowMultipleAds),
                  (this.creatives = e.creatives
                    .map(function (t) {
                      return new Nr(t, n);
                    })
                    .sort(function (t, e) {
                      return t.sequence - e.sequence;
                    })),
                  (this.errors = e.errors),
                  (this.fallbackOnNoAd = e.fallbackOnNoAd),
                  (this.followAdditionalWrappers = e.followAdditionalWrappers),
                  (this.impression = e.impression),
                  (this.pricing = e.pricing),
                  (this.vast = e.vast ? Di(e.vast) : null),
                  (this.viewableImpression = e.viewableImpression),
                  (this.extensions = e.extensions);
              }
              var e, n;
              return (
                (e = t),
                (n = [
                  {
                    key: 'merge',
                    value: function (t) {
                      var e, n, r, i, o, a, s, u;
                      (t.pricing = this.pricing || t.pricing),
                        (t.adServingId = t.adServingId),
                        (t.adSystem = t.adSystem || this.adSystem),
                        (t.adTitle = t.adTitle),
                        (t.description = t.description),
                        (t.expires = t.expires),
                        (t.advertiser = t.advertiser),
                        (t.category = t.category),
                        (t.survey = t.survey),
                        (t.adVerifications = t.adVerifications),
                        t.viewableImpression || this.viewableImpression
                          ? (t.viewableImpression = {
                              viewable: [].concat(
                                Xr(
                                  (null === (e = t.viewableImpression) ||
                                  void 0 === e
                                    ? void 0
                                    : e.viewable) || []
                                ),
                                Xr(
                                  (null === (n = this.viewableImpression) ||
                                  void 0 === n
                                    ? void 0
                                    : n.viewable) || []
                                )
                              ),
                              notViewable: [].concat(
                                Xr(
                                  (null == t ||
                                  null === (r = t.viewableImpression) ||
                                  void 0 === r
                                    ? void 0
                                    : r.notViewable) || []
                                ),
                                Xr(
                                  (null === (i = this.viewableImpression) ||
                                  void 0 === i
                                    ? void 0
                                    : i.notViewable) || []
                                )
                              ),
                              viewUndetermined: [].concat(
                                Xr(
                                  (null == t ||
                                  null === (o = t.viewableImpression) ||
                                  void 0 === o
                                    ? void 0
                                    : o.viewUndetermined) || []
                                ),
                                Xr(
                                  (null === (a = this.viewableImpression) ||
                                  void 0 === a
                                    ? void 0
                                    : a.viewUndetermined) || []
                                )
                              ),
                            })
                          : (t.viewableImpression = void 0),
                        (t.impression = [].concat(
                          Xr(t.impression || []),
                          Xr(this.impression || [])
                        )),
                        (t.errors = [].concat(
                          Xr(t.errors || []),
                          Xr(this.errors || [])
                        )),
                        (t.extensions = [].concat(
                          Xr(t.extensions || []),
                          Xr(
                            (null === (s = this.extensions) ||
                            void 0 === s ||
                            null === (u = s.map) ||
                            void 0 === u
                              ? void 0
                              : u.call(s, function (t) {
                                  return (t.fromWrapper = !0), t;
                                })) || []
                          )
                        )),
                        (t.creatives = t.creatives);
                      var c,
                        l = $r(this.creatives);
                      try {
                        for (l.s(); !(c = l.n()).done; ) {
                          var f = c.value;
                          switch (f.type) {
                            case 'linear':
                              for (
                                var h = t.creatives.length, d = 0;
                                d < h;
                                d++
                              ) {
                                var p, v, m;
                                if ('linear' === t.creatives[d].type) {
                                  for (var y in f.trackingEvents) {
                                    var b;
                                    t.creatives[d].trackingEvents[y] ||
                                      (t.creatives[d].trackingEvents[y] = []),
                                      (b =
                                        t.creatives[d].trackingEvents[
                                          y
                                        ]).push.apply(
                                        b,
                                        Xr(f.trackingEvents[y] || [])
                                      );
                                  }
                                  !t.creatives[d].videoClicks.clickThrough &&
                                    f.videoClicks.clickThrough &&
                                    (t.creatives[d].videoClicks.clickThrough =
                                      f.videoClicks.clickThrough),
                                    t.creatives[d].videoClicks.clickTracking ||
                                      (t.creatives[
                                        d
                                      ].videoClicks.clickTracking = []),
                                    (p =
                                      t.creatives[d].videoClicks
                                        .clickTracking).push.apply(
                                      p,
                                      Xr(f.videoClicks.clickTracking || [])
                                    ),
                                    t.creatives[d].videoClicks.customClick ||
                                      (t.creatives[d].videoClicks.customClick =
                                        []),
                                    (v =
                                      t.creatives[d].videoClicks
                                        .customClick).push.apply(
                                      v,
                                      Xr(f.videoClicks.customClick || [])
                                    ),
                                    (m = t.creatives[d].icons).push.apply(
                                      m,
                                      Xr(f.icons)
                                    );
                                }
                              }
                              break;
                            case 'companionAds':
                              t.creatives[t.creatives.length] = Zr(
                                Zr({}, f),
                                {},
                                { fromWrapper: !0 }
                              );
                              break;
                            case 'nonLinearAds':
                              var g;
                              if (
                                (null === (g = f.nonLinear) || void 0 === g
                                  ? void 0
                                  : g.length) > 0
                              ) {
                                var w,
                                  k = $r(f.nonLinear);
                                try {
                                  for (k.s(); !(w = k.n()).done; )
                                    for (
                                      var S = w.value,
                                        E = t.creatives.length,
                                        T = 0;
                                      T < E;
                                      T++
                                    )
                                      if (
                                        'nonLinearAds' === t.creatives[T].type
                                      )
                                        for (
                                          var P =
                                              t.creatives[T].nonLinear.length,
                                            C = 0;
                                          C < P;
                                          C++
                                        ) {
                                          var A;
                                          (A =
                                            t.creatives[T].nonLinear[C]
                                              .nonLinearClickTracking).push.apply(
                                            A,
                                            Xr(S.nonLinearClickTracking)
                                          );
                                        }
                                } catch (t) {
                                  k.e(t);
                                } finally {
                                  k.f();
                                }
                              }
                              for (
                                var x = t.creatives.length, O = 0;
                                O < x;
                                O++
                              )
                                if ('nonLinearAds' === t.creatives[O].type)
                                  for (var j in f.trackingEvents) {
                                    var L;
                                    t.creatives[O].trackingEvents[j] ||
                                      (t.creatives[O].trackingEvents[j] = []),
                                      (L =
                                        t.creatives[O].trackingEvents[
                                          j
                                        ]).push.apply(
                                        L,
                                        Xr(f.trackingEvents[j])
                                      );
                                  }
                          }
                        }
                      } catch (t) {
                        l.e(t);
                      } finally {
                        l.f();
                      }
                      return t;
                    },
                  },
                ]),
                n &&
                  (function (t, e) {
                    for (var n = 0; n < e.length; n++) {
                      var r = e[n];
                      (r.enumerable = r.enumerable || !1),
                        (r.configurable = !0),
                        'value' in r && (r.writable = !0),
                        Object.defineProperty(t, ti(r.key), r);
                    }
                  })(e.prototype, n),
                Object.defineProperty(e, 'prototype', { writable: !1 }),
                t
              );
            })(),
            ni = ei;
          function ri(t) {
            return (
              (ri =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ri(t)
            );
          }
          function ii(t, e) {
            var n =
              ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
              t['@@iterator'];
            if (!n) {
              if (
                Array.isArray(t) ||
                (n = (function (t, e) {
                  if (t) {
                    if ('string' == typeof t) return oi(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return (
                      'Object' === n &&
                        t.constructor &&
                        (n = t.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(t)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? oi(t, e)
                        : void 0
                    );
                  }
                })(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length
                      ? { done: !0 }
                      : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = n.call(t);
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function oi(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          function ai(t) {
            var e = (function (t, e) {
              if ('object' != ri(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ri(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ri(e) ? e : String(e);
          }
          var si = (function () {
              function t(e, n) {
                var r;
                !(function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError('Cannot call a class as a function');
                })(this, t),
                  (function (t, e, n) {
                    (e = ai(e)) in t
                      ? Object.defineProperty(t, e, {
                          value: n,
                          enumerable: !0,
                          configurable: !0,
                          writable: !0,
                        })
                      : (t[e] = n);
                  })(
                    this,
                    'structuring',
                    ((r = !0),
                    function () {
                      return r
                        ? ((r = !1), this.creatives.length > 0 ? this : null)
                        : null;
                    })
                  ),
                  (this.adSystem = e.adSystem),
                  (this.adTitle = e.adTitle),
                  (this.adServingId = e.adServingId),
                  (this.impression = e.impression),
                  (this.category = e.category),
                  (this.description = e.description),
                  (this.advertiser = e.advertiser),
                  (this.pricing = e.pricing),
                  (this.survey = e.survey),
                  (this.expires = e.expires),
                  (this.viewableImpression = e.viewableImpression),
                  (this.adVerifications = e.adVerifications),
                  (this.extensions = e.extensions),
                  (this.creatives = e.creatives
                    .map(function (t) {
                      return new Nr(t, n);
                    })
                    .sort(function (t, e) {
                      return t.sequence - e.sequence;
                    })),
                  (this.errors = e.error);
              }
              var e, n;
              return (
                (e = t),
                (n = [
                  {
                    key: 'executeError',
                    value: function (t) {
                      t =
                        'string' == typeof t || 'number' == typeof t
                          ? t
                          : void 0;
                      var e,
                        n = ii(this.errors);
                      try {
                        for (n.s(); !(e = n.n()).done; ) e.value.execute(t);
                      } catch (t) {
                        n.e(t);
                      } finally {
                        n.f();
                      }
                      return !0;
                    },
                  },
                  {
                    key: 'executeImpression',
                    value: function () {
                      var t,
                        e = ii(this.impression);
                      try {
                        for (e.s(); !(t = e.n()).done; ) t.value.execute();
                      } catch (t) {
                        e.e(t);
                      } finally {
                        e.f();
                      }
                      return !0;
                    },
                  },
                ]) &&
                  (function (t, e) {
                    for (var n = 0; n < e.length; n++) {
                      var r = e[n];
                      (r.enumerable = r.enumerable || !1),
                        (r.configurable = !0),
                        'value' in r && (r.writable = !0),
                        Object.defineProperty(t, ai(r.key), r);
                    }
                  })(e.prototype, n),
                Object.defineProperty(e, 'prototype', { writable: !1 }),
                t
              );
            })(),
            ui = si;
          function ci(t) {
            return (
              (ci =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              ci(t)
            );
          }
          function li(t) {
            var e = (function (t, e) {
              if ('object' != ci(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != ci(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == ci(e) ? e : String(e);
          }
          var fi = (function () {
            function t(e, n) {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                (this.id = e.id),
                (this.conditionalAd = e.conditionalAd),
                (this.VASTVersion = n),
                e.inLine
                  ? (this.inLine = new ui(e.inLine, this.id))
                  : e.wrapper && (this.wrapper = new ni(e.wrapper, this.id));
            }
            var e, n;
            return (
              (e = t),
              (n = [
                {
                  key: 'getRootElement',
                  value: function () {
                    return this.wrapper || this.inLine || null;
                  },
                },
              ]) &&
                (function (t, e) {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    (r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(t, li(r.key), r);
                  }
                })(e.prototype, n),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          fi.prototype.getCreative;
          var hi = fi;
          function di(t) {
            return (
              (di =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              di(t)
            );
          }
          function pi(t) {
            return (
              (function (t) {
                if (Array.isArray(t)) return mi(t);
              })(t) ||
              (function (t) {
                if (
                  ('undefined' != typeof Symbol &&
                    null != t[Symbol.iterator]) ||
                  null != t['@@iterator']
                )
                  return Array.from(t);
              })(t) ||
              vi(t) ||
              (function () {
                throw new TypeError(
                  'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                );
              })()
            );
          }
          function vi(t, e) {
            if (t) {
              if ('string' == typeof t) return mi(t, e);
              var n = Object.prototype.toString.call(t).slice(8, -1);
              return (
                'Object' === n && t.constructor && (n = t.constructor.name),
                'Map' === n || 'Set' === n
                  ? Array.from(t)
                  : 'Arguments' === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? mi(t, e)
                  : void 0
              );
            }
          }
          function mi(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          function yi(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, gi(r.key), r);
            }
          }
          function bi(t, e, n) {
            return (
              (e = gi(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          function gi(t) {
            var e = (function (t, e) {
              if ('object' != di(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != di(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == di(e) ? e : String(e);
          }
          var wi = (function (t, e, n) {
            return (
              e && yi(t.prototype, e),
              n && yi(t, n),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          })(function t(e, n, r) {
            var i = this;
            if (
              ((function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
              bi(
                this,
                'nextAd',
                function () {
                  var e,
                    n = 0;
                  return function () {
                    var r = this;
                    if ('free' === t.mode) {
                      if (n >= this.ads.length) return null;
                      var i = this.ads[n++];
                      return Array.isArray(i)
                        ? i.map(function (t) {
                            return new hi(t, r.VASTVersion);
                          })
                        : new hi(i, this.VASTVersion);
                    }
                    if ('linear' === t.mode) {
                      if (n >= this.ads.length) return null;
                      var o = this.ads[n++],
                        a = Array.isArray(o)
                          ? o.map(function (t) {
                              return new hi(t, r.VASTVersion);
                            })
                          : new hi(o, this.VASTVersion);
                      if (Array.isArray(o)) {
                        var s = a.map(function (t) {
                          var e = t.getRootElement(),
                            n = e.structuring();
                          return Array.isArray(n)
                            ? (w.inform("Ad pod can't contain another ad pod"),
                              e.structuring())
                            : n;
                        });
                        return s.some(function (t) {
                          return null !== t;
                        })
                          ? s
                          : this.nextAd();
                      }
                      return a.getRootElement().structuring() || this.nextAd();
                    }
                    if ('inDepth' === t.mode) {
                      if (n >= this.ads.length) return null;
                      if (!e) {
                        var u = this.ads[n];
                        e = Array.isArray(u)
                          ? u.map(function (t) {
                              return new hi(t, r.VASTVersion);
                            })
                          : new hi(u, this.VASTVersion);
                      }
                      if (Array.isArray(e)) {
                        var c = e.map(function (t) {
                          var e = t.getRootElement(),
                            n = e.structuring();
                          return Array.isArray(n)
                            ? (w.inform("Ad pod can't contain another ad pod"),
                              e.structuring())
                            : n;
                        });
                        return (
                          (e = null),
                          n++,
                          c.every(function (t) {
                            return null === t;
                          })
                            ? this.nextAd()
                            : c
                        );
                      }
                      var l = e.getRootElement().structuring();
                      return (
                        t.callBack &&
                          l &&
                          'InLineInterface' === l.constructor.name &&
                          (l = t.callBack(l) ? l : null),
                        l || ((e = null), n++, this.nextAd())
                      );
                    }
                  };
                }.call(this)
              ),
              n)
            )
              switch (n) {
                case 'linear':
                  t.mode = 'linear';
                  break;
                case 'inDepth':
                  (t.mode = 'inDepth'),
                    r && 'function' != typeof r
                      ? console.error(
                          'Parameter callBack is not a function, it will be ignored'
                        )
                      : (t.callBack = r);
                  break;
                case 'free':
                  t.mode = 'free';
                  break;
                default:
                  throw new Error('Unknown mode');
              }
            var o = [];
            this.ads = [];
            var a,
              s = (function (t, e) {
                var n =
                  ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
                  t['@@iterator'];
                if (!n) {
                  if (Array.isArray(t) || (n = vi(t))) {
                    n && (t = n);
                    var r = 0,
                      i = function () {};
                    return {
                      s: i,
                      n: function () {
                        return r >= t.length
                          ? { done: !0 }
                          : { done: !1, value: t[r++] };
                      },
                      e: function (t) {
                        throw t;
                      },
                      f: i,
                    };
                  }
                  throw new TypeError(
                    'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                  );
                }
                var o,
                  a = !0,
                  s = !1;
                return {
                  s: function () {
                    n = n.call(t);
                  },
                  n: function () {
                    var t = n.next();
                    return (a = t.done), t;
                  },
                  e: function (t) {
                    (s = !0), (o = t);
                  },
                  f: function () {
                    try {
                      a || null == n.return || n.return();
                    } finally {
                      if (s) throw o;
                    }
                  },
                };
              })(e.ad);
            try {
              var u = function () {
                var t = a.value;
                if (t.sequence) {
                  var e = t.sequence,
                    n = ~o.findIndex(function (t) {
                      return t.every(function (t) {
                        return t.sequence !== e;
                      });
                    });
                  n ? o[~n].push(t) : (o[o.length] = [t]);
                } else i.ads[i.ads.length] = t;
              };
              for (s.s(); !(a = s.n()).done; ) u();
            } catch (t) {
              s.e(t);
            } finally {
              s.f();
            }
            (this.ads = [].concat(
              pi(
                o.map(function (t) {
                  return t.length > 1 ? t : t[0];
                })
              ),
              pi(this.ads)
            )),
              (this.VASTVersion = e.version);
          });
          bi(wi, 'mode', 'free'), bi(wi, 'callBack', null);
          var ki = wi;
          function Si(t) {
            return (
              (Si =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              Si(t)
            );
          }
          function Ei(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, Pi(r.key), r);
            }
          }
          function Ti(t, e, n) {
            return (
              (e = Pi(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          function Pi(t) {
            var e = (function (t, e) {
              if ('object' != Si(t) || !t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, 'string');
                if ('object' != Si(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return String(t);
            })(t);
            return 'symbol' == Si(e) ? e : String(e);
          }
          var Ci = (function () {
            function t() {
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError('Cannot call a class as a function');
              })(this, t),
                Ti(this, 'start', null),
                Ti(this, 'executing', !1),
                (this.controller = new AbortController()),
                (this.option = {
                  signal: this.controller.signal,
                  credentials: 'include',
                }),
                (t.instance = this);
            }
            var e, n, r;
            return (
              (e = t),
              (r = [
                {
                  key: 'getInstance',
                  value: function () {
                    return t.instance || new t();
                  },
                },
                {
                  key: 'isFirst',
                  value: function () {
                    return !Boolean(t.instance);
                  },
                },
                {
                  key: 'interval',
                  value: function () {
                    t.instance.executing &&
                      (Date.now() - t.instance.start > 15e3
                        ? (t.instance.stopRequests(),
                          w.requestAbort('Time limit exceeded.'))
                        : setTimeout(t.interval, 500));
                  },
                },
                {
                  key: 'checkingRequestLimits',
                  value: function () {
                    (t.requestCounter += 1),
                      t.requestCounter > t.maxRequests &&
                        (t.instance.stopRequests(),
                        w.requestAbort('Request limit exceeded.'));
                  },
                },
              ]),
              (n = [
                {
                  key: 'init',
                  value: function () {
                    (this.executing = !0),
                      (this.start = Date.now()),
                      t.interval.call(this);
                  },
                },
                {
                  key: 'end',
                  value: function () {
                    (this.executing = !1),
                      (this.start = null),
                      (t.requestCounter = 0);
                  },
                },
                {
                  key: 'stopRequests',
                  value: function () {
                    this.controller.abort(),
                      (this.executing = !1),
                      (this.start = null),
                      (t.requestCounter = 0);
                  },
                },
              ]) && Ei(e.prototype, n),
              r && Ei(e, r),
              Object.defineProperty(e, 'prototype', { writable: !1 }),
              t
            );
          })();
          Ti(Ci, 'instance', null),
            Ti(Ci, 'requestCounter', 0),
            Ti(Ci, 'maxRequests', 50);
          var Ai = Ci;
          function xi(t) {
            return (
              (xi =
                'function' == typeof Symbol && 'symbol' == a(Symbol.iterator)
                  ? function (t) {
                      return a(t);
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : a(t);
                    }),
              xi(t)
            );
          }
          function Oi(t, e) {
            if (t) {
              if ('string' == typeof t) return ji(t, e);
              var n = Object.prototype.toString.call(t).slice(8, -1);
              return (
                'Object' === n && t.constructor && (n = t.constructor.name),
                'Map' === n || 'Set' === n
                  ? Array.from(t)
                  : 'Arguments' === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? ji(t, e)
                  : void 0
              );
            }
          }
          function ji(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          function Li(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function Vi(t, e, n) {
            var r;
            return (
              (r = (function (t, e) {
                if ('object' != xi(t) || !t) return t;
                var n = t[Symbol.toPrimitive];
                if (void 0 !== n) {
                  var r = n.call(t, 'string');
                  if ('object' != xi(r)) return r;
                  throw new TypeError(
                    '@@toPrimitive must return a primitive value.'
                  );
                }
                return String(t);
              })(e)),
              (e = 'symbol' == xi(r) ? r : String(r)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          function Ii() {
            Ii = function () {
              return e;
            };
            var t,
              e = {},
              n = Object.prototype,
              r = n.hasOwnProperty,
              i =
                Object.defineProperty ||
                function (t, e, n) {
                  t[e] = n.value;
                },
              o = 'function' == typeof Symbol ? Symbol : {},
              a = o.iterator || '@@iterator',
              s = o.asyncIterator || '@@asyncIterator',
              u = o.toStringTag || '@@toStringTag';
            function c(t, e, n) {
              return (
                Object.defineProperty(t, e, {
                  value: n,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                }),
                t[e]
              );
            }
            try {
              c({}, '');
            } catch (t) {
              c = function (t, e, n) {
                return (t[e] = n);
              };
            }
            function l(t, e, n, r) {
              var o = e && e.prototype instanceof y ? e : y,
                a = Object.create(o.prototype),
                s = new j(r || []);
              return i(a, '_invoke', { value: C(t, n, s) }), a;
            }
            function f(t, e, n) {
              try {
                return { type: 'normal', arg: t.call(e, n) };
              } catch (t) {
                return { type: 'throw', arg: t };
              }
            }
            e.wrap = l;
            var h = 'suspendedStart',
              d = 'suspendedYield',
              p = 'executing',
              v = 'completed',
              m = {};
            function y() {}
            function b() {}
            function g() {}
            var w = {};
            c(w, a, function () {
              return this;
            });
            var k = Object.getPrototypeOf,
              S = k && k(k(L([])));
            S && S !== n && r.call(S, a) && (w = S);
            var E = (g.prototype = y.prototype = Object.create(w));
            function T(t) {
              ['next', 'throw', 'return'].forEach(function (e) {
                c(t, e, function (t) {
                  return this._invoke(e, t);
                });
              });
            }
            function P(t, e) {
              function n(i, o, a, s) {
                var u = f(t[i], t, o);
                if ('throw' !== u.type) {
                  var c = u.arg,
                    l = c.value;
                  return l && 'object' == xi(l) && r.call(l, '__await')
                    ? e.resolve(l.__await).then(
                        function (t) {
                          n('next', t, a, s);
                        },
                        function (t) {
                          n('throw', t, a, s);
                        }
                      )
                    : e.resolve(l).then(
                        function (t) {
                          (c.value = t), a(c);
                        },
                        function (t) {
                          return n('throw', t, a, s);
                        }
                      );
                }
                s(u.arg);
              }
              var o;
              i(this, '_invoke', {
                value: function (t, r) {
                  function i() {
                    return new e(function (e, i) {
                      n(t, r, e, i);
                    });
                  }
                  return (o = o ? o.then(i, i) : i());
                },
              });
            }
            function C(e, n, r) {
              var i = h;
              return function (o, a) {
                if (i === p) throw new Error('Generator is already running');
                if (i === v) {
                  if ('throw' === o) throw a;
                  return { value: t, done: !0 };
                }
                for (r.method = o, r.arg = a; ; ) {
                  var s = r.delegate;
                  if (s) {
                    var u = A(s, r);
                    if (u) {
                      if (u === m) continue;
                      return u;
                    }
                  }
                  if ('next' === r.method) r.sent = r._sent = r.arg;
                  else if ('throw' === r.method) {
                    if (i === h) throw ((i = v), r.arg);
                    r.dispatchException(r.arg);
                  } else 'return' === r.method && r.abrupt('return', r.arg);
                  i = p;
                  var c = f(e, n, r);
                  if ('normal' === c.type) {
                    if (((i = r.done ? v : d), c.arg === m)) continue;
                    return { value: c.arg, done: r.done };
                  }
                  'throw' === c.type &&
                    ((i = v), (r.method = 'throw'), (r.arg = c.arg));
                }
              };
            }
            function A(e, n) {
              var r = n.method,
                i = e.iterator[r];
              if (i === t)
                return (
                  (n.delegate = null),
                  ('throw' === r &&
                    e.iterator.return &&
                    ((n.method = 'return'),
                    (n.arg = t),
                    A(e, n),
                    'throw' === n.method)) ||
                    ('return' !== r &&
                      ((n.method = 'throw'),
                      (n.arg = new TypeError(
                        "The iterator does not provide a '" + r + "' method"
                      )))),
                  m
                );
              var o = f(i, e.iterator, n.arg);
              if ('throw' === o.type)
                return (
                  (n.method = 'throw'), (n.arg = o.arg), (n.delegate = null), m
                );
              var a = o.arg;
              return a
                ? a.done
                  ? ((n[e.resultName] = a.value),
                    (n.next = e.nextLoc),
                    'return' !== n.method && ((n.method = 'next'), (n.arg = t)),
                    (n.delegate = null),
                    m)
                  : a
                : ((n.method = 'throw'),
                  (n.arg = new TypeError('iterator result is not an object')),
                  (n.delegate = null),
                  m);
            }
            function x(t) {
              var e = { tryLoc: t[0] };
              1 in t && (e.catchLoc = t[1]),
                2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
                this.tryEntries.push(e);
            }
            function O(t) {
              var e = t.completion || {};
              (e.type = 'normal'), delete e.arg, (t.completion = e);
            }
            function j(t) {
              (this.tryEntries = [{ tryLoc: 'root' }]),
                t.forEach(x, this),
                this.reset(!0);
            }
            function L(e) {
              if (e || '' === e) {
                var n = e[a];
                if (n) return n.call(e);
                if ('function' == typeof e.next) return e;
                if (!isNaN(e.length)) {
                  var i = -1,
                    o = function n() {
                      for (; ++i < e.length; )
                        if (r.call(e, i))
                          return (n.value = e[i]), (n.done = !1), n;
                      return (n.value = t), (n.done = !0), n;
                    };
                  return (o.next = o);
                }
              }
              throw new TypeError(xi(e) + ' is not iterable');
            }
            return (
              (b.prototype = g),
              i(E, 'constructor', { value: g, configurable: !0 }),
              i(g, 'constructor', { value: b, configurable: !0 }),
              (b.displayName = c(g, u, 'GeneratorFunction')),
              (e.isGeneratorFunction = function (t) {
                var e = 'function' == typeof t && t.constructor;
                return (
                  !!e &&
                  (e === b || 'GeneratorFunction' === (e.displayName || e.name))
                );
              }),
              (e.mark = function (t) {
                return (
                  Object.setPrototypeOf
                    ? Object.setPrototypeOf(t, g)
                    : ((t.__proto__ = g), c(t, u, 'GeneratorFunction')),
                  (t.prototype = Object.create(E)),
                  t
                );
              }),
              (e.awrap = function (t) {
                return { __await: t };
              }),
              T(P.prototype),
              c(P.prototype, s, function () {
                return this;
              }),
              (e.AsyncIterator = P),
              (e.async = function (t, n, r, i, o) {
                void 0 === o && (o = Promise);
                var a = new P(l(t, n, r, i), o);
                return e.isGeneratorFunction(n)
                  ? a
                  : a.next().then(function (t) {
                      return t.done ? t.value : a.next();
                    });
              }),
              T(E),
              c(E, u, 'Generator'),
              c(E, a, function () {
                return this;
              }),
              c(E, 'toString', function () {
                return '[object Generator]';
              }),
              (e.keys = function (t) {
                var e = Object(t),
                  n = [];
                for (var r in e) n.push(r);
                return (
                  n.reverse(),
                  function t() {
                    for (; n.length; ) {
                      var r = n.pop();
                      if (r in e) return (t.value = r), (t.done = !1), t;
                    }
                    return (t.done = !0), t;
                  }
                );
              }),
              (e.values = L),
              (j.prototype = {
                constructor: j,
                reset: function (e) {
                  if (
                    ((this.prev = 0),
                    (this.next = 0),
                    (this.sent = this._sent = t),
                    (this.done = !1),
                    (this.delegate = null),
                    (this.method = 'next'),
                    (this.arg = t),
                    this.tryEntries.forEach(O),
                    !e)
                  )
                    for (var n in this)
                      't' === n.charAt(0) &&
                        r.call(this, n) &&
                        !isNaN(+n.slice(1)) &&
                        (this[n] = t);
                },
                stop: function () {
                  this.done = !0;
                  var t = this.tryEntries[0].completion;
                  if ('throw' === t.type) throw t.arg;
                  return this.rval;
                },
                dispatchException: function (e) {
                  if (this.done) throw e;
                  var n = this;
                  function i(r, i) {
                    return (
                      (s.type = 'throw'),
                      (s.arg = e),
                      (n.next = r),
                      i && ((n.method = 'next'), (n.arg = t)),
                      !!i
                    );
                  }
                  for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                    var a = this.tryEntries[o],
                      s = a.completion;
                    if ('root' === a.tryLoc) return i('end');
                    if (a.tryLoc <= this.prev) {
                      var u = r.call(a, 'catchLoc'),
                        c = r.call(a, 'finallyLoc');
                      if (u && c) {
                        if (this.prev < a.catchLoc) return i(a.catchLoc, !0);
                        if (this.prev < a.finallyLoc) return i(a.finallyLoc);
                      } else if (u) {
                        if (this.prev < a.catchLoc) return i(a.catchLoc, !0);
                      } else {
                        if (!c)
                          throw new Error(
                            'try statement without catch or finally'
                          );
                        if (this.prev < a.finallyLoc) return i(a.finallyLoc);
                      }
                    }
                  }
                },
                abrupt: function (t, e) {
                  for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var i = this.tryEntries[n];
                    if (
                      i.tryLoc <= this.prev &&
                      r.call(i, 'finallyLoc') &&
                      this.prev < i.finallyLoc
                    ) {
                      var o = i;
                      break;
                    }
                  }
                  o &&
                    ('break' === t || 'continue' === t) &&
                    o.tryLoc <= e &&
                    e <= o.finallyLoc &&
                    (o = null);
                  var a = o ? o.completion : {};
                  return (
                    (a.type = t),
                    (a.arg = e),
                    o
                      ? ((this.method = 'next'), (this.next = o.finallyLoc), m)
                      : this.complete(a)
                  );
                },
                complete: function (t, e) {
                  if ('throw' === t.type) throw t.arg;
                  return (
                    'break' === t.type || 'continue' === t.type
                      ? (this.next = t.arg)
                      : 'return' === t.type
                      ? ((this.rval = this.arg = t.arg),
                        (this.method = 'return'),
                        (this.next = 'end'))
                      : 'normal' === t.type && e && (this.next = e),
                    m
                  );
                },
                finish: function (t) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.finallyLoc === t)
                      return this.complete(n.completion, n.afterLoc), O(n), m;
                  }
                },
                catch: function (t) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.tryLoc === t) {
                      var r = n.completion;
                      if ('throw' === r.type) {
                        var i = r.arg;
                        O(n);
                      }
                      return i;
                    }
                  }
                  throw new Error('illegal catch attempt');
                },
                delegateYield: function (e, n, r) {
                  return (
                    (this.delegate = {
                      iterator: L(e),
                      resultName: n,
                      nextLoc: r,
                    }),
                    'next' === this.method && (this.arg = t),
                    m
                  );
                },
              }),
              e
            );
          }
          function Mi(t, e, n, r, i, o, a) {
            try {
              var s = t[o](a),
                u = s.value;
            } catch (t) {
              return void n(t);
            }
            s.done ? e(u) : Promise.resolve(u).then(r, i);
          }
          function _i(t) {
            return function () {
              var e = this,
                n = arguments;
              return new Promise(function (r, i) {
                var o = t.apply(e, n);
                function a(t) {
                  Mi(o, r, i, a, s, 'next', t);
                }
                function s(t) {
                  Mi(o, r, i, a, s, 'throw', t);
                }
                a(void 0);
              });
            };
          }
          Ct(989);
          var Ri = (function () {
              var t = _i(
                Ii().mark(function t(e, n) {
                  var r, i, o, a;
                  return Ii().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (
                            (r = Ai.isFirst()),
                            (i = Ai.getInstance()),
                            (o = i.option),
                            r && i.init(),
                            Ai.checkingRequestLimits(),
                            (t.next = 7),
                            Fi(e, o)
                              .then(function (t) {
                                if (t.body)
                                  throw new Error('Unsupported format');
                                for (var e in t)
                                  if (/vmap/.test(e)) return new Dr(t);
                                return new ur(t);
                              })
                              .catch(function (t) {
                                if ('function' != typeof n) throw t;
                                return n(null, t), null;
                              })
                          );
                        case 7:
                          if (
                            ((a = t.sent),
                            r && i.end(),
                            'function' != typeof n || !a)
                          ) {
                            t.next = 12;
                            break;
                          }
                          return n(a, null), t.abrupt('return', null);
                        case 12:
                          return t.abrupt('return', a);
                        case 13:
                        case 'end':
                          return t.stop();
                      }
                  }, t);
                })
              );
              return function (e, n) {
                return t.apply(this, arguments);
              };
            })(),
            Fi = (function () {
              var t = _i(
                Ii().mark(function t(e) {
                  var n,
                    r,
                    i,
                    o,
                    a = arguments;
                  return Ii().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (
                            (n = a.length > 1 && void 0 !== a[1] ? a[1] : {}),
                            (t.next = 3),
                            fetch(e, n)
                          );
                        case 3:
                          return (r = t.sent), (t.next = 6), r.text();
                        case 6:
                          return (
                            (i = t.sent),
                            (o = c.fromXML(i)),
                            t.abrupt('return', o)
                          );
                        case 9:
                        case 'end':
                          return t.stop();
                      }
                  }, t);
                })
              );
              return function (e) {
                return t.apply(this, arguments);
              };
            })(),
            Di = function (t, e, n) {
              if (!t) return null;
              switch (t.format) {
                case 'VAST':
                  return new ki(
                    (function (t) {
                      for (var e = 1; e < arguments.length; e++) {
                        var n = null != arguments[e] ? arguments[e] : {};
                        e % 2
                          ? Li(Object(n), !0).forEach(function (e) {
                              Vi(t, e, n[e]);
                            })
                          : Object.getOwnPropertyDescriptors
                          ? Object.defineProperties(
                              t,
                              Object.getOwnPropertyDescriptors(n)
                            )
                          : Li(Object(n)).forEach(function (e) {
                              Object.defineProperty(
                                t,
                                e,
                                Object.getOwnPropertyDescriptor(n, e)
                              );
                            });
                      }
                      return t;
                    })({}, t),
                    e,
                    n
                  );
                case 'VMAP':
                  var r,
                    i =
                      (function (t) {
                        if (Array.isArray(t)) return ji(t);
                      })(
                        (u = new Set(
                          t.adBreak.map(function (t) {
                            return t.timeOffset;
                          })
                        ))
                      ) ||
                      (function (t) {
                        if (
                          ('undefined' != typeof Symbol &&
                            null != t[Symbol.iterator]) ||
                          null != t['@@iterator']
                        )
                          return Array.from(t);
                      })(u) ||
                      Oi(u) ||
                      (function () {
                        throw new TypeError(
                          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                        );
                      })(),
                    o = {},
                    a = (function (t, e) {
                      var n =
                        ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
                        t['@@iterator'];
                      if (!n) {
                        if (Array.isArray(t) || (n = Oi(t))) {
                          n && (t = n);
                          var r = 0,
                            i = function () {};
                          return {
                            s: i,
                            n: function () {
                              return r >= t.length
                                ? { done: !0 }
                                : { done: !1, value: t[r++] };
                            },
                            e: function (t) {
                              throw t;
                            },
                            f: i,
                          };
                        }
                        throw new TypeError(
                          'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                        );
                      }
                      var o,
                        a = !0,
                        s = !1;
                      return {
                        s: function () {
                          n = n.call(t);
                        },
                        n: function () {
                          var t = n.next();
                          return (a = t.done), t;
                        },
                        e: function (t) {
                          (s = !0), (o = t);
                        },
                        f: function () {
                          try {
                            a || null == n.return || n.return();
                          } finally {
                            if (s) throw o;
                          }
                        },
                      };
                    })(t.adBreak);
                  try {
                    for (a.s(); !(r = a.n()).done; ) {
                      var s = r.value;
                      o[s.timeOffset] || (o[s.timeOffset] = []),
                        o[s.timeOffset].push(s);
                    }
                  } catch (t) {
                    a.e(t);
                  } finally {
                    a.f();
                  }
                  return new Mr(i, o, t.version);
                default:
                  return null;
              }
              var u;
            },
            Bi = function (t) {
              var e = t.errorMessage,
                n = t.maxRequests;
              void 0 !== e && 'boolean' == typeof e && (w.errorMessage = e),
                n &&
                  'number' == typeof n &&
                  n <= 1e3 &&
                  n > 0 &&
                  (Ai.maxRequests = n);
            };
        })();
        var xt,
          Ot,
          jt,
          Lt,
          Vt,
          It,
          Mt = At.cc,
          _t = At.Ts,
          Rt = (function () {
            function t(e) {
              c(this, t), h(this, 'source', void 0), (this.source = e);
            }
            return (
              f(t, [
                {
                  key: 'load',
                  value: function () {
                    return Mt(this.source).then(function (t) {
                      return _t(t, 'inDepth');
                    });
                  },
                },
              ]),
              t
            );
          })();
        !(function (t) {
          (t.Impression = 'impression'),
            (t.Mute = 'mute'),
            (t.Unmute = 'unmute'),
            (t.Loaded = 'loaded'),
            (t.Start = 'start'),
            (t.FirstQuartile = 'firstQuartile'),
            (t.Midpoint = 'midpoint'),
            (t.ThirdQuartile = 'thirdQuartile'),
            (t.Complete = 'complete'),
            (t.Skip = 'skip'),
            (t.Expand = 'expand'),
            (t.Collapse = 'collapse'),
            (t.Timeupdate = 'timeupdate'),
            (t.Close = 'close'),
            (t.Rewind = 'rewind'),
            (t.Pause = 'pause'),
            (t.Resume = 'resume'),
            (t.Click = 'click'),
            (t.SizeChange = 'sizeChange'),
            (t.Error = 'error'),
            (t.SkippableStateChange = 'skippableStateChange'),
            (t.VolumeChange = 'volumeChange'),
            (t.End = 'end'),
            (t.OtherInteraction = 'otherInteraction'),
            (t.CloseableStateChange = 'closeableStateChange');
        })(xt || (xt = {})),
          (function (t) {
            (t.CreativeView = 'creativeView'),
              (t.Start = 'start'),
              (t.Midpoint = 'midpoint'),
              (t.FirstQuartile = 'firstQuartile'),
              (t.ThirdQuartile = 'thirdQuartile'),
              (t.Complete = 'complete'),
              (t.Mute = 'mute'),
              (t.Unmute = 'unmute'),
              (t.Pause = 'pause'),
              (t.Rewind = 'rewind'),
              (t.Resume = 'resume'),
              (t.Fullscreen = 'fullscreen'),
              (t.Expand = 'expand'),
              (t.Collapse = 'collapse'),
              (t.AcceptInvitation = 'acceptInvitation'),
              (t.Close = 'close'),
              (t.Progress = 'progress');
          })(Ot || (Ot = {})),
          (function (t) {
            (t.PlayButtonClick = 'playButtonClick'),
              (t.PauseButtonClick = 'pauseButtonClick'),
              (t.MuteButtonClick = 'muteButtonClick'),
              (t.UnmuteButtonClick = 'unmuteButtonClick'),
              (t.ExpandButtonClick = 'expandButtonClick'),
              (t.CollapseButtonClick = 'collapseButtonClick'),
              (t.AllowedSkip = 'allowedSkip'),
              (t.SkipButtonClick = 'skipButtonClick'),
              (t.AllowedClose = 'allowedClose'),
              (t.CloseButtonClick = 'closeButtonClick');
          })(jt || (jt = {})),
          (function (t) {
            (t.Play = 'play'),
              (t.Pause = 'pause'),
              (t.Mute = 'mute'),
              (t.Unmute = 'unmute'),
              (t.Expand = 'expand'),
              (t.Collapse = 'collapse'),
              (t.Close = 'close'),
              (t.Skip = 'skip');
          })(Lt || (Lt = {})),
          (function (t) {
            (t.PlayPause = 'play-pause'),
              (t.MuteUnmute = 'mute-unmute'),
              (t.ExpandCollapse = 'expand-collapse'),
              (t.Close = 'close'),
              (t.Skip = 'skip');
          })(Vt || (Vt = {})),
          (function (t) {
            t.ProgressBar = 'progress-bar';
          })(It || (It = {}));
        var Ft,
          Dt,
          Bt = {
            rootMargin: '0px',
            threshold: [
              0, 0.025, 0.05, 0.075, 0.1, 0.125, 0.15, 0.175, 0.2, 0.225, 0.25,
              0.275, 0.3, 0.325, 0.35, 0.375, 0.4, 0.425, 0.45, 0.475, 0.5,
              0.525, 0.55, 0.575, 0.6, 0.625, 0.65, 0.675, 0.7, 0.725, 0.75,
              0.775, 0.8, 0.825, 0.85, 0.875, 0.9, 0.925, 0.95, 0.975, 1,
            ],
          },
          Ut = (function () {
            function t() {
              c(this, t),
                h(this, 'loop', void 0),
                h(this, 'playbackTime', void 0),
                h(this, 'adVendor', void 0),
                h(this, 'prevTime', void 0),
                (this.loop = new it(this.checkTimeUpdate.bind(this), 500)),
                (this.playbackTime = 0),
                (this.adVendor = null),
                (this.prevTime = 0);
            }
            return (
              f(t, [
                {
                  key: 'setVendor',
                  value: function (t) {
                    (this.prevTime = 0),
                      (this.adVendor = t),
                      this.registerListeners();
                  },
                },
                {
                  key: 'registerListeners',
                  value: function () {
                    var t = this;
                    [xt.Start, xt.Resume].forEach(function (e) {
                      return t.adVendor.subscribe(e, function () {
                        return t.loop.start();
                      });
                    }),
                      [xt.Pause, xt.End, xt.Close, xt.Skip, xt.Error].forEach(
                        function (e) {
                          return t.adVendor.subscribe(e, function () {
                            return t.loop.stop();
                          });
                        }
                      );
                  },
                },
                {
                  key: 'checkTimeUpdate',
                  value: function () {
                    var t = this.adVendor.currentTime,
                      e = t - this.prevTime;
                    (this.prevTime = t),
                      e > 1 || e < 0 || (this.playbackTime += e);
                  },
                },
                {
                  key: 'getPlaybackTime',
                  value: function () {
                    return this.playbackTime;
                  },
                },
              ]),
              t
            );
          })(),
          zt = (function () {
            function t(e) {
              c(this, t), h(this, 'ec', void 0), (this.ec = e);
            }
            return (
              f(t, [
                {
                  key: 'bindWith',
                  value: function (t) {
                    for (
                      var e = this,
                        n = function () {
                          var n = i[r];
                          t.subscribe(n, function () {
                            return e.ec.triggerEvent(n);
                          });
                        },
                        r = 0,
                        i = Object.values(xt);
                      r < i.length;
                      r++
                    )
                      n();
                  },
                },
              ]),
              t
            );
          })(),
          Ht = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'videoElement', void 0),
                h(this, 'eventHandlers', void 0),
                h(this, 'prevTime', void 0),
                h(this, 'elapsedTime', void 0),
                (this.videoElement = e),
                (this.eventHandlers = []),
                (this.prevTime = 0),
                (this.elapsedTime = n),
                (this.handleTimeUpdate = this.handleTimeUpdate.bind(this)),
                this.videoElement.addEventListener(
                  'timeupdate',
                  this.handleTimeUpdate
                );
            }
            return (
              f(t, [
                {
                  key: 'subscribe',
                  value: function (t) {
                    this.eventHandlers.push(t);
                  },
                },
                {
                  key: 'handleTimeUpdate',
                  value: function () {
                    var t = this.videoElement.currentTime,
                      e = t - this.prevTime;
                    (this.prevTime = t),
                      (e > 1 || e < 0) && (this.elapsedTime += e),
                      t >= this.elapsedTime &&
                        (this.invokeHandlers(),
                        this.videoElement.removeEventListener(
                          'timeupdate',
                          this.handleTimeUpdate
                        ));
                  },
                },
                {
                  key: 'invokeHandlers',
                  value: function () {
                    var t,
                      e = E(this.eventHandlers);
                    try {
                      for (e.s(); !(t = e.n()).done; ) {
                        (0, t.value)();
                      }
                    } catch (t) {
                      e.e(t);
                    } finally {
                      e.f();
                    }
                  },
                },
              ]),
              t
            );
          })(),
          Wt = (function (e) {
            function n(e, r) {
              return (
                c(this, n),
                t(this, n, [
                  {
                    addEventListener: function (t, n) {
                      e.subscribe(t, n);
                    },
                    removeEventListener: function (t, n) {
                      e.unsubscribe(t, n);
                    },
                    get currentTime() {
                      return e.currentTime;
                    },
                  },
                  r,
                ])
              );
            }
            return d(n, e), f(n);
          })(Ht),
          qt =
            (h(
              h(
                h(
                  h(
                    h(
                      h(
                        h(
                          h(
                            h(
                              h((Ft = {}), Ot.CreativeView, xt.Impression),
                              Ot.Start,
                              xt.Start
                            ),
                            Ot.FirstQuartile,
                            xt.FirstQuartile
                          ),
                          Ot.Midpoint,
                          xt.Midpoint
                        ),
                        Ot.ThirdQuartile,
                        xt.ThirdQuartile
                      ),
                      Ot.Complete,
                      xt.Complete
                    ),
                    Ot.Mute,
                    xt.Mute
                  ),
                  Ot.Unmute,
                  xt.Unmute
                ),
                Ot.Pause,
                xt.Pause
              ),
              Ot.Rewind,
              xt.Rewind
            ),
            h(
              h(
                h(
                  h(
                    h(
                      h(h(Ft, Ot.Resume, xt.Resume), Ot.Expand, xt.Expand),
                      Ot.Collapse,
                      xt.Collapse
                    ),
                    Ot.AcceptInvitation,
                    xt.OtherInteraction
                  ),
                  Ot.Close,
                  xt.Close
                ),
                Ot.Progress,
                xt.Timeupdate
              ),
              Ot.Fullscreen,
              null
            )),
          Nt = (function () {
            function t(e) {
              c(this, t),
                h(this, 'collectedVastEvents', void 0),
                (this.collectedVastEvents = e);
            }
            return (
              f(t, [
                {
                  key: 'bindWith',
                  value: function (t) {
                    var e, n, r;
                    this.collectedVastEvents.impression.forEach(function (e) {
                      return t.subscribe(xt.Impression, function () {
                        return e.execute();
                      });
                    }),
                      this.bindTrackingEvents(t),
                      null === (e = this.collectedVastEvents.error) ||
                        void 0 === e ||
                        e.forEach(function (e) {
                          return t.subscribe(xt.Error, function () {
                            return e.execute();
                          });
                        }),
                      null === (n = this.collectedVastEvents.videoClicks) ||
                        void 0 === n ||
                        n.customClick.forEach(function (e) {
                          return t.subscribe(xt.Click, function () {
                            return e.execute();
                          });
                        }),
                      null === (r = this.collectedVastEvents.videoClicks) ||
                        void 0 === r ||
                        r.clickTracking.forEach(function (e) {
                          return t.subscribe(xt.Click, function () {
                            return e.execute();
                          });
                        });
                  },
                },
                {
                  key: 'bindTrackingEvents',
                  value: function (t) {
                    var e = this;
                    this.collectedVastEvents.trackingEvents &&
                      Object.values(
                        this.collectedVastEvents.trackingEvents
                      ).forEach(function (n) {
                        n.forEach(function (n) {
                          var r = qt[n.event];
                          if (r)
                            if (n.event === Ot.Progress) {
                              if (!n.offset) return;
                              t.subscribe(xt.Loaded, function () {
                                return e.handleProgressTrackingEvent(t, n);
                              });
                            } else
                              t.subscribe(r, function () {
                                return n.execute();
                              });
                        });
                      });
                  },
                },
                {
                  key: 'handleProgressTrackingEvent',
                  value: function (t, e) {
                    var n = this.getProgressTimeOffset(t, e);
                    x(n) &&
                      new Wt(t, n).subscribe(function () {
                        return e.execute();
                      });
                  },
                },
                {
                  key: 'getProgressTimeOffset',
                  value: function (t, e) {
                    var n;
                    return null !== (n = e.offset) &&
                      void 0 !== n &&
                      n.endsWith('%')
                      ? (+e.offset.slice(0, -1) / 100) * t.duration
                      : W(e.offset);
                  },
                },
              ]),
              t
            );
          })(),
          Qt = (function () {
            function t(e) {
              c(this, t), h(this, 'mediaFile', void 0), (this.mediaFile = e);
            }
            return (
              f(t, [
                {
                  key: 'filter',
                  value: function () {
                    this.mediaFile = this.mediaFile.filter(function (t) {
                      return t.uri;
                    });
                  },
                },
                {
                  key: 'sort',
                  value: function (t, e) {
                    (0 === t && 0 === e) ||
                      this.mediaFile.sort(function (n, r) {
                        var i = 0;
                        return (
                          e &&
                            n.height &&
                            r.height &&
                            (i +=
                              Math.abs(n.height - e) - Math.abs(r.height - e)),
                          t &&
                            n.width &&
                            r.width &&
                            (i +=
                              Math.abs(n.width - t) - Math.abs(r.width - t)),
                          i
                        );
                      });
                  },
                },
                {
                  key: 'getSources',
                  value: function () {
                    return this.mediaFile.map(function (t) {
                      var e = document.createElement('source');
                      return (e.src = t.uri), (e.type = t.type), e;
                    });
                  },
                },
                {
                  key: 'hasValidSources',
                  value: function () {
                    return this.mediaFile.length > 0;
                  },
                },
              ]),
              t
            );
          })();
        (Dt = function (t) {
          return 'function' == typeof Node
            ? t instanceof Node
            : t &&
                'object' === a(t) &&
                t.nodeName &&
                t.nodeType >= 1 &&
                t.nodeType <= 12;
        }),
          (!window.Element && 'append' in window.Element.prototype) ||
            (window.Element.prototype.append = function () {
              for (
                var t = arguments.length, e = new Array(t), n = 0;
                n < t;
                n++
              )
                e[n] = arguments[n];
              for (
                var r = Array.prototype.slice.call(e),
                  i = document.createDocumentFragment(),
                  o = 0;
                o < r.length;
                o++
              )
                i.appendChild(
                  Dt(r[o]) ? r[o] : document.createTextNode(String(r[o]))
                );
              this.appendChild(i);
            }),
          [
            Element.prototype,
            CharacterData.prototype,
            DocumentType.prototype,
          ].forEach(function (t) {
            t.hasOwnProperty('remove') ||
              Object.defineProperty(t, 'remove', {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                value: function () {
                  this.parentNode.removeChild(this);
                },
              });
          });
        var Gt = (function () {
            function t(e) {
              var n, r;
              c(this, t),
                h(this, 'elem', void 0),
                h(this, 'mainElement', void 0),
                h(this, 'isImg', void 0),
                h(this, 'isIframe', void 0),
                h(this, 'elementDimensions', void 0),
                (this.elem = e),
                (this.isImg = this.elem instanceof HTMLImageElement),
                (this.isIframe = this.elem instanceof HTMLIFrameElement),
                (this.mainElement =
                  this.isImg || this.isIframe
                    ? this.elem.parentNode
                    : this.elem);
              var i = window.getComputedStyle(this.mainElement).position;
              ('static' !== i && i) ||
                (this.mainElement.style.position = 'relative'),
                (this.elementDimensions = {
                  width: this.elem.offsetWidth,
                  height: this.elem.offsetHeight,
                  widthParent:
                    (null === (n = this.elem.offsetParent) || void 0 === n
                      ? void 0
                      : n.offsetWidth) || this.elem.offsetWidth,
                  heightParent:
                    (null === (r = this.elem.offsetParent) || void 0 === r
                      ? void 0
                      : r.offsetHeight) || this.elem.offsetHeight,
                  left: this.elem.offsetLeft,
                  top: this.elem.offsetTop,
                });
            }
            return (
              f(t, [
                {
                  key: 'append',
                  value: function (t, e) {
                    var n;
                    if (!this.isImg || this.elem.complete) {
                      null !== (n = this.mainElement) &&
                      void 0 !== n &&
                      null !== (n = n.ownerDocument) &&
                      void 0 !== n &&
                      n.defaultView &&
                      this.mainElement instanceof
                        this.mainElement.ownerDocument.defaultView
                          .HTMLBodyElement
                        ? (t.style.position = 'fixed')
                        : (t.style.position = 'absolute'),
                        this.mainElement.append(t);
                      var r = this.isImg || this.isIframe;
                      e.top &&
                        (t.style.top = r
                          ? this.elementDimensions.top + 'px'
                          : '0px'),
                        e.bottom &&
                          (t.style.bottom = r
                            ? this.elementDimensions.heightParent -
                              this.elementDimensions.height -
                              this.elementDimensions.top +
                              'px'
                            : '0px'),
                        e.right &&
                          (t.style.right = r
                            ? this.elementDimensions.widthParent -
                              this.elementDimensions.width -
                              this.elementDimensions.left +
                              'px'
                            : '0px'),
                        e.left &&
                          (t.style.left = r
                            ? this.elementDimensions.left + 'px'
                            : '0px');
                    } else
                      this.elem.addEventListener(
                        'load',
                        this.append.bind(this, t, e),
                        { once: !0 }
                      );
                  },
                },
              ]),
              t
            );
          })(),
          Zt = (function () {
            function t(e) {
              c(this, t),
                h(this, 'wrapper', void 0),
                h(this, 'contentWrapper', void 0),
                h(this, 'openSize', ''),
                (this.wrapper = document.createElement('div')),
                (this.wrapper.style.overflow = 'hidden'),
                (this.wrapper.style.width = e),
                (this.wrapper.style.height = '0px'),
                (this.wrapper.style.transitionDuration = '0.2s'),
                (this.wrapper.style.zIndex = '10000'),
                (this.wrapper.style.left = '0px'),
                (this.contentWrapper = document.createElement('div')),
                (this.contentWrapper.style.width = '100%'),
                (this.contentWrapper.style.overflow = 'hidden'),
                (this.contentWrapper.style.backgroundColor = '#eee'),
                (this.contentWrapper.style.padding = '3px'),
                (this.contentWrapper.style.boxSizing = 'border-box'),
                this.wrapper.append(this.contentWrapper);
            }
            return (
              f(t, [
                {
                  key: 'open',
                  value: function () {
                    this.wrapper.style.height =
                      this.openSize ||
                      (this.openSize = this.contentWrapper.offsetHeight + 'px');
                  },
                },
                {
                  key: 'close',
                  value: function () {
                    this.wrapper.style.height = '0px';
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    this.wrapper.remove();
                  },
                },
                {
                  key: 'insertContent',
                  value: function (t) {
                    if ('string' == typeof t && 0 !== t.length) {
                      var e = document.createElement('span');
                      (e.style.wordWrap = 'break-word'),
                        (e.style.fontFamily = 'arial, sans serif'),
                        (e.style.fontSize = '11px'),
                        (e.innerHTML = t),
                        this.contentWrapper.append(e);
                    }
                  },
                },
                {
                  key: 'getElement',
                  value: function () {
                    return this.wrapper;
                  },
                },
              ]),
              t
            );
          })(),
          $t = (function () {
            function t() {
              c(this, t);
            }
            return (
              f(t, null, [
                {
                  key: 'erirIcon',
                  value: function () {
                    var t = 'http://www.w3.org/2000/svg',
                      e = document.createElementNS(t, 'svg'),
                      n = document.createElementNS(t, 'path');
                    e.append(n),
                      (e.style.width = '9px'),
                      (e.style.height = '9px'),
                      (e.style.fill = 'white'),
                      e.setAttribute('viewBox', '0 0 192 512'),
                      n.setAttribute(
                        'd',
                        'M160 448h-32V224c0-17.69-14.33-32-32-32L32 192c-17.67 0-32 14.31-32 32s14.33 31.1 32 31.1h32v192H32c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32S177.7 448 160 448zM96 128c26.51 0 48-21.49 48-48S122.5 32.01 96 32.01s-48 21.49-48 48S69.49 128 96 128z'
                      );
                    var r = document.createElement('div');
                    return (
                      (r.style.boxSizing = 'border-box'),
                      (r.style.padding = '1px 2px'),
                      (r.style.display = 'flex'),
                      (r.style.justifyContent = 'center'),
                      (r.style.alignItems = 'center'),
                      r.append(e),
                      r
                    );
                  },
                },
              ]),
              t
            );
          })(),
          Xt = (function () {
            function t(e) {
              var n,
                r,
                i,
                o = this,
                a = e.erirId,
                s = e.containerid,
                u = e.ads,
                l = e.position,
                f = e.errorHandler,
                d = e.delay;
              c(this, t),
                h(this, 'errorHandler', void 0),
                h(this, 'position', void 0),
                h(this, 'linker', void 0),
                h(this, 'removerList', []),
                h(this, 'ads', void 0),
                h(this, 'erir', void 0),
                h(this, 'parentId', void 0),
                h(this, 'parentEl', void 0),
                h(
                  this,
                  'isMobile',
                  ((i = (r || window.navigator.userAgent).toLowerCase()),
                  /android|webos|iphone|ipad|ipod|blackberry|bb|playbook|iemobile|windows phone|kindle|silk|opera mini/i.test(
                    i
                  ))
                ),
                h(this, 'completed', !1),
                (this.erir = 'string' == typeof a && a.length > 0 ? a : void 0),
                'string' != typeof s && s
                  ? null != s &&
                    null !== (n = s.ownerDocument) &&
                    void 0 !== n &&
                    n.defaultView &&
                    s instanceof s.ownerDocument.defaultView.HTMLElement
                    ? (this.parentEl = s)
                    : this.throwError(new Error('Missing element for marking'))
                  : ((this.parentId = s),
                    (this.parentEl = this.parentId
                      ? document.querySelector(
                          /^#.+/.test(this.parentId)
                            ? this.parentId
                            : '#'.concat(this.parentId)
                        )
                      : window.document.body),
                    this.parentEl ||
                      this.throwError(
                        new Error('Element with id '.concat(s, ' not found'))
                      )),
                (this.errorHandler = f),
                (this.ads = u),
                (this.position = l || { top: !0, left: !0 }),
                (this.linker = new Gt(this.parentEl)),
                1 !== this.parentEl.nodeType &&
                  this.throwError(new Error('Invalid node type.')),
                (d = 'number' == typeof d ? d : 0),
                setTimeout(function () {
                  (o.parentEl === o.parentEl.ownerDocument.body ||
                    o.parentEl.ownerDocument.body.contains(o.parentEl)) &&
                    (o.addErir(), o.addAddIcon(), (o.completed = !0));
                }, d);
            }
            return (
              f(t, [
                {
                  key: 'addErir',
                  value: function () {
                    if (this.erir) {
                      var t =
                          this.linker.isImg || this.linker.isIframe
                            ? this.parentEl.offsetWidth + 'px'
                            : '100%',
                        e = new Zt(t);
                      e.insertContent('erid: ' + this.erir);
                      var n,
                        r = this.makeErirIcon();
                      if (this.isMobile)
                        r.addEventListener('click', function () {
                          (n = setTimeout(e.close.bind(e), 1e4)), e.open();
                        }),
                          e.getElement().addEventListener('click', function () {
                            n && clearTimeout(n),
                              (n = setTimeout(e.close.bind(e), 1e4));
                          });
                      else
                        r.addEventListener('mouseenter', e.open.bind(e)),
                          e
                            .getElement()
                            .addEventListener('mouseleave', e.close.bind(e));
                      this.linker.append(r, { top: !0, right: !0 }),
                        this.linker.append(e.getElement(), { top: !0 }),
                        this.removerList.push(e.remove.bind(e)),
                        this.removerList.push(r.remove.bind(r));
                    }
                  },
                },
                {
                  key: 'addAddIcon',
                  value: function () {
                    var t;
                    if (this.ads) {
                      this.position.top &&
                        this.position.right &&
                        this.erir &&
                        (this.position.right = !1),
                        this.position.bottom || this.position.top
                          ? this.position.bottom &&
                            this.position.top &&
                            (this.position.bottom = !1)
                          : (this.position.top = !0),
                        this.position.left || this.position.right
                          ? this.position.left &&
                            this.position.right &&
                            (this.position.right = !1)
                          : (this.position.left = !0);
                      var e = this.makeAdIcon();
                      this.removerList.push(e.remove.bind(e)),
                        this.linker.append(e, this.position);
                      var n =
                        (null === (t = this.ads) || void 0 === t
                          ? void 0
                          : t.info) || '';
                      if (n) {
                        var r,
                          i =
                            this.linker.isImg || this.linker.isIframe
                              ? this.parentEl.offsetWidth + 'px'
                              : '100%',
                          o = new Zt(i);
                        if (
                          (o.insertContent(n),
                          this.linker.append(o.getElement(), {
                            top: this.position.top,
                            bottom: this.position.bottom,
                          }),
                          this.isMobile)
                        )
                          e.addEventListener('click', function () {
                            (r = setTimeout(o.close.bind(o), 1e4)), o.open();
                          }),
                            o
                              .getElement()
                              .addEventListener('click', function () {
                                r && clearTimeout(r),
                                  (r = setTimeout(o.close.bind(o), 1e4));
                              });
                        else
                          e.addEventListener('mouseenter', function () {
                            o.open.bind(o)();
                          }),
                            o
                              .getElement()
                              .addEventListener('mouseleave', o.close.bind(o));
                        this.removerList.push(o.remove.bind(o));
                      }
                    }
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    this.removerList.forEach(function (t) {
                      return t();
                    });
                  },
                },
                {
                  key: 'throwError',
                  value: function (t) {
                    if ('function' != typeof this.errorHandler) throw t;
                    this.errorHandler(t);
                  },
                },
                {
                  key: 'makeErirIcon',
                  value: function () {
                    var t = $t.erirIcon(),
                      e = document.createElement('div');
                    return (
                      (e.style.height = '11px'),
                      (e.style.width = '11px'),
                      (e.style.backgroundColor = 'rgba(0, 120, 215, 1)'),
                      (e.style.display = 'flex'),
                      (e.style.alignItems = 'center'),
                      (e.style.justifyContent = 'center'),
                      (e.style.borderRadius = '50%'),
                      (e.style.marginTop = '2px'),
                      (e.style.marginRight = '2px'),
                      (e.style.cursor = 'pointer'),
                      (e.style.zIndex = '9999'),
                      e.append(t),
                      e
                    );
                  },
                },
                {
                  key: 'makeAdIcon',
                  value: function () {
                    var t = document.createElement('div');
                    (t.style.color = '#000'),
                      (t.style.cursor = 'pointer'),
                      (t.style.zIndex = '9999');
                    var e = document.createElement('div');
                    return (
                      (e.style.fontFamily = 'arial, sans serif'),
                      (e.style.display = 'inline - block'),
                      (e.style.padding = '1px 5px'),
                      (e.style.border = '1px solid #ccc'),
                      (e.style.borderRadius = '6px'),
                      (e.style.background = '#eee'),
                      (e.style.margin = '2px'),
                      (e.style.margin = '2px'),
                      (e.style.fontSize = '9px'),
                      (e.innerHTML = 'РЕКЛАМА'),
                      t.append(e),
                      t
                    );
                  },
                },
              ]),
              t
            );
          })(),
          Yt = {
            'box-sizing': 'border-box',
            height: '100%',
            display: 'flex',
            'flex-direction': 'column-reverse',
          },
          Jt = {
            display: 'flex',
            'align-items': 'center',
            'justify-content': 'space-between',
            margin: '0 7px 7px',
          },
          Kt = { display: 'flex' },
          te = { width: '100%' },
          ee = (function () {
            function t(e) {
              c(this, t),
                h(this, 'container', void 0),
                h(this, 'firstRow', void 0),
                h(this, 'secondRow', void 0),
                h(this, 'progressBarRow', void 0),
                h(this, 'config', void 0),
                (this.container = document.createElement('div')),
                (this.config = e),
                X(this.container, Yt),
                (this.progressBarRow = document.createElement('div')),
                X(this.progressBarRow, te),
                (this.firstRow = this.createRow()),
                (this.secondRow = this.createRow()),
                this.container.append(
                  this.progressBarRow,
                  this.firstRow.row,
                  this.secondRow.row
                ),
                this.initAdMarking();
            }
            return (
              f(t, [
                {
                  key: 'insertInto',
                  value: function (t) {
                    t.append(this.container);
                  },
                },
                {
                  key: 'insertPlayPauseButton',
                  value: function (t) {
                    var e = document.createElement('div');
                    this.addMarginToRightButton(e),
                      t.insertInto(e),
                      this.firstRow.right.append(e);
                  },
                },
                {
                  key: 'insertMuteUnmuteButton',
                  value: function (t) {
                    var e = document.createElement('div');
                    this.addMarginToRightButton(e),
                      t.insertInto(e),
                      this.firstRow.right.append(e);
                  },
                },
                {
                  key: 'insertCloseButton',
                  value: function (t) {
                    var e = document.createElement('div');
                    this.addMarginToLeftButton(e),
                      t.insertInto(e),
                      this.firstRow.left.first.append(e);
                  },
                },
                {
                  key: 'insertExpandCollapseButton',
                  value: function (t) {
                    var e = document.createElement('div');
                    this.addMarginToRightButton(e),
                      t.insertInto(e),
                      this.firstRow.right.append(e);
                  },
                },
                {
                  key: 'insertSkipButton',
                  value: function (t) {
                    var e = document.createElement('div');
                    this.addMarginToRightButton(e),
                      t.insertInto(e),
                      this.secondRow.right.append(e);
                  },
                },
                {
                  key: 'insertProgressBar',
                  value: function (t) {
                    t.insertInto(this.progressBarRow);
                  },
                },
                {
                  key: 'initAdMarking',
                  value: function () {
                    var t, e;
                    this.config.adMarking &&
                      new Xt({
                        erirId:
                          null === (t = this.config.adMarking) || void 0 === t
                            ? void 0
                            : t.erirId,
                        containerid: this.container,
                        ads:
                          null === (e = this.config.adMarking) || void 0 === e
                            ? void 0
                            : e.ads,
                        position: { top: !0, bottom: !1, left: !0, right: !1 },
                      });
                  },
                },
                {
                  key: 'createLeft',
                  value: function () {
                    var t = document.createElement('div');
                    X(t, Kt);
                    var e = document.createElement('div'),
                      n = document.createElement('div'),
                      r = document.createElement('div');
                    return (
                      t.append(e, n, r),
                      { leftRow: t, left: { first: e, second: n, third: r } }
                    );
                  },
                },
                {
                  key: 'createRow',
                  value: function () {
                    var t = document.createElement('div');
                    X(t, Jt);
                    var e = this.createLeft(),
                      n = e.leftRow,
                      r = e.left,
                      i = document.createElement('div');
                    return (
                      X(i, Kt), t.append(n, i), { row: t, right: i, left: r }
                    );
                  },
                },
                {
                  key: 'addMarginToLeftButton',
                  value: function (t) {
                    t.style.marginRight = '8px';
                  },
                },
                {
                  key: 'addMarginToRightButton',
                  value: function (t) {
                    t.style.marginLeft = '8px';
                  },
                },
              ]),
              t
            );
          })(),
          ne = (function () {
            function t(e, n, r) {
              c(this, t),
                h(this, 'controlsConfig', void 0),
                h(this, 'decoratorsConfig', void 0),
                h(this, 'markup', void 0),
                (this.controlsConfig = e),
                (this.decoratorsConfig = n),
                (this.markup = new ee(r));
            }
            return (
              f(t, [
                {
                  key: 'createControls',
                  value: function (t, e) {
                    if (this.controlsConfig[Vt.PlayPause].include) {
                      var n = t.createPlayPauseButton();
                      e.bindPlayPauseButton(n),
                        this.markup.insertPlayPauseButton(n);
                    }
                    if (this.controlsConfig[Vt.MuteUnmute].include) {
                      var r = t.createMuteUnmuteButton();
                      e.bindMuteUnmuteButton(r),
                        this.markup.insertMuteUnmuteButton(r);
                    }
                    if (this.controlsConfig[Vt.ExpandCollapse].include) {
                      var i = t.createExpandCollapseButton();
                      e.bindExpandCollapseButton(i),
                        this.markup.insertExpandCollapseButton(i);
                    }
                    if (this.controlsConfig[Vt.Close].include) {
                      var o = t.createCloseButton();
                      e.bindCloseButton(o), this.markup.insertCloseButton(o);
                    }
                    if (this.controlsConfig[Vt.Skip].include) {
                      var a = t.createSkipButton();
                      e.bindSkipButton(a), this.markup.insertSkipButton(a);
                    }
                    e.bindControlPanel(this.markup.container);
                  },
                },
                {
                  key: 'createDecorators',
                  value: function (t, e) {
                    if (this.decoratorsConfig[It.ProgressBar].include) {
                      var n = t.createProgressBar();
                      e.bindProgressBar(n), this.markup.insertProgressBar(n);
                    }
                  },
                },
                {
                  key: 'insertInto',
                  value: function (t) {
                    this.markup.insertInto(t);
                  },
                },
              ]),
              t
            );
          })(),
          re = {
            position: 'relative',
            'background-color': 'rgb(0, 0, 0)',
            width: '100%',
            height: '100%',
          },
          ie = {
            position: 'absolute',
            'z-index': '1',
            width: '100%',
            height: '100%',
            display: 'block',
          },
          oe = {
            cursor: 'pointer',
            position: 'absolute',
            'z-index': '2',
            width: '100%',
            height: '100%',
          },
          ae = (function () {
            function t() {
              var e = this;
              c(this, t),
                h(this, '_videoSlot', void 0),
                h(this, '_slot', void 0),
                h(this, '_wrapper', void 0),
                (this._wrapper = document.createElement('div')),
                X(this._wrapper, re),
                (this._videoSlot = document.createElement('video')),
                X(this._videoSlot, ie),
                (this._videoSlot.playsInline = !0),
                (this._videoSlot.muted = !0),
                (this._videoSlot.volume = 1),
                (this._slot = document.createElement('div')),
                X(this._slot, oe),
                this._wrapper.append(this._videoSlot, this._slot),
                this._slot.addEventListener('click', function () {
                  return e._videoSlot.dispatchEvent(new Event('click'));
                });
            }
            return (
              f(t, [
                {
                  key: 'insertInto',
                  value: function (t) {
                    t.append(this._wrapper);
                  },
                },
                {
                  key: 'destroy',
                  value: function () {
                    this._wrapper.remove();
                  },
                },
                {
                  key: 'slot',
                  get: function () {
                    return this._slot;
                  },
                },
                {
                  key: 'videoSlot',
                  get: function () {
                    return this._videoSlot;
                  },
                },
              ]),
              t
            );
          })(),
          se = (function () {
            if ('undefined' != typeof Map) return Map;
            function t(t, e) {
              var n = -1;
              return (
                t.some(function (t, r) {
                  return t[0] === e && ((n = r), !0);
                }),
                n
              );
            }
            return (function () {
              function e() {
                this.__entries__ = [];
              }
              return (
                Object.defineProperty(e.prototype, 'size', {
                  get: function () {
                    return this.__entries__.length;
                  },
                  enumerable: !0,
                  configurable: !0,
                }),
                (e.prototype.get = function (e) {
                  var n = t(this.__entries__, e),
                    r = this.__entries__[n];
                  return r && r[1];
                }),
                (e.prototype.set = function (e, n) {
                  var r = t(this.__entries__, e);
                  ~r
                    ? (this.__entries__[r][1] = n)
                    : this.__entries__.push([e, n]);
                }),
                (e.prototype.delete = function (e) {
                  var n = this.__entries__,
                    r = t(n, e);
                  ~r && n.splice(r, 1);
                }),
                (e.prototype.has = function (e) {
                  return !!~t(this.__entries__, e);
                }),
                (e.prototype.clear = function () {
                  this.__entries__.splice(0);
                }),
                (e.prototype.forEach = function (t, e) {
                  void 0 === e && (e = null);
                  for (var n = 0, r = this.__entries__; n < r.length; n++) {
                    var i = r[n];
                    t.call(e, i[1], i[0]);
                  }
                }),
                e
              );
            })();
          })(),
          ue =
            'undefined' != typeof window &&
            'undefined' != typeof document &&
            window.document === document,
          ce =
            'undefined' != typeof global && global.Math === Math
              ? global
              : 'undefined' != typeof self && self.Math === Math
              ? self
              : 'undefined' != typeof window && window.Math === Math
              ? window
              : Function('return this')(),
          le =
            'function' == typeof requestAnimationFrame
              ? requestAnimationFrame.bind(ce)
              : function (t) {
                  return setTimeout(function () {
                    return t(Date.now());
                  }, 1e3 / 60);
                };
        var fe = [
            'top',
            'right',
            'bottom',
            'left',
            'width',
            'height',
            'size',
            'weight',
          ],
          he = 'undefined' != typeof MutationObserver,
          de = (function () {
            function t() {
              (this.connected_ = !1),
                (this.mutationEventsAdded_ = !1),
                (this.mutationsObserver_ = null),
                (this.observers_ = []),
                (this.onTransitionEnd_ = this.onTransitionEnd_.bind(this)),
                (this.refresh = (function (t, e) {
                  var n = !1,
                    r = !1,
                    i = 0;
                  function o() {
                    n && ((n = !1), t()), r && s();
                  }
                  function a() {
                    le(o);
                  }
                  function s() {
                    var t = Date.now();
                    if (n) {
                      if (t - i < 2) return;
                      r = !0;
                    } else (n = !0), (r = !1), setTimeout(a, e);
                    i = t;
                  }
                  return s;
                })(this.refresh.bind(this), 20));
            }
            return (
              (t.prototype.addObserver = function (t) {
                ~this.observers_.indexOf(t) || this.observers_.push(t),
                  this.connected_ || this.connect_();
              }),
              (t.prototype.removeObserver = function (t) {
                var e = this.observers_,
                  n = e.indexOf(t);
                ~n && e.splice(n, 1),
                  !e.length && this.connected_ && this.disconnect_();
              }),
              (t.prototype.refresh = function () {
                this.updateObservers_() && this.refresh();
              }),
              (t.prototype.updateObservers_ = function () {
                var t = this.observers_.filter(function (t) {
                  return t.gatherActive(), t.hasActive();
                });
                return (
                  t.forEach(function (t) {
                    return t.broadcastActive();
                  }),
                  t.length > 0
                );
              }),
              (t.prototype.connect_ = function () {
                ue &&
                  !this.connected_ &&
                  (document.addEventListener(
                    'transitionend',
                    this.onTransitionEnd_
                  ),
                  window.addEventListener('resize', this.refresh),
                  he
                    ? ((this.mutationsObserver_ = new MutationObserver(
                        this.refresh
                      )),
                      this.mutationsObserver_.observe(document, {
                        attributes: !0,
                        childList: !0,
                        characterData: !0,
                        subtree: !0,
                      }))
                    : (document.addEventListener(
                        'DOMSubtreeModified',
                        this.refresh
                      ),
                      (this.mutationEventsAdded_ = !0)),
                  (this.connected_ = !0));
              }),
              (t.prototype.disconnect_ = function () {
                ue &&
                  this.connected_ &&
                  (document.removeEventListener(
                    'transitionend',
                    this.onTransitionEnd_
                  ),
                  window.removeEventListener('resize', this.refresh),
                  this.mutationsObserver_ &&
                    this.mutationsObserver_.disconnect(),
                  this.mutationEventsAdded_ &&
                    document.removeEventListener(
                      'DOMSubtreeModified',
                      this.refresh
                    ),
                  (this.mutationsObserver_ = null),
                  (this.mutationEventsAdded_ = !1),
                  (this.connected_ = !1));
              }),
              (t.prototype.onTransitionEnd_ = function (t) {
                var e = t.propertyName,
                  n = void 0 === e ? '' : e;
                fe.some(function (t) {
                  return !!~n.indexOf(t);
                }) && this.refresh();
              }),
              (t.getInstance = function () {
                return (
                  this.instance_ || (this.instance_ = new t()), this.instance_
                );
              }),
              (t.instance_ = null),
              t
            );
          })(),
          pe = function (t, e) {
            for (var n = 0, r = Object.keys(e); n < r.length; n++) {
              var i = r[n];
              Object.defineProperty(t, i, {
                value: e[i],
                enumerable: !1,
                writable: !1,
                configurable: !0,
              });
            }
            return t;
          },
          ve = function (t) {
            return (t && t.ownerDocument && t.ownerDocument.defaultView) || ce;
          },
          me = Se(0, 0, 0, 0);
        function ye(t) {
          return parseFloat(t) || 0;
        }
        function be(t) {
          for (var e = [], n = 1; n < arguments.length; n++)
            e[n - 1] = arguments[n];
          return e.reduce(function (e, n) {
            return e + ye(t['border-' + n + '-width']);
          }, 0);
        }
        function ge(t) {
          var e = t.clientWidth,
            n = t.clientHeight;
          if (!e && !n) return me;
          var r = ve(t).getComputedStyle(t),
            i = (function (t) {
              for (
                var e = {}, n = 0, r = ['top', 'right', 'bottom', 'left'];
                n < r.length;
                n++
              ) {
                var i = r[n],
                  o = t['padding-' + i];
                e[i] = ye(o);
              }
              return e;
            })(r),
            o = i.left + i.right,
            a = i.top + i.bottom,
            s = ye(r.width),
            u = ye(r.height);
          if (
            ('border-box' === r.boxSizing &&
              (Math.round(s + o) !== e && (s -= be(r, 'left', 'right') + o),
              Math.round(u + a) !== n && (u -= be(r, 'top', 'bottom') + a)),
            !(function (t) {
              return t === ve(t).document.documentElement;
            })(t))
          ) {
            var c = Math.round(s + o) - e,
              l = Math.round(u + a) - n;
            1 !== Math.abs(c) && (s -= c), 1 !== Math.abs(l) && (u -= l);
          }
          return Se(i.left, i.top, s, u);
        }
        var we =
          'undefined' != typeof SVGGraphicsElement
            ? function (t) {
                return t instanceof ve(t).SVGGraphicsElement;
              }
            : function (t) {
                return (
                  t instanceof ve(t).SVGElement &&
                  'function' == typeof t.getBBox
                );
              };
        function ke(t) {
          return ue
            ? we(t)
              ? (function (t) {
                  var e = t.getBBox();
                  return Se(0, 0, e.width, e.height);
                })(t)
              : ge(t)
            : me;
        }
        function Se(t, e, n, r) {
          return { x: t, y: e, width: n, height: r };
        }
        var Ee = (function () {
            function t(t) {
              (this.broadcastWidth = 0),
                (this.broadcastHeight = 0),
                (this.contentRect_ = Se(0, 0, 0, 0)),
                (this.target = t);
            }
            return (
              (t.prototype.isActive = function () {
                var t = ke(this.target);
                return (
                  (this.contentRect_ = t),
                  t.width !== this.broadcastWidth ||
                    t.height !== this.broadcastHeight
                );
              }),
              (t.prototype.broadcastRect = function () {
                var t = this.contentRect_;
                return (
                  (this.broadcastWidth = t.width),
                  (this.broadcastHeight = t.height),
                  t
                );
              }),
              t
            );
          })(),
          Te = function (t, e) {
            var n = (function (t) {
              var e = t.x,
                n = t.y,
                r = t.width,
                i = t.height,
                o =
                  'undefined' != typeof DOMRectReadOnly
                    ? DOMRectReadOnly
                    : Object,
                a = Object.create(o.prototype);
              return (
                pe(a, {
                  x: e,
                  y: n,
                  width: r,
                  height: i,
                  top: n,
                  right: e + r,
                  bottom: i + n,
                  left: e,
                }),
                a
              );
            })(e);
            pe(this, { target: t, contentRect: n });
          },
          Pe = (function () {
            function t(t, e, n) {
              if (
                ((this.activeObservations_ = []),
                (this.observations_ = new se()),
                'function' != typeof t)
              )
                throw new TypeError(
                  'The callback provided as parameter 1 is not a function.'
                );
              (this.callback_ = t),
                (this.controller_ = e),
                (this.callbackCtx_ = n);
            }
            return (
              (t.prototype.observe = function (t) {
                if (!arguments.length)
                  throw new TypeError(
                    '1 argument required, but only 0 present.'
                  );
                if (
                  'undefined' != typeof Element &&
                  Element instanceof Object
                ) {
                  if (!(t instanceof ve(t).Element))
                    throw new TypeError(
                      'parameter 1 is not of type "Element".'
                    );
                  var e = this.observations_;
                  e.has(t) ||
                    (e.set(t, new Ee(t)),
                    this.controller_.addObserver(this),
                    this.controller_.refresh());
                }
              }),
              (t.prototype.unobserve = function (t) {
                if (!arguments.length)
                  throw new TypeError(
                    '1 argument required, but only 0 present.'
                  );
                if (
                  'undefined' != typeof Element &&
                  Element instanceof Object
                ) {
                  if (!(t instanceof ve(t).Element))
                    throw new TypeError(
                      'parameter 1 is not of type "Element".'
                    );
                  var e = this.observations_;
                  e.has(t) &&
                    (e.delete(t),
                    e.size || this.controller_.removeObserver(this));
                }
              }),
              (t.prototype.disconnect = function () {
                this.clearActive(),
                  this.observations_.clear(),
                  this.controller_.removeObserver(this);
              }),
              (t.prototype.gatherActive = function () {
                var t = this;
                this.clearActive(),
                  this.observations_.forEach(function (e) {
                    e.isActive() && t.activeObservations_.push(e);
                  });
              }),
              (t.prototype.broadcastActive = function () {
                if (this.hasActive()) {
                  var t = this.callbackCtx_,
                    e = this.activeObservations_.map(function (t) {
                      return new Te(t.target, t.broadcastRect());
                    });
                  this.callback_.call(t, e, t), this.clearActive();
                }
              }),
              (t.prototype.clearActive = function () {
                this.activeObservations_.splice(0);
              }),
              (t.prototype.hasActive = function () {
                return this.activeObservations_.length > 0;
              }),
              t
            );
          })(),
          Ce = 'undefined' != typeof WeakMap ? new WeakMap() : new se(),
          Ae = function t(e) {
            if (!(this instanceof t))
              throw new TypeError('Cannot call a class as a function.');
            if (!arguments.length)
              throw new TypeError('1 argument required, but only 0 present.');
            var n = de.getInstance(),
              r = new Pe(e, n, this);
            Ce.set(this, r);
          };
        ['observe', 'unobserve', 'disconnect'].forEach(function (t) {
          Ae.prototype[t] = function () {
            var e;
            return (e = Ce.get(this))[t].apply(e, arguments);
          };
        });
        var xe,
          Oe,
          je,
          Le = void 0 !== ce.ResizeObserver ? ce.ResizeObserver : Ae,
          Ve = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'video', void 0),
                h(this, 'timeTrackerInfo', void 0),
                (this.video = e),
                (this.timeTrackerInfo = n);
            }
            return (
              f(t, [
                {
                  key: 'bindWith',
                  value: function (t) {
                    var e,
                      n,
                      r = this;
                    this.bindQuartileEvents(t),
                      this.bindResizeEvent(t),
                      this.bindVolumeEvents(t),
                      this.video.addEventListener(
                        'loadedmetadata',
                        function () {
                          t.triggerEvent(xt.Loaded);
                        }
                      );
                    var i = !0;
                    this.video.addEventListener('play', function () {
                      i ? (i = !1) : t.triggerEvent(xt.Resume);
                    }),
                      this.video.addEventListener('pause', function () {
                        t.triggerEvent(xt.Pause);
                      }),
                      this.video.addEventListener('seeking', function () {
                        t.triggerEvent(xt.Rewind);
                      }),
                      this.video.addEventListener('error', function () {
                        t.triggerEvent(xt.Error);
                      }),
                      this.video.addEventListener('click', function () {
                        t.triggerEvent(xt.Click);
                      }),
                      this.video.addEventListener('ended', function () {
                        t.triggerEvent(xt.End);
                      }),
                      null === (e = this.timeTrackerInfo.timeTrackerSkip) ||
                        void 0 === e ||
                        e.subscribe(function () {
                          return t.triggerEvent(xt.SkippableStateChange);
                        }),
                      null === (n = this.timeTrackerInfo.timeTrackerClose) ||
                        void 0 === n ||
                        n.subscribe(function () {
                          return t.triggerEvent(xt.CloseableStateChange);
                        }),
                      t.subscribe(xt.Start, function () {
                        r.video.addEventListener('timeupdate', function () {
                          return t.triggerEvent(xt.Timeupdate);
                        });
                      });
                  },
                },
                {
                  key: 'bindQuartileEvents',
                  value: function (t) {
                    var e = this;
                    this.video.addEventListener('loadedmetadata', function () {
                      [
                        {
                          eventName: xt.Start,
                          durationOfQuartile: 0 * e.video.duration,
                        },
                        {
                          eventName: xt.FirstQuartile,
                          durationOfQuartile: 0.25 * e.video.duration,
                        },
                        {
                          eventName: xt.Midpoint,
                          durationOfQuartile: 0.5 * e.video.duration,
                        },
                        {
                          eventName: xt.ThirdQuartile,
                          durationOfQuartile: 0.75 * e.video.duration,
                        },
                        {
                          eventName: xt.Complete,
                          durationOfQuartile: 1 * e.video.duration,
                        },
                      ].forEach(function (n) {
                        new Ht(e.video, n.durationOfQuartile).subscribe(
                          function () {
                            t.triggerEvent(n.eventName);
                          }
                        );
                      });
                    });
                  },
                },
                {
                  key: 'bindResizeEvent',
                  value: function (t) {
                    var e = this,
                      n = { w: 0, h: 0 },
                      r = !0,
                      i = !1;
                    t.subscribe(xt.Start, function () {
                      (n.w = e.video.clientWidth), (n.h = e.video.clientHeight);
                    }),
                      t.subscribe(xt.Expand, function () {
                        i = !0;
                      }),
                      t.subscribe(xt.Collapse, function () {
                        i = !1;
                      });
                    var o = new Le(function (e) {
                      var o = g(e, 1)[0];
                      if (r) r = !1;
                      else {
                        var a =
                            Math.floor(window.innerWidth) ===
                              Math.floor(o.contentRect.width) &&
                            Math.floor(window.innerHeight) ===
                              Math.floor(o.contentRect.height),
                          s =
                            Math.floor(o.contentRect.width) ===
                              Math.floor(n.w) &&
                            Math.floor(o.contentRect.height) ===
                              Math.floor(n.h);
                        i ||
                          a ||
                          s ||
                          ((n.w = o.contentRect.width),
                          (n.h = o.contentRect.height),
                          t.triggerEvent(xt.SizeChange, {
                            videoWidth: n.w,
                            videoHeight: n.h,
                          }));
                      }
                    });
                    t.subscribe(xt.Start, function () {
                      return o.observe(e.video);
                    }),
                      [xt.End, xt.Skip, xt.Close, xt.Error].forEach(function (
                        n
                      ) {
                        t.subscribe(n, function () {
                          return o.unobserve(e.video);
                        });
                      });
                  },
                },
                {
                  key: 'bindVolumeEvents',
                  value: function (t) {
                    var e = this,
                      n = this.video.muted || 0 === this.video.volume;
                    this.video.addEventListener('volumechange', function () {
                      (!e.video.muted && 0 !== e.video.volume) || n
                        ? 0 !== e.video.volume && n
                          ? ((n = !1), t.triggerEvent(xt.Unmute))
                          : t.triggerEvent(xt.VolumeChange)
                        : ((n = !0), t.triggerEvent(xt.Mute));
                    });
                  },
                },
              ]),
              t
            );
          })(),
          Ie = (function () {
            function t(e) {
              c(this, t),
                h(this, 'controlsBinderConfig', void 0),
                h(this, 'controlElements', void 0),
                h(this, 'timerId', void 0),
                h(this, 'isTimerActive', void 0),
                (this.controlsBinderConfig = e),
                (this.controlElements = []),
                (this.timerId = null),
                (this.isTimerActive = !1);
            }
            return (
              f(t, [
                {
                  key: 'bindPlayPauseButton',
                  value: function (t) {
                    var e = this;
                    t.onClick(function (t) {
                      t === Lt.Play
                        ? 0 === e.controlsBinderConfig.player.currentTime
                          ? e.controlsBinderConfig.player.start()
                          : e.controlsBinderConfig.player.resume()
                        : e.controlsBinderConfig.player.pause();
                    }),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Start,
                        function () {
                          return t.setState(Lt.Pause);
                        }
                      ),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Resume,
                        function () {
                          return t.setState(Lt.Pause);
                        }
                      ),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Pause,
                        function () {
                          return t.setState(Lt.Play);
                        }
                      ),
                      t.persistent
                        ? t.show()
                        : (t.hide(), this.controlElements.push(t));
                  },
                },
                {
                  key: 'bindMuteUnmuteButton',
                  value: function (t) {
                    var e = this;
                    t.hide(),
                      t.onClick(function (t) {
                        t === Lt.Mute
                          ? e.controlsBinderConfig.player.mute()
                          : e.controlsBinderConfig.player.unmute();
                      }),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Mute,
                        function () {
                          return t.setState(Lt.Unmute);
                        }
                      ),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Unmute,
                        function () {
                          return t.setState(Lt.Mute);
                        }
                      ),
                      t.persistent
                        ? t.show()
                        : (t.hide(), this.controlElements.push(t));
                  },
                },
                {
                  key: 'bindExpandCollapseButton',
                  value: function (t) {
                    var e = this;
                    t.hide(),
                      t.onClick(function (t) {
                        t === Lt.Expand
                          ? e.controlsBinderConfig.player.expand()
                          : e.controlsBinderConfig.player.collapse();
                      }),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Expand,
                        function () {
                          return t.setState(Lt.Collapse);
                        }
                      ),
                      this.controlsBinderConfig.player.subscribe(
                        xt.Collapse,
                        function () {
                          return t.setState(Lt.Expand);
                        }
                      ),
                      t.persistent
                        ? t.show()
                        : (t.hide(), this.controlElements.push(t));
                  },
                },
                {
                  key: 'bindCloseButton',
                  value: function (t) {
                    var e = this;
                    t.onClick(function () {
                      return e.controlsBinderConfig.player.close();
                    }),
                      this.controlsBinderConfig.player.subscribe(
                        xt.CloseableStateChange,
                        function () {
                          return t.activate();
                        }
                      ),
                      t.persistent || this.controlElements.push(t);
                  },
                },
                {
                  key: 'bindSkipButton',
                  value: function (t) {
                    var e = this;
                    t.onClick(function () {
                      return e.controlsBinderConfig.player.skip();
                    }),
                      this.controlsBinderConfig.player.subscribe(
                        xt.SkippableStateChange,
                        function () {
                          return t.activate();
                        }
                      ),
                      t.persistent || this.controlElements.push(t);
                  },
                },
                {
                  key: 'showControlElements',
                  value: function () {
                    this.controlElements.forEach(function (t) {
                      return t.show();
                    });
                  },
                },
                {
                  key: 'hideControlElements',
                  value: function () {
                    this.controlElements.forEach(function (t) {
                      return t.hide();
                    });
                  },
                },
                {
                  key: 'handleTouchStart',
                  value: function () {
                    this.timerId && clearTimeout(this.timerId),
                      this.isTimerActive || this.showControlElements();
                  },
                },
                {
                  key: 'handleTouchEnd',
                  value: function () {
                    var t = this;
                    (this.timerId = setTimeout(function () {
                      t.hideControlElements(),
                        (t.isTimerActive = !1),
                        (t.timerId = null);
                    }, 5e3)),
                      (this.isTimerActive = !0);
                  },
                },
                {
                  key: 'bindControlPanel',
                  value: function (t) {
                    this.controlElements.length &&
                      (this.controlsBinderConfig.mobileMode
                        ? (t.addEventListener(
                            'touchstart',
                            this.handleTouchStart.bind(this)
                          ),
                          t.addEventListener(
                            'touchend',
                            this.handleTouchEnd.bind(this)
                          ))
                        : (t.addEventListener(
                            'mouseenter',
                            this.showControlElements.bind(this)
                          ),
                          t.addEventListener(
                            'mouseleave',
                            this.hideControlElements.bind(this)
                          )));
                  },
                },
              ]),
              t
            );
          })(),
          Me = { fill: 'rgb(255, 255, 255)', width: '30px', height: '30px' },
          _e = (function () {
            function t(e) {
              c(this, t),
                h(this, '_icon', void 0),
                (this._icon = e),
                X(this._icon, Me);
            }
            return (
              f(t, [
                {
                  key: 'insertInto',
                  value: function (t) {
                    t.append(this._icon);
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    this._icon.remove();
                  },
                },
              ]),
              t
            );
          })(),
          Re = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"> \n    <path d="M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z" />\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          Fe = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\n    <path d="M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z" />\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          De = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">\n    <path d="M412.6 182c-10.28-8.334-25.41-6.867-33.75 3.402c-8.406 10.24-6.906 25.35 3.375 33.74C393.5 228.4 400 241.8 400 255.1c0 14.17-6.5 27.59-17.81 36.83c-10.28 8.396-11.78 23.5-3.375 33.74c4.719 5.806 11.62 8.802 18.56 8.802c5.344 0 10.75-1.779 15.19-5.399C435.1 311.5 448 284.6 448 255.1S435.1 200.4 412.6 182zM473.1 108.2c-10.22-8.334-25.34-6.898-33.78 3.34c-8.406 10.24-6.906 25.35 3.344 33.74C476.6 172.1 496 213.3 496 255.1s-19.44 82.1-53.31 110.7c-10.25 8.396-11.75 23.5-3.344 33.74c4.75 5.775 11.62 8.771 18.56 8.771c5.375 0 10.75-1.779 15.22-5.431C518.2 366.9 544 313 544 255.1S518.2 145 473.1 108.2zM534.4 33.4c-10.22-8.334-25.34-6.867-33.78 3.34c-8.406 10.24-6.906 25.35 3.344 33.74C559.9 116.3 592 183.9 592 255.1s-32.09 139.7-88.06 185.5c-10.25 8.396-11.75 23.5-3.344 33.74C505.3 481 512.2 484 519.2 484c5.375 0 10.75-1.779 15.22-5.431C601.5 423.6 640 342.5 640 255.1S601.5 88.34 534.4 33.4zM301.2 34.98c-11.5-5.181-25.01-3.076-34.43 5.29L131.8 160.1H48c-26.51 0-48 21.48-48 47.96v95.92c0 26.48 21.49 47.96 48 47.96h83.84l134.9 119.8C272.7 477 280.3 479.8 288 479.8c4.438 0 8.959-.9314 13.16-2.835C312.7 471.8 320 460.4 320 447.9V64.12C320 51.55 312.7 40.13 301.2 34.98z" />\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          Be = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\n    <path d="M301.2 34.85c-11.5-5.188-25.02-3.122-34.44 5.253L131.8 160H48c-26.51 0-48 21.49-48 47.1v95.1c0 26.51 21.49 47.1 48 47.1h83.84l134.9 119.9c5.984 5.312 13.58 8.094 21.26 8.094c4.438 0 8.972-.9375 13.17-2.844c11.5-5.156 18.82-16.56 18.82-29.16V64C319.1 51.41 312.7 40 301.2 34.85zM513.9 255.1l47.03-47.03c9.375-9.375 9.375-24.56 0-33.94s-24.56-9.375-33.94 0L480 222.1L432.1 175c-9.375-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94l47.03 47.03l-47.03 47.03c-9.375 9.375-9.375 24.56 0 33.94c9.373 9.373 24.56 9.381 33.94 0L480 289.9l47.03 47.03c9.373 9.373 24.56 9.381 33.94 0c9.375-9.375 9.375-24.56 0-33.94L513.9 255.1z"/>\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          Ue = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n    <path d="M128 32H32C14.31 32 0 46.31 0 64v96c0 17.69 14.31 32 32 32s32-14.31 32-32V96h64c17.69 0 32-14.31 32-32S145.7 32 128 32zM416 32h-96c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32V64C448 46.31 433.7 32 416 32zM128 416H64v-64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96c0 17.69 14.31 32 32 32h96c17.69 0 32-14.31 32-32S145.7 416 128 416zM416 320c-17.69 0-32 14.31-32 32v64h-64c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c17.69 0 32-14.31 32-32v-96C448 334.3 433.7 320 416 320z" />\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          ze = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n    <path d="M128 320H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32v-96C160 334.3 145.7 320 128 320zM416 320h-96c-17.69 0-32 14.31-32 32v96c0 17.69 14.31 32 32 32s32-14.31 32-32v-64h64c17.69 0 32-14.31 32-32S433.7 320 416 320zM320 192h96c17.69 0 32-14.31 32-32s-14.31-32-32-32h-64V64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96C288 177.7 302.3 192 320 192zM128 32C110.3 32 96 46.31 96 64v64H32C14.31 128 0 142.3 0 160s14.31 32 32 32h96c17.69 0 32-14.31 32-32V64C160 46.31 145.7 32 128 32z"/>\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          He = new DOMParser().parseFromString(
            '\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\n    <path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/>\n  </svg>\n',
            'image/svg+xml'
          ).firstChild,
          We = '35px',
          qe = '0.25s',
          Ne = {
            'box-sizing': 'border-box',
            'box-shadow': '0px 0px 1px 1px rgba(40, 40, 40, 0.4)',
            'transition-duration': qe,
            width: We,
            height: We,
            'border-radius': '4px',
            display: 'flex',
            'justify-content': 'center',
            'align-items': 'center',
            'background-color': 'rgba(40, 40, 40, 0.5)',
            'backdrop-filter': 'blur(5px)',
            cursor: 'pointer',
            opacity: '1',
          },
          Qe = (function () {
            function t(e) {
              var n = e.persistent,
                r = e.mobileMode;
              c(this, t),
                h(this, 'persistent', void 0),
                h(this, 'buttonEl', void 0),
                h(this, 'mobileMode', void 0),
                h(this, 'state', void 0),
                (this.buttonEl = document.createElement('div')),
                (this.persistent = n),
                (this.mobileMode = r),
                X(this.buttonEl, Ne),
                this.buttonEl.addEventListener('click', function (t) {
                  return t.stopPropagation();
                }),
                this.addBaseAnimations();
            }
            return (
              f(t, [
                {
                  key: 'onClick',
                  value: function (t) {
                    var e = this;
                    this.buttonEl.addEventListener('click', function () {
                      return t(e.state.name);
                    });
                  },
                },
                {
                  key: 'insertInto',
                  value: function (t) {
                    t.append(this.buttonEl);
                  },
                },
                {
                  key: 'setOpacity',
                  value: function (t) {
                    X(this.buttonEl, { opacity: t });
                  },
                },
                {
                  key: 'makeInvisible',
                  value: function () {
                    X(this.buttonEl, { 'pointer-events': 'none' }),
                      this.setOpacity(0);
                  },
                },
                {
                  key: 'makeVisible',
                  value: function () {
                    X(this.buttonEl, { 'pointer-events': 'auto' }),
                      this.setOpacity(1);
                  },
                },
                {
                  key: 'updateState',
                  value: function (t) {
                    var e;
                    null === (e = this.state) ||
                      void 0 === e ||
                      e.icon.remove(),
                      (this.state = t),
                      this.state.icon.insertInto(this.buttonEl);
                  },
                },
                {
                  key: 'addBaseAnimations',
                  value: function () {
                    var t = this;
                    this.mobileMode
                      ? (this.buttonEl.addEventListener(
                          'touchstart',
                          function () {
                            (t.buttonEl.style.backgroundColor =
                              'rgba(30, 30, 30, 0.5)'),
                              (t.buttonEl.style.boxShadow = 'none');
                          }
                        ),
                        this.buttonEl.addEventListener('touchend', function () {
                          (t.buttonEl.style.backgroundColor =
                            'rgba(60, 60, 60, 0.5)'),
                            (t.buttonEl.style.boxShadow =
                              '0px 0px 1px 1px rgba(40, 40, 40, 0.4)');
                        }))
                      : (this.buttonEl.addEventListener(
                          'mouseover',
                          function () {
                            t.buttonEl.style.backgroundColor =
                              'rgba(70, 70, 70, 0.5)';
                          }
                        ),
                        this.buttonEl.addEventListener('mouseout', function () {
                          t.buttonEl.style.backgroundColor =
                            'rgba(40, 40, 40, 0.5)';
                        }),
                        this.buttonEl.addEventListener(
                          'mousedown',
                          function () {
                            (t.buttonEl.style.backgroundColor =
                              'rgba(30, 30, 30, 0.5)'),
                              (t.buttonEl.style.boxShadow = 'none');
                          }
                        ),
                        this.buttonEl.addEventListener('mouseup', function () {
                          (t.buttonEl.style.backgroundColor =
                            'rgba(60, 60, 60, 0.5)'),
                            (t.buttonEl.style.boxShadow =
                              '0px 0px 1px 1px rgba(40, 40, 40, 0.4)');
                        }));
                  },
                },
              ]),
              t
            );
          })(),
          Ge = (function (e) {
            function n(e) {
              var r,
                i = e.state1,
                o = e.state2,
                a = e.options;
              return (
                c(this, n),
                h(y((r = t(this, n, [a]))), 'states', void 0),
                (r.states = Object.create(null)),
                (r.states[i.name] = i),
                (r.states[o.name] = o),
                r.setState(i.name),
                r
              );
            }
            return (
              d(n, e),
              f(n, [
                {
                  key: 'setState',
                  value: function (t) {
                    this.updateState(this.states[t]);
                  },
                },
                {
                  key: 'hide',
                  value: function () {
                    this.mobileMode
                      ? this.setOpacity(0.3)
                      : this.makeInvisible();
                  },
                },
                {
                  key: 'show',
                  value: function () {
                    this.makeVisible();
                  },
                },
              ]),
              n
            );
          })(Qe),
          Ze = (function (e) {
            function n(e) {
              var r,
                i = e.state,
                o = e.options;
              return (
                c(this, n),
                h(y((r = t(this, n, [o]))), 'isActive', void 0),
                h(y(r), 'activated', void 0),
                r.updateState(i),
                r.makeInvisible(),
                (r.activated = !1),
                (r.isActive = !1),
                r
              );
            }
            return (
              d(n, e),
              f(n, [
                {
                  key: 'activate',
                  value: function () {
                    var t = this;
                    this.makeVisible(),
                      setTimeout(function () {
                        t.persistent || t.isActive || t.setOpacity(0.3),
                          (t.activated = !0);
                      }, 2e3);
                  },
                },
                {
                  key: 'hide',
                  value: function () {
                    (this.isActive = !1),
                      this.activated && this.setOpacity(0.3);
                  },
                },
                {
                  key: 'show',
                  value: function () {
                    (this.isActive = !0), this.activated && this.makeVisible();
                  },
                },
              ]),
              n
            );
          })(Qe),
          $e = new DOMParser().parseFromString(
            '\n<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512" fill="#fff">\n    <path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"/>\n</svg>\n',
            'image/svg+xml'
          ).firstChild,
          Xe = {
            'justify-content': 'flex-start',
            'align-items': 'center',
            display: 'flex',
            'padding-left': '2px',
          },
          Ye = {
            'justify-content': 'flex-start',
            'align-items': 'center',
            display: 'flex',
            width: '0px',
            height: We,
            overflow: 'hidden',
            cursor: 'pointer',
            'transition-duration': qe,
            color: 'rgb(255, 255, 255)',
            'user-select': 'none',
            'font-family': 'Arial',
          },
          Je = (function (e) {
            function n(e) {
              var r,
                i = e.options;
              return (
                c(this, n),
                h(
                  y(
                    (r = t(this, n, [
                      {
                        state: { name: Lt.Skip, icon: new _e($e) },
                        options: i,
                      },
                    ]))
                  ),
                  'label',
                  void 0
                ),
                h(y(r), 'isHovered', void 0),
                X(r.buttonEl, Xe),
                (r.label = document.createElement('div')),
                X(r.label, Ye),
                (r.label.innerText = 'Пропустить'),
                r.buttonEl.prepend(r.label),
                r.mobileMode || r.addAnimations(),
                (r.isHovered = !1),
                r
              );
            }
            return (
              d(n, e),
              f(n, [
                {
                  key: 'activate',
                  value: function () {
                    var t = this;
                    b(p(n.prototype), 'activate', this).call(this),
                      setTimeout(function () {
                        return t.showLabel();
                      }, 500),
                      this.mobileMode ||
                        setTimeout(function () {
                          t.isHovered || t.hideLabel();
                        }, 1500);
                  },
                },
                {
                  key: 'addAnimations',
                  value: function () {
                    var t = this;
                    this.buttonEl.addEventListener('mouseover', function () {
                      (t.isHovered = !0), t.showLabel();
                    }),
                      this.buttonEl.addEventListener('mouseout', function () {
                        (t.isHovered = !1), t.hideLabel();
                      });
                  },
                },
                {
                  key: 'showLabel',
                  value: function () {
                    this.resizeButtonAndLabel('100px', '125px', '12px');
                  },
                },
                {
                  key: 'hideLabel',
                  value: function () {
                    this.resizeButtonAndLabel('0', We, '2px');
                  },
                },
                {
                  key: 'resizeButtonAndLabel',
                  value: function (t, e, n) {
                    X(this.label, { width: t }),
                      X(this.buttonEl, { width: e, 'padding-left': n });
                  },
                },
              ]),
              n
            );
          })(Ze),
          Ke = (function () {
            function t(e) {
              c(this, t),
                h(this, 'playerControlsBuilderConfig', void 0),
                (this.playerControlsBuilderConfig = e);
            }
            return (
              f(t, [
                {
                  key: 'createPlayPauseButton',
                  value: function () {
                    return new Ge({
                      state1: { name: Lt.Play, icon: new _e(Re) },
                      state2: { name: Lt.Pause, icon: new _e(Fe) },
                      options: {
                        persistent:
                          this.playerControlsBuilderConfig.controls[
                            Vt.PlayPause
                          ].persistent,
                        mobileMode: this.playerControlsBuilderConfig.mobileMode,
                      },
                    });
                  },
                },
                {
                  key: 'createMuteUnmuteButton',
                  value: function () {
                    return new Ge({
                      state1: { name: Lt.Unmute, icon: new _e(Be) },
                      state2: { name: Lt.Mute, icon: new _e(De) },
                      options: {
                        persistent:
                          this.playerControlsBuilderConfig.controls[
                            Vt.MuteUnmute
                          ].persistent,
                        mobileMode: this.playerControlsBuilderConfig.mobileMode,
                      },
                    });
                  },
                },
                {
                  key: 'createExpandCollapseButton',
                  value: function () {
                    return new Ge({
                      state1: { name: Lt.Expand, icon: new _e(Ue) },
                      state2: { name: Lt.Collapse, icon: new _e(ze) },
                      options: {
                        persistent:
                          this.playerControlsBuilderConfig.controls[
                            Vt.ExpandCollapse
                          ].persistent,
                        mobileMode: this.playerControlsBuilderConfig.mobileMode,
                      },
                    });
                  },
                },
                {
                  key: 'createCloseButton',
                  value: function () {
                    return new Ze({
                      state: { name: Lt.Close, icon: new _e(He) },
                      options: {
                        persistent:
                          this.playerControlsBuilderConfig.controls[Vt.Close]
                            .persistent,
                        mobileMode: this.playerControlsBuilderConfig.mobileMode,
                      },
                    });
                  },
                },
                {
                  key: 'createSkipButton',
                  value: function () {
                    return new Je({
                      options: {
                        persistent:
                          this.playerControlsBuilderConfig.controls[Vt.Skip]
                            .persistent,
                        mobileMode: this.playerControlsBuilderConfig.mobileMode,
                      },
                    });
                  },
                },
              ]),
              t
            );
          })(),
          tn = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'playerInformant', void 0),
                h(this, 'playerVideoElement', void 0),
                h(this, 'progressBar', void 0),
                h(this, 'rafId', void 0),
                (this.playerInformant = e),
                (this.playerVideoElement = n),
                (this.progressBar = null),
                (this.rafId = null);
            }
            return (
              f(t, [
                {
                  key: 'bindProgressBar',
                  value: function (t) {
                    var e = this;
                    this.progressBar = t;
                    var n = [xt.Start, xt.Resume],
                      r = [
                        xt.Pause,
                        xt.End,
                        xt.Close,
                        xt.Skip,
                        xt.Error,
                        xt.SkippableStateChange,
                      ],
                      i = this.updateProgressBar.bind(this),
                      o = this.stopProgressBar.bind(this);
                    this.playerInformant.subscribe(
                      xt.SkippableStateChange,
                      function () {
                        n.forEach(function (t) {
                          return e.playerInformant.unsubscribe(t, i);
                        }),
                          r.forEach(function (t) {
                            return e.playerInformant.unsubscribe(t, o);
                          });
                      }
                    ),
                      n.forEach(function (t) {
                        return e.playerInformant.subscribe(t, i);
                      }),
                      r.forEach(function (t) {
                        return e.playerInformant.subscribe(t, o);
                      });
                  },
                },
                {
                  key: 'stopProgressBar',
                  value: function () {
                    this.rafId && cancelAnimationFrame(this.rafId),
                      (this.rafId = null);
                  },
                },
                {
                  key: 'updateProgressBar',
                  value: function () {
                    this.progressBar.setCurrentTime(
                      this.playerVideoElement.currentTime
                    ),
                      (this.rafId = requestAnimationFrame(
                        this.updateProgressBar.bind(this)
                      ));
                  },
                },
              ]),
              t
            );
          })(),
          en = {
            position: 'absolute',
            bottom: '0px',
            width: '100%',
            height: '3px',
            'background-color': 'rgba(245, 245, 245, 0.7)',
          },
          nn = {
            height: '100%',
            width: '100%',
            'background-color': 'rgba(80, 80, 80, 0.5)',
            'transform-origin': 'left center',
            transform: 'scaleX(0)',
          },
          rn = (function () {
            function t(e) {
              c(this, t),
                h(this, 'progressBarElement', void 0),
                h(this, 'progressBarContainer', void 0),
                h(this, 'duration', void 0),
                (this.duration = e),
                (this.progressBarContainer = document.createElement('div')),
                X(this.progressBarContainer, en),
                (this.progressBarElement = document.createElement('div')),
                X(this.progressBarElement, nn),
                this.progressBarContainer.append(this.progressBarElement);
            }
            return (
              f(t, [
                {
                  key: 'insertInto',
                  value: function (t) {
                    t.append(this.progressBarContainer);
                  },
                },
                {
                  key: 'setCurrentTime',
                  value: function (t) {
                    var e = Math.min(t / this.duration, 1);
                    this.progressBarElement.style.transform = 'scaleX('.concat(
                      e,
                      ')'
                    );
                  },
                },
              ]),
              t
            );
          })(),
          on = (function () {
            function t(e) {
              c(this, t),
                h(this, 'decoratorsConfigs', void 0),
                (this.decoratorsConfigs = e);
            }
            return (
              f(t, [
                {
                  key: 'createProgressBar',
                  value: function () {
                    return new rn(
                      this.decoratorsConfigs['progress-bar'].duration
                    );
                  },
                },
              ]),
              t
            );
          })(),
          an = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'slot', void 0),
                h(this, 'videoSlot', void 0),
                h(this, 'isFsMode', void 0),
                (this.slot = e),
                (this.videoSlot = n),
                (this.isFsMode = !1);
            }
            return (
              f(t, [
                {
                  key: 'bindWith',
                  value: function (t) {
                    var e = this,
                      n = (function () {
                        var t = nt();
                        return t === N.Unknown
                          ? null
                          : t === N.DisabledWebkit
                          ? et[N.Webkit].fullscreenChangeEvent
                          : et[t].fullscreenChangeEvent;
                      })();
                    n &&
                      document.addEventListener(n, function (n) {
                        (n.target !== e.slot && n.target !== e.videoSlot) ||
                          (e.isFsMode
                            ? t.triggerEvent(xt.Collapse)
                            : t.triggerEvent(xt.Expand),
                          (e.isFsMode = !e.isFsMode));
                      });
                  },
                },
              ]),
              t
            );
          })(),
          sn = (function () {
            function t(e, n) {
              var r = this;
              if (
                (c(this, t),
                h(this, '_skippableState', void 0),
                h(this, '_closeableState', void 0),
                h(this, 'videoSlot', void 0),
                h(this, 'slot', void 0),
                h(this, 'durationTime', void 0),
                h(this, 'mobileMode', void 0),
                h(this, 'controls', void 0),
                h(this, 'ec', void 0),
                h(this, 'markup', void 0),
                h(this, 'pc', void 0),
                h(this, 'videoSources', void 0),
                h(this, 'timeTrackerSkip', void 0),
                h(this, 'timeTrackerClose', void 0),
                h(this, 'volumeAvailability', void 0),
                h(this, 'skipOffset', void 0),
                (this.slot = e),
                (this.ec = new ut()),
                (this.markup = new ae()),
                (this.pc = new ne(n.controls, n.decorators, {
                  adMarking: n.adMarking,
                })),
                (this.videoSources = new Qt(n.vastMediaFiles)),
                (this.volumeAvailability = new pt()),
                this.videoSources.filter(),
                this.videoSources.sort(
                  this.slot.clientWidth,
                  this.slot.clientHeight
                ),
                (this.mobileMode = n.mobileMode),
                (this.controls = n.controls),
                (this.durationTime = n.duration),
                (this.videoSlot = this.markup.videoSlot),
                (this.skipOffset =
                  null === n.skipOffset || n.skipOffset >= 3
                    ? n.skipOffset
                    : 3),
                (this.timeTrackerSkip = null),
                (this.timeTrackerClose = null),
                (this._skippableState = !1),
                (this._closeableState = !1),
                null !== this.skipOffset &&
                  ((this.timeTrackerSkip = new Ht(
                    this.videoSlot,
                    this.skipOffset
                  )),
                  this.timeTrackerSkip.subscribe(function () {
                    return (r._skippableState = !0);
                  }),
                  null !== n.closeOffset))
              ) {
                var i =
                  this.skipOffset > n.closeOffset
                    ? this.skipOffset
                    : n.closeOffset;
                (this.timeTrackerClose = new Ht(this.videoSlot, i)),
                  this.timeTrackerClose.subscribe(function () {
                    return (r._closeableState = !0);
                  });
              }
              var o = {
                timeTrackerSkip: this.timeTrackerSkip,
                timeTrackerClose: this.timeTrackerClose,
                duration: this.durationTime,
              };
              new Ve(this.markup.videoSlot, o).bindWith(this.ec),
                new an(this.slot, this.videoSlot).bindWith(this.ec),
                n.clickThrough &&
                  this.subscribe(xt.Click, function () {
                    return window.open(n.clickThrough, '_blank');
                  });
            }
            var e, n, r, o;
            return (
              f(t, [
                {
                  key: 'contentSize',
                  get: function () {
                    return {
                      width: this.slot.clientWidth,
                      height: this.slot.clientHeight,
                    };
                  },
                },
                {
                  key: 'skippableState',
                  get: function () {
                    return this._skippableState;
                  },
                },
                {
                  key: 'closeableState',
                  get: function () {
                    return this._closeableState;
                  },
                },
                {
                  key: 'expanded',
                  get: function () {
                    return (
                      rt(this.slot, this.slot.ownerDocument) ||
                      rt(this.videoSlot, this.videoSlot.ownerDocument)
                    );
                  },
                },
                {
                  key: 'muted',
                  get: function () {
                    return this.videoSlot.muted || 0 === this.videoSlot.volume;
                  },
                },
                {
                  key: 'currentTime',
                  get: function () {
                    return this.videoSlot.currentTime;
                  },
                },
                {
                  key: 'duration',
                  get: function () {
                    return this.videoSlot.duration;
                  },
                },
                {
                  key: 'volume',
                  get: function () {
                    return this.videoSlot.volume;
                  },
                  set: function (t) {
                    var e = this;
                    this.getVolumeAvailabilityState().then(function (n) {
                      n && (e.videoSlot.volume = t > 1 ? 1 : t < 0 ? 0 : t);
                    });
                  },
                },
                {
                  key: 'getVolumeAvailabilityState',
                  value: function () {
                    return this.volumeAvailability.check();
                  },
                },
                {
                  key: 'subscribe',
                  value: function (t, e) {
                    this.ec.subscribe(t, e);
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (t, e) {
                    this.ec.unsubscribe(t, e);
                  },
                },
                {
                  key: 'mute',
                  value: function () {
                    this.muted || (this.videoSlot.muted = !0);
                  },
                },
                {
                  key: 'unmute',
                  value: function () {
                    var t = this;
                    this.getVolumeAvailabilityState().then(function (e) {
                      e &&
                        (t.videoSlot.muted && (t.videoSlot.muted = !1),
                        0 === t.videoSlot.volume && (t.videoSlot.volume = 0.1));
                    });
                  },
                },
                {
                  key: 'expand',
                  value:
                    ((o = u(
                      i().mark(function t() {
                        var e;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (!this.expanded) {
                                    t.next = 2;
                                    break;
                                  }
                                  return t.abrupt('return');
                                case 2:
                                  return (
                                    (e = null), (t.next = 5), ot(this.slot)
                                  );
                                case 5:
                                  if ((e = t.sent)) {
                                    t.next = 10;
                                    break;
                                  }
                                  return (t.next = 9), ot(this.videoSlot);
                                case 9:
                                  e = t.sent;
                                case 10:
                                  if (e) {
                                    t.next = 12;
                                    break;
                                  }
                                  throw new Error(
                                    'Failed to enable fullscreen mode'
                                  );
                                case 12:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return o.apply(this, arguments);
                    }),
                },
                {
                  key: 'collapse',
                  value:
                    ((r = u(
                      i().mark(function t() {
                        var e;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (this.expanded) {
                                    t.next = 2;
                                    break;
                                  }
                                  return t.abrupt('return');
                                case 2:
                                  if (
                                    ((e = null),
                                    !rt(this.slot, this.slot.ownerDocument))
                                  ) {
                                    t.next = 9;
                                    break;
                                  }
                                  return (
                                    (t.next = 6),
                                    at(this.slot, this.slot.ownerDocument)
                                  );
                                case 6:
                                  (e = t.sent), (t.next = 12);
                                  break;
                                case 9:
                                  return (
                                    (t.next = 11),
                                    at(
                                      this.videoSlot,
                                      this.videoSlot.ownerDocument
                                    )
                                  );
                                case 11:
                                  e = t.sent;
                                case 12:
                                  if (e) {
                                    t.next = 14;
                                    break;
                                  }
                                  throw new Error(
                                    'Failed to turn off fullscreen mode'
                                  );
                                case 14:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return r.apply(this, arguments);
                    }),
                },
                {
                  key: 'resume',
                  value: function () {
                    this.videoSlot.paused &&
                      !this.videoSlot.ended &&
                      this.videoSlot.play();
                  },
                },
                {
                  key: 'pause',
                  value: function () {
                    this.videoSlot.paused || this.videoSlot.pause();
                  },
                },
                {
                  key: 'close',
                  value: function () {
                    this.closeableState &&
                      (this.ec.triggerEvent(xt.Close), this.destroy());
                  },
                },
                {
                  key: 'skip',
                  value: function () {
                    this.skippableState && this.ec.triggerEvent(xt.Skip);
                  },
                },
                {
                  key: 'start',
                  value: function () {
                    var t = this;
                    return new Promise(function (e, n) {
                      t.ec.triggerEvent(xt.Impression);
                      var r = function () {
                          clearTimeout(a),
                            t.videoSlot.removeEventListener('timeupdate', o),
                            t.videoSlot.removeEventListener('error', i);
                        },
                        i = function () {
                          r(), n(new Error('Player play timeout'));
                        },
                        o = function () {
                          r(), e();
                        },
                        a = setTimeout(function () {
                          t.ec.triggerEvent(xt.Error), i();
                        }, 8e3);
                      t.videoSlot.addEventListener('error', i),
                        t.videoSlot.addEventListener('timeupdate', o),
                        t.videoSlot.play();
                    });
                  },
                },
                {
                  key: 'resize',
                  value: function (t) {
                    var e = t.height,
                      n = t.width;
                    null !== e && X(this.slot, { height: U(e) }),
                      null !== n && X(this.slot, { width: U(n) });
                  },
                },
                {
                  key: 'load',
                  value:
                    ((n = u(
                      i().mark(function t() {
                        var e = this;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (this.videoSources.hasValidSources()) {
                                    t.next = 2;
                                    break;
                                  }
                                  throw new Error(
                                    'There are no resources to download.'
                                  );
                                case 2:
                                  return t.abrupt(
                                    'return',
                                    new Promise(function (t, n) {
                                      var r,
                                        i = function () {
                                          clearTimeout(s),
                                            e.videoSlot.removeEventListener(
                                              'loadeddata',
                                              a
                                            ),
                                            e.videoSlot.removeEventListener(
                                              'error',
                                              o
                                            );
                                        },
                                        o = function () {
                                          i(),
                                            n(
                                              new Error(
                                                'Error during download.'
                                              )
                                            );
                                        },
                                        a = function () {
                                          i(), t();
                                        },
                                        s = setTimeout(o, 1e4);
                                      e.videoSlot.addEventListener(
                                        'loadeddata',
                                        a
                                      ),
                                        e.videoSlot.addEventListener(
                                          'error',
                                          o
                                        ),
                                        (r = e.videoSlot).append.apply(
                                          r,
                                          w(e.videoSources.getSources())
                                        ),
                                        e.videoSlot.load();
                                    })
                                  );
                                case 3:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return n.apply(this, arguments);
                    }),
                },
                {
                  key: 'render',
                  value:
                    ((e = u(
                      i().mark(function t() {
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  this.pc.createControls(
                                    new Ke({
                                      controls: this.controls,
                                      mobileMode: this.mobileMode,
                                    }),
                                    new Ie({
                                      player: this,
                                      mobileMode: this.mobileMode,
                                    })
                                  ),
                                    this.pc.createDecorators(
                                      new on(
                                        h({}, 'progress-bar', {
                                          duration:
                                            null === this.skipOffset
                                              ? this.durationTime
                                              : this.skipOffset,
                                        })
                                      ),
                                      new tn(this.ec, this.videoSlot)
                                    ),
                                    this.pc.insertInto(this.markup.slot),
                                    this.markup.insertInto(this.slot);
                                case 4:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return e.apply(this, arguments);
                    }),
                },
                {
                  key: 'destroy',
                  value: function () {
                    this.ec.clear(), this.pause(), this.markup.destroy();
                  },
                },
              ]),
              t
            );
          })(),
          un = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'closeOffset', void 0),
                h(this, 'slot', void 0),
                h(this, 'controls', void 0),
                h(this, 'decorators', void 0),
                h(this, 'timeTracker', void 0),
                h(this, 'mobileMode', void 0),
                (this.slot = e),
                (this.controls = n.controls),
                (this.decorators = n.decorators),
                (this.timeTracker = n.timeTracker),
                (this.mobileMode = D()),
                (this.closeOffset = n.closeOffset);
            }
            return (
              f(t, [
                {
                  key: 'validate',
                  value: function (t) {
                    var e = this;
                    return (
                      L(t) &&
                      'string' == typeof t.duration &&
                      /^\d+(\.\d+)?:\d+(\.\d+)?:\d+(\.\d+)?$/.test(
                        t.duration.trim()
                      ) &&
                      L(t.mediaFiles) &&
                      Array.isArray(t.mediaFiles.mediaFile) &&
                      t.mediaFiles.mediaFile.some(function (t) {
                        return e.validateMediaFile(t);
                      })
                    );
                  },
                },
                {
                  key: 'validateMediaFile',
                  value: function (t) {
                    return (
                      L(t) &&
                      'string' == typeof t.type &&
                      /^video\//.test(t.type) &&
                      'string' == typeof t.uri &&
                      !_(t.uri)
                    );
                  },
                },
                {
                  key: 'calculateCloseOffset',
                  value: function (t, e) {
                    var n =
                      this.closeOffset - this.timeTracker.getPlaybackTime();
                    return n >= e ? null : Math.max(t, n);
                  },
                },
                {
                  key: 'getAdMarkingConfig',
                  value: function (t) {
                    if (t) {
                      var e,
                        n = E(t);
                      try {
                        for (n.s(); !(e = n.n()).done; ) {
                          var r = e.value;
                          if ('string' == typeof r.adMarking && !_(r.adMarking))
                            try {
                              return JSON.parse(r.adMarking);
                            } catch (t) {
                              continue;
                            }
                        }
                      } catch (t) {
                        n.e(t);
                      } finally {
                        n.f();
                      }
                    }
                    return null;
                  },
                },
                {
                  key: 'createVendor',
                  value: function (t) {
                    var e,
                      n = this,
                      r = W(t.duration);
                    -1 === this.closeOffset && (this.closeOffset = r);
                    var i = W(t.skipoffset),
                      o =
                        null === i || null === this.closeOffset
                          ? null
                          : this.calculateCloseOffset(i, r);
                    return new sn(this.slot, {
                      clickThrough:
                        (null == t ||
                        null === (e = t.videoClicks) ||
                        void 0 === e ||
                        null === (e = e.clickThrough) ||
                        void 0 === e
                          ? void 0
                          : e.uri) || null,
                      controls: this.controls,
                      decorators: this.decorators,
                      mobileMode: this.mobileMode,
                      duration: r,
                      skipOffset: i,
                      closeOffset: o,
                      adMarking: this.getAdMarkingConfig(t.extensions),
                      vastMediaFiles: t.mediaFiles.mediaFile.filter(function (
                        t
                      ) {
                        return n.validateMediaFile(t);
                      }),
                    });
                  },
                },
              ]),
              t
            );
          })(),
          cn = function (t) {
            if (!L(t)) return !1;
            return [
              'handshakeVersion',
              'initAd',
              'startAd',
              'stopAd',
              'skipAd',
              'resizeAd',
              'pauseAd',
              'resumeAd',
              'expandAd',
              'collapseAd',
              'subscribe',
              'unsubscribe',
            ].every(function (e) {
              return 'function' == typeof (null == t ? void 0 : t[e]);
            });
          };
        !(function (t) {
          (t.Normal = 'normal'),
            (t.Thumbnail = 'thumbnail'),
            (t.Fullscreen = 'fullscreen');
        })(Oe || (Oe = {})),
          (function (t) {
            (t.AdLoaded = 'AdLoaded'),
              (t.AdStarted = 'AdStarted'),
              (t.AdStopped = 'AdStopped'),
              (t.AdSkipped = 'AdSkipped'),
              (t.AdSkippableStateChange = 'AdSkippableStateChange'),
              (t.AdSizeChange = 'AdSizeChange'),
              (t.AdLinearChange = 'AdLinearChange'),
              (t.AdDurationChange = 'AdDurationChange'),
              (t.AdExpandedChange = 'AdExpandedChange'),
              (t.AdVolumeChange = 'AdVolumeChange'),
              (t.AdImpression = 'AdImpression'),
              (t.AdVideoStart = 'AdVideoStart'),
              (t.AdVideoFirstQuartile = 'AdVideoFirstQuartile'),
              (t.AdVideoMidpoint = 'AdVideoMidpoint'),
              (t.AdVideoThirdQuartile = 'AdVideoThirdQuartile'),
              (t.AdVideoComplete = 'AdVideoComplete'),
              (t.AdClickThru = 'AdClickThru'),
              (t.AdInteraction = 'AdInteraction'),
              (t.AdUserAcceptInvitation = 'AdUserAcceptInvitation'),
              (t.AdUserMinimize = 'AdUserMinimize'),
              (t.AdUserClose = 'AdUserClose'),
              (t.AdPaused = 'AdPaused'),
              (t.AdPlaying = 'AdPlaying'),
              (t.AdLog = 'AdLog'),
              (t.AdError = 'AdError'),
              (t.AdRemainingTimeChange = 'AdRemainingTimeChange');
          })(je || (je = {}));
        var ln =
            (h(
              h(
                h(
                  h(
                    h(
                      h(
                        h(
                          h(
                            h(
                              h((xe = {}), je.AdImpression, xt.Impression),
                              je.AdLoaded,
                              xt.Loaded
                            ),
                            je.AdStarted,
                            xt.Start
                          ),
                          je.AdVideoFirstQuartile,
                          xt.FirstQuartile
                        ),
                        je.AdVideoMidpoint,
                        xt.Midpoint
                      ),
                      je.AdVideoThirdQuartile,
                      xt.ThirdQuartile
                    ),
                    je.AdVideoComplete,
                    xt.Complete
                  ),
                  je.AdSkipped,
                  xt.Skip
                ),
                je.AdExpandedChange,
                xt.Expand
              ),
              je.AdUserMinimize,
              xt.Collapse
            ),
            h(
              h(
                h(
                  h(
                    h(
                      h(
                        h(
                          h(
                            h(
                              h(xe, je.AdRemainingTimeChange, xt.Timeupdate),
                              je.AdUserClose,
                              xt.Close
                            ),
                            je.AdPaused,
                            xt.Pause
                          ),
                          je.AdPlaying,
                          xt.Resume
                        ),
                        je.AdClickThru,
                        xt.Click
                      ),
                      je.AdSizeChange,
                      xt.SizeChange
                    ),
                    je.AdError,
                    xt.Error
                  ),
                  je.AdSkippableStateChange,
                  xt.SkippableStateChange
                ),
                je.AdVolumeChange,
                xt.VolumeChange
              ),
              je.AdStopped,
              xt.End
            ),
            h(
              h(
                h(
                  h(
                    h(
                      h(xe, je.AdInteraction, xt.OtherInteraction),
                      je.AdLinearChange,
                      null
                    ),
                    je.AdDurationChange,
                    null
                  ),
                  je.AdVideoStart,
                  null
                ),
                je.AdUserAcceptInvitation,
                null
              ),
              je.AdLog,
              null
            )),
          fn = (function () {
            function t(e) {
              c(this, t),
                h(this, 'lastVolume', void 0),
                h(this, 'vpaidAdUnit', void 0),
                (this.lastVolume = e.getAdVolume()),
                (this.vpaidAdUnit = e);
            }
            return (
              f(t, [
                {
                  key: 'bindWith',
                  value: function (t) {
                    for (
                      var e = this,
                        n = function () {
                          var n = i[r],
                            o = ln[n];
                          if (!o && n !== je.AdLog) return 1;
                          n === je.AdVolumeChange
                            ? e.vpaidAdUnit.subscribe(function () {
                                var n = e.vpaidAdUnit.getAdVolume();
                                0 === n && e.lastVolume > 0
                                  ? t.triggerEvent(xt.Mute)
                                  : n > 0 && 0 === e.lastVolume
                                  ? t.triggerEvent(xt.Unmute)
                                  : t.triggerEvent(ln[je.AdVolumeChange]),
                                  (e.lastVolume = n);
                              }, n)
                            : n === je.AdLog
                            ? e.vpaidAdUnit.subscribe(function () {
                                var t;
                                return (t = console).log.apply(t, arguments);
                              }, n)
                            : e.vpaidAdUnit.subscribe(function () {
                                for (
                                  var e = arguments.length,
                                    n = new Array(e),
                                    r = 0;
                                  r < e;
                                  r++
                                )
                                  n[r] = arguments[r];
                                return t.triggerEvent.apply(t, [o].concat(n));
                              }, n);
                        },
                        r = 0,
                        i = Object.values(je);
                      r < i.length;
                      r++
                    )
                      n();
                  },
                },
              ]),
              t
            );
          })(),
          hn = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'config', void 0),
                h(this, 'informant', void 0),
                h(this, 'slot', void 0),
                h(this, 'vpaidMarkup', void 0),
                h(this, 'va', void 0),
                h(this, 'adUnit', void 0),
                (this.slot = e),
                (this.config = n),
                (this.informant = new ut()),
                (this.vpaidMarkup = new ae()),
                (this.va = new pt()),
                this.subscribe(xt.Click, function () {
                  for (
                    var t = arguments.length, e = new Array(t), r = 0;
                    r < t;
                    r++
                  )
                    e[r] = arguments[r];
                  var i = e[0];
                  e[2] &&
                    (i
                      ? window.open(i, '_blank')
                      : n.clickThrough &&
                        window.open(n.clickThrough, '_blank'));
                });
            }
            var e, n;
            return (
              f(t, [
                {
                  key: 'contentSize',
                  get: function () {
                    var t = this.getAdUnit();
                    return { width: t.getAdWidth(), height: t.getAdHeight() };
                  },
                },
                {
                  key: 'closeableState',
                  get: function () {
                    return !1;
                  },
                },
                {
                  key: 'skippableState',
                  get: function () {
                    return this.getAdUnit().getAdSkippableState();
                  },
                },
                {
                  key: 'expanded',
                  get: function () {
                    return this.getAdUnit().getAdExpanded();
                  },
                },
                {
                  key: 'muted',
                  get: function () {
                    return 0 === this.getAdUnit().getAdVolume();
                  },
                },
                {
                  key: 'currentTime',
                  get: function () {
                    var t = this.getAdUnit(),
                      e = t.getAdDuration(),
                      n = t.getAdRemainingTime();
                    return e < 0 || n < 0 ? 0 : e - n;
                  },
                },
                {
                  key: 'duration',
                  get: function () {
                    return this.getAdUnit().getAdDuration();
                  },
                },
                {
                  key: 'volume',
                  get: function () {
                    return this.getAdUnit().getAdVolume();
                  },
                  set: function (t) {
                    this.getAdUnit().setAdVolume(t);
                  },
                },
                {
                  key: 'getVolumeAvailabilityState',
                  value: function () {
                    return this.va.check();
                  },
                },
                {
                  key: 'subscribe',
                  value: function (t, e) {
                    this.informant.subscribe(t, e);
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (t, e) {
                    this.informant.unsubscribe(t, e);
                  },
                },
                {
                  key: 'mute',
                  value: function () {
                    this.getAdUnit().setAdVolume(0);
                  },
                },
                {
                  key: 'unmute',
                  value: function () {
                    this.getAdUnit().setAdVolume(1);
                  },
                },
                {
                  key: 'expand',
                  value: function () {
                    this.getAdUnit().expandAd();
                  },
                },
                {
                  key: 'collapse',
                  value: function () {
                    this.getAdUnit().collapseAd();
                  },
                },
                {
                  key: 'resume',
                  value: function () {
                    this.getAdUnit().resumeAd();
                  },
                },
                {
                  key: 'pause',
                  value: function () {
                    this.getAdUnit().pauseAd();
                  },
                },
                {
                  key: 'start',
                  value: function () {
                    var t = this;
                    return new Promise(function (e, n) {
                      var r = t.getAdUnit(),
                        i = r.getAdRemainingTime();
                      if (-1 === i || -2 === i) return r.startAd(), e();
                      var o = function () {
                          t.informant.unsubscribe(xt.Error, a),
                            clearTimeout(u),
                            s.stop();
                        },
                        a = function () {
                          o(), n(new Error('Player play timeout.'));
                        };
                      t.informant.subscribe(xt.Error, a), r.startAd();
                      var s = new it(function () {
                          i < r.getAdRemainingTime() && (o(), e());
                        }, 100),
                        u = setTimeout(function () {
                          a(), t.informant.triggerEvent(xt.Error);
                        }, 8e3);
                      s.start();
                    });
                  },
                },
                {
                  key: 'skip',
                  value: function () {
                    if (!this.skippableState)
                      throw new Error('VpaidPlayer: ad is not skippable');
                    this.getAdUnit().skipAd();
                  },
                },
                { key: 'close', value: function () {} },
                {
                  key: 'destroy',
                  value: function () {
                    this.informant.clear(),
                      this.getAdUnit().stopAd(),
                      this.vpaidMarkup.destroy();
                  },
                },
                {
                  key: 'resize',
                  value: function (t) {
                    var e = t.width,
                      n = t.height;
                    e && n && this.getAdUnit().resizeAd(e, n, Oe.Normal);
                  },
                },
                {
                  key: 'load',
                  value:
                    ((n = u(
                      i().mark(function t() {
                        var e,
                          n,
                          r,
                          o,
                          a,
                          s = this;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  return (
                                    (e = this.config),
                                    (n = e.vpaidUrl),
                                    (r = e.AdParameters),
                                    (o = e.bitrate),
                                    (t.next = 3),
                                    new dt(n).load()
                                  );
                                case 3:
                                  if ('function' == typeof window.getVPAIDAd) {
                                    t.next = 5;
                                    break;
                                  }
                                  throw new Error(
                                    'VpaidPlayer: getVPAIDAd is not a function.'
                                  );
                                case 5:
                                  if (
                                    ((this.adUnit = window.getVPAIDAd()),
                                    cn(this.adUnit))
                                  ) {
                                    t.next = 8;
                                    break;
                                  }
                                  throw new Error(
                                    'VpaidPlayer: specification does not comply with the standard.'
                                  );
                                case 8:
                                  return (
                                    this.adUnit.handshakeVersion('2'),
                                    new fn(this.adUnit).bindWith(
                                      this.informant
                                    ),
                                    (a = new Promise(function (t, e) {
                                      s.subscribe(xt.Loaded, t),
                                        s.subscribe(xt.Error, function () {
                                          return e(
                                            new Error(
                                              'VpaidPlayer: error during VPAID initialization.'
                                            )
                                          );
                                        });
                                    })),
                                    this.adUnit.initAd(
                                      Math.ceil(this.slot.offsetWidth),
                                      Math.ceil(this.slot.offsetHeight),
                                      Oe.Normal,
                                      o || -1,
                                      { AdParameters: r },
                                      {
                                        slot: this.vpaidMarkup.slot,
                                        videoSlot: this.vpaidMarkup.videoSlot,
                                        videoSlotCanAutoPlay: !1,
                                      }
                                    ),
                                    t.abrupt('return', a)
                                  );
                                case 13:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return n.apply(this, arguments);
                    }),
                },
                {
                  key: 'render',
                  value:
                    ((e = u(
                      i().mark(function t() {
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  return t.abrupt(
                                    'return',
                                    this.vpaidMarkup.insertInto(this.slot)
                                  );
                                case 1:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return e.apply(this, arguments);
                    }),
                },
                {
                  key: 'getAdUnit',
                  value: function () {
                    if (!this.adUnit)
                      throw new Error('VpaidPlayer: adUnit is not loaded.');
                    return this.adUnit;
                  },
                },
              ]),
              t
            );
          })(),
          dn = (function () {
            function t(e) {
              c(this, t), h(this, 'slot', void 0), (this.slot = e);
            }
            return (
              f(t, [
                {
                  key: 'validate',
                  value: function (t) {
                    var e = this;
                    return (
                      L(t) &&
                      L(t.mediaFiles) &&
                      Array.isArray(t.mediaFiles.mediaFile) &&
                      t.mediaFiles.mediaFile.some(function (t) {
                        return e.validateMediaFile(t);
                      })
                    );
                  },
                },
                {
                  key: 'createVendor',
                  value: function (t) {
                    var e,
                      n = this.getValidMediaFile(t.mediaFiles.mediaFile);
                    return new hn(this.slot, {
                      clickThrough:
                        (null === (e = t.videoClicks) ||
                        void 0 === e ||
                        null === (e = e.clickThrough) ||
                        void 0 === e
                          ? void 0
                          : e.uri) || null,
                      AdParameters: t.adParameters.metadata,
                      vpaidUrl: n.uri,
                      bitrate: n.bitrate,
                    });
                  },
                },
                {
                  key: 'validateMediaFile',
                  value: function (t) {
                    return (
                      L(t) &&
                      'VPAID' === t.apiFramework &&
                      'string' == typeof t.uri &&
                      !_(t.uri)
                    );
                  },
                },
                {
                  key: 'getValidMediaFile',
                  value: function (t) {
                    var e,
                      n,
                      r = E(t);
                    try {
                      for (r.s(); !(n = r.n()).done; ) {
                        var i = n.value;
                        if (this.validateMediaFile(i)) {
                          e = i;
                          break;
                        }
                      }
                    } catch (t) {
                      r.e(t);
                    } finally {
                      r.f();
                    }
                    return e;
                  },
                },
              ]),
              t
            );
          })(),
          pn = (function () {
            function t(e) {
              c(this, t), h(this, 'slot', void 0), (this.slot = e);
            }
            return (
              f(t, [
                {
                  key: 'startByVisibility',
                  value: function (t) {
                    var e = this;
                    return new Promise(function (n, r) {
                      var i = new lt(function (e) {
                        g(e, 1)[0].intersectionRatio >= 0.5 &&
                          (t.start().then(n).catch(r), i.disconnect());
                      }, Bt);
                      i.observe(e.slot);
                    });
                  },
                },
              ]),
              t
            );
          })(),
          vn = (function () {
            function t(e) {
              c(this, t),
                h(this, 'slot', void 0),
                h(this, 'observer', void 0),
                h(this, 'adVendor', void 0),
                h(this, 'intoView', void 0),
                h(this, 'isPlaying', void 0),
                (this.slot = e),
                (this.observer = new lt(
                  this.checkingVisibility.bind(this),
                  Bt
                )),
                (this.adVendor = null),
                (this.intoView = null),
                (this.isPlaying = null),
                (this.startObserving = this.startObserving.bind(this)),
                (this.stopObserving = this.stopObserving.bind(this)),
                (this.resumeHandler = this.resumeHandler.bind(this)),
                (this.pauseHandler = this.pauseHandler.bind(this));
            }
            return (
              f(t, [
                {
                  key: 'setup',
                  value: function (t) {
                    this.stopObserving(),
                      (this.intoView = !0),
                      (this.isPlaying = !0),
                      this.adVendor && this.removeListeners(),
                      (this.adVendor = t),
                      this.addListeners();
                  },
                },
                {
                  key: 'checkingVisibility',
                  value: function (t) {
                    var e = g(t, 1)[0];
                    this.intoView && e.intersectionRatio < 0.5
                      ? ((this.intoView = !1),
                        this.isPlaying && this.adVendor.pause())
                      : !this.intoView &&
                        e.intersectionRatio >= 0.5 &&
                        ((this.intoView = !0),
                        this.isPlaying || this.adVendor.resume());
                  },
                },
                {
                  key: 'startObserving',
                  value: function () {
                    this.observer.observe(this.slot);
                  },
                },
                {
                  key: 'stopObserving',
                  value: function () {
                    this.observer.isObserved(this.slot) &&
                      this.observer.disconnect();
                  },
                },
                {
                  key: 'resumeHandler',
                  value: function () {
                    this.intoView || (this.intoView = !0),
                      (this.isPlaying = !0);
                  },
                },
                {
                  key: 'pauseHandler',
                  value: function () {
                    this.isPlaying = !1;
                  },
                },
                {
                  key: 'addListeners',
                  value: function () {
                    var t = this;
                    this.adVendor.subscribe(xt.Start, this.startObserving),
                      [xt.End, xt.Close, xt.Skip, xt.Error].forEach(function (
                        e
                      ) {
                        return t.adVendor.subscribe(e, t.stopObserving);
                      }),
                      this.adVendor.subscribe(xt.Resume, this.resumeHandler),
                      this.adVendor.subscribe(xt.Pause, this.pauseHandler);
                  },
                },
                {
                  key: 'removeListeners',
                  value: function () {
                    var t = this;
                    this.adVendor.unsubscribe(xt.Start, this.startObserving),
                      [xt.End, xt.Close, xt.Skip, xt.Error].forEach(function (
                        e
                      ) {
                        return t.adVendor.unsubscribe(e, t.stopObserving);
                      }),
                      this.adVendor.unsubscribe(xt.Resume, this.resumeHandler),
                      this.adVendor.unsubscribe(xt.Pause, this.pauseHandler);
                  },
                },
              ]),
              t
            );
          })(),
          mn = (function () {
            function t(e, n, r) {
              c(this, t),
                h(this, 'slot', void 0),
                h(this, 'finallyCbList', void 0),
                h(this, 'impTotal', void 0),
                h(this, 'extensions', void 0),
                h(this, 'loader', void 0),
                h(this, 'sources', void 0),
                h(this, 'vendorloaders', void 0),
                h(this, 'autoPlay', void 0),
                h(this, 'closeOffset', void 0),
                h(this, 'playbackTimeRecorder', void 0),
                h(this, 'externalEventBinder', void 0),
                h(this, 'launcher', void 0),
                h(this, 'impCount', void 0),
                h(this, 'hasLoadedAd', void 0),
                h(this, 'currentSource', void 0),
                h(this, 'currentSourceImpCounter', void 0),
                h(this, 'loadProcess', void 0),
                h(this, 'adVendor', void 0),
                h(this, 'unmute', void 0),
                h(this, 'loaderStartTime', void 0),
                h(this, 'isLoaderRunning', void 0),
                h(this, 'adId', void 0),
                h(this, 'creativeId', void 0),
                (this.slot = e),
                (this.finallyCbList = []),
                (this.impTotal = 0 === n.total ? 1 / 0 : n.total),
                (this.autoPlay = n.autoPlay),
                (this.unmute = Boolean(n.unmute)),
                (this.impCount = 0),
                (this.hasLoadedAd = !1),
                (this.currentSource = null),
                (this.currentSourceImpCounter = 0),
                (this.loadProcess = null),
                (this.adVendor = null),
                (this.loaderStartTime = null),
                (this.isLoaderRunning = !1),
                (this.adId = null),
                (this.creativeId = null),
                (this.externalEventBinder = new zt(r)),
                (this.loader = new St()),
                (this.playbackTimeRecorder = new Ut()),
                (this.sources = new Et(w(n.sources))),
                (this.launcher = new pn(this.slot)),
                this.sources.filter(),
                this.sources.sort(),
                0 === n.closeOffset
                  ? (this.closeOffset = null)
                  : (n.closeOffset > 0 && n.closeOffset < 3) ||
                    n.closeOffset < -1
                  ? (this.closeOffset = 3)
                  : (this.closeOffset = n.closeOffset),
                (this.extensions = [new vn(this.slot)]),
                (this.vendorloaders = [
                  new un(this.slot, {
                    controls: n.controls,
                    decorators: n.decorators,
                    timeTracker: this.playbackTimeRecorder,
                    closeOffset: this.closeOffset,
                  }),
                  new dn(this.slot),
                ]);
            }
            var e, n, o, a, s, l, d;
            return (
              f(t, [
                {
                  key: 'getAdId',
                  value: function () {
                    return this.adId;
                  },
                },
                {
                  key: 'getCreativeId',
                  value: function () {
                    return this.creativeId;
                  },
                },
                {
                  key: 'installExtensions',
                  value: function (t, e) {
                    this.extensions.forEach(function (n) {
                      return n.setup(t, e);
                    });
                  },
                },
                {
                  key: 'selectVendor',
                  value: function (t) {
                    var e,
                      n = E(this.vendorloaders);
                    try {
                      for (n.s(); !(e = n.n()).done; ) {
                        var r = e.value;
                        if (r.validate(t)) return r.createVendor(t);
                      }
                    } catch (t) {
                      n.e(t);
                    } finally {
                      n.f();
                    }
                    return null;
                  },
                },
                {
                  key: 'hideLoader',
                  value: function () {
                    this.isLoaderRunning &&
                      (this.loader.remove(),
                      (this.loaderStartTime = null),
                      (this.isLoaderRunning = !1));
                  },
                },
                {
                  key: 'showLoader',
                  value: function () {
                    this.isLoaderRunning ||
                      ((this.isLoaderRunning = !0),
                      this.loader.insertInto(this.slot),
                      (this.loaderStartTime = new Date().getTime()));
                  },
                },
                {
                  key: 'startByVisibility',
                  value:
                    ((d = u(
                      i().mark(function t() {
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (!(this.autoPlay || this.impCount > 0)) {
                                    t.next = 2;
                                    break;
                                  }
                                  return t.abrupt(
                                    'return',
                                    this.launcher.startByVisibility(
                                      this.adVendor
                                    )
                                  );
                                case 2:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return d.apply(this, arguments);
                    }),
                },
                {
                  key: 'selectSource',
                  value:
                    ((l = u(
                      i().mark(function t() {
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (this.currentSource) {
                                    t.next = 7;
                                    break;
                                  }
                                  if (!this.sources.hasSources()) {
                                    t.next = 6;
                                    break;
                                  }
                                  (this.currentSource =
                                    this.sources.getSource()),
                                    (this.currentSourceImpCounter = 0),
                                    (t.next = 7);
                                  break;
                                case 6:
                                  return t.abrupt('return', Promise.reject());
                                case 7:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return l.apply(this, arguments);
                    }),
                },
                {
                  key: 'checkSourceImp',
                  value:
                    ((s = u(
                      i().mark(function t() {
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (
                                    !(
                                      this.currentSourceImpCounter >=
                                      this.currentSource.total
                                    )
                                  ) {
                                    t.next = 2;
                                    break;
                                  }
                                  return t.abrupt('return', Promise.reject());
                                case 2:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return s.apply(this, arguments);
                    }),
                },
                {
                  key: 'loadVast',
                  value:
                    ((a = u(
                      i().mark(function t() {
                        var e;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  return (
                                    (t.next = 2),
                                    new Rt(this.currentSource.source).load()
                                  );
                                case 2:
                                  return (
                                    (e = t.sent), t.abrupt('return', e.nextAd())
                                  );
                                case 4:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return a.apply(this, arguments);
                    }),
                },
                {
                  key: 'parseVast',
                  value: function (t) {
                    var e = t.creatives.filter(function (t) {
                      return 'linear' === t.type;
                    });
                    return e.length
                      ? { linearCreatives: e, vastData: t }
                      : Promise.reject();
                  },
                },
                {
                  key: 'loadVendor',
                  value:
                    ((o = u(
                      i().mark(function t(e, n) {
                        var o, a, s, u;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  (a = E(e)), (t.prev = 1), a.s();
                                case 3:
                                  if ((s = a.n()).done) {
                                    t.next = 30;
                                    break;
                                  }
                                  if (
                                    ((u = s.value),
                                    (o = this.selectVendor(
                                      r(
                                        r({}, u),
                                        {},
                                        { extensions: n.extensions }
                                      )
                                    )))
                                  ) {
                                    t.next = 8;
                                    break;
                                  }
                                  return t.abrupt('continue', 28);
                                case 8:
                                  return (
                                    this.externalEventBinder.bindWith(o),
                                    this.installExtensions(o, n),
                                    new Nt({
                                      impression: n.impression,
                                      error: n.errors,
                                      videoClicks: u.videoClicks,
                                      trackingEvents:
                                        null == u ? void 0 : u.trackingEvents,
                                    }).bindWith(o),
                                    (t.prev = 11),
                                    (this.adId = u.adId),
                                    (this.creativeId = u.id),
                                    (t.next = 16),
                                    o.load()
                                  );
                                case 16:
                                  return (t.next = 18), o.render();
                                case 18:
                                  t.next = 27;
                                  break;
                                case 20:
                                  return (
                                    (t.prev = 20),
                                    (t.t0 = t.catch(11)),
                                    o.destroy(),
                                    (o = void 0),
                                    (this.adId = null),
                                    (this.creativeId = null),
                                    t.abrupt('continue', 28)
                                  );
                                case 27:
                                  return t.abrupt('break', 30);
                                case 28:
                                  t.next = 3;
                                  break;
                                case 30:
                                  t.next = 35;
                                  break;
                                case 32:
                                  (t.prev = 32), (t.t1 = t.catch(1)), a.e(t.t1);
                                case 35:
                                  return (t.prev = 35), a.f(), t.finish(35);
                                case 38:
                                  if (!o) {
                                    t.next = 42;
                                    break;
                                  }
                                  (this.adVendor = o), (t.next = 43);
                                  break;
                                case 42:
                                  return t.abrupt('return', Promise.reject());
                                case 43:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this,
                          [
                            [1, 32, 35, 38],
                            [11, 20],
                          ]
                        );
                      })
                    )),
                    function (t, e) {
                      return o.apply(this, arguments);
                    }),
                },
                {
                  key: 'parseSource',
                  value: function () {
                    var t = this;
                    return this.checkSourceImp()
                      .then(function () {
                        return t.loadVast();
                      })
                      .then(function (e) {
                        return t.parseVast(e);
                      })
                      .then(function (e) {
                        return t.loadVendor(e.linearCreatives, e.vastData);
                      })
                      .then(function () {
                        t.hasLoadedAd = !0;
                      })
                      .catch(function () {
                        return t.deleteCurrentSource(), t.loadSource();
                      });
                  },
                },
                {
                  key: 'loadSource',
                  value: function () {
                    var t = this;
                    return this.selectSource().then(function () {
                      return t.parseSource();
                    });
                  },
                },
                {
                  key: 'loadAdData',
                  value: function () {
                    return (
                      this.loadProcess ||
                        (this.loadProcess = this.loadSource()),
                      this.loadProcess
                    );
                  },
                },
                {
                  key: 'waitEndOfPlayback',
                  value: function () {
                    var t = this;
                    return new Promise(function (e) {
                      [xt.Error, xt.Skip, xt.End, xt.Close].forEach(function (
                        n
                      ) {
                        return t.adVendor.subscribe(n, function () {
                          return e(n);
                        });
                      });
                    });
                  },
                },
                {
                  key: 'startTrackingSoundChanges',
                  value: function () {
                    var t,
                      e,
                      n,
                      r = this;
                    this.adVendor.mute(),
                      this.unmute &&
                        (null === (t = this.adVendor) ||
                          void 0 === t ||
                          t.getVolumeAvailabilityState().then(function (t) {
                            t && r.adVendor.unmute();
                          })),
                      null === (e = this.adVendor) ||
                        void 0 === e ||
                        e.subscribe(xt.Unmute, function () {
                          return (r.unmute = !0);
                        }),
                      null === (n = this.adVendor) ||
                        void 0 === n ||
                        n.subscribe(xt.Mute, function () {
                          return (r.unmute = !1);
                        });
                  },
                },
                {
                  key: 'loadPlayer',
                  value:
                    ((n = u(
                      i().mark(function t() {
                        var e = this;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (!this.hasLoadedAd) {
                                    t.next = 2;
                                    break;
                                  }
                                  return t.abrupt('return');
                                case 2:
                                  return (
                                    this.showLoader(),
                                    t.abrupt(
                                      'return',
                                      this.loadAdData().then(function () {
                                        return z(
                                          300 -
                                            (new Date().getTime() -
                                              e.loaderStartTime)
                                        );
                                      })
                                    )
                                  );
                                case 4:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return n.apply(this, arguments);
                    }),
                },
                {
                  key: 'launchPlayer',
                  value: function () {
                    var t = this;
                    return (
                      this.startTrackingSoundChanges(),
                      this.startByVisibility()
                        .then(function () {
                          t.hideLoader(),
                            t.impCount++,
                            t.currentSourceImpCounter++;
                        })
                        .then(function () {
                          t.waitEndOfPlayback().then(function (e) {
                            t.deleteVendor(),
                              e === xt.Error && t.deleteCurrentSource(),
                              e === xt.Close &&
                              t.closeOffset &&
                              t.closeOffset <
                                t.playbackTimeRecorder.getPlaybackTime()
                                ? t.destroy()
                                : t.start();
                          });
                        })
                        .catch(function () {
                          return (
                            t.deleteCurrentSource(), t.deleteVendor(), t.start()
                          );
                        })
                    );
                  },
                },
                {
                  key: 'start',
                  value:
                    ((e = u(
                      i().mark(function t() {
                        var e = this;
                        return i().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  if (!(this.impCount >= this.impTotal)) {
                                    t.next = 2;
                                    break;
                                  }
                                  return t.abrupt('return', this.destroy());
                                case 2:
                                  return t.abrupt(
                                    'return',
                                    this.loadPlayer()
                                      .then(function () {
                                        return (
                                          e.resetLoadedData(), e.launchPlayer()
                                        );
                                      })
                                      .catch(function (t) {
                                        if ((e.destroy(), 0 === e.impCount))
                                          throw t;
                                      })
                                  );
                                case 3:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this
                        );
                      })
                    )),
                    function () {
                      return e.apply(this, arguments);
                    }),
                },
                {
                  key: 'preload',
                  value: function () {
                    return this.loadAdData();
                  },
                },
                {
                  key: 'finally',
                  value: function (t) {
                    this.finallyCbList.push(t);
                  },
                },
                {
                  key: 'destroy',
                  value: function () {
                    this.deleteVendor(),
                      this.finallyCbList.forEach(function (t) {
                        return t();
                      });
                  },
                },
                {
                  key: 'getAdVendor',
                  value: function () {
                    return this.adVendor;
                  },
                },
                {
                  key: 'deleteVendor',
                  value: function () {
                    var t;
                    null === (t = this.adVendor) || void 0 === t || t.destroy(),
                      (this.adVendor = null),
                      (this.adId = null),
                      (this.creativeId = null);
                  },
                },
                {
                  key: 'deleteCurrentSource',
                  value: function () {
                    this.currentSource = null;
                  },
                },
                {
                  key: 'resetLoadedData',
                  value: function () {
                    (this.hasLoadedAd = !1), (this.loadProcess = null);
                  },
                },
              ]),
              t
            );
          })();
        var yn,
          bn,
          gn,
          wn,
          kn,
          Sn = (function () {
            function t(e, n) {
              var r = this;
              c(this, t),
                h(this, 'slot', void 0),
                h(this, 'wrapper', void 0),
                h(this, 'controller', void 0),
                h(this, 'informant', void 0),
                h(this, 'adVendor', void 0),
                (this.adVendor = null),
                (this.slot = e),
                (this.wrapper = document.createElement('div')),
                X(this.wrapper, {
                  width: '100%',
                  height: '100%',
                  position: 'relative',
                }),
                (this.informant = new ut()),
                (this.controller = new mn(
                  this.wrapper,
                  (function (t) {
                    if ('adriver_urls' in t) {
                      var e = [];
                      return (
                        t.adriver_urls.forEach(function (t) {
                          var n = {
                            system: t.system ? t.system : 'adriver',
                            priority: t.priority,
                            source: t.url,
                            total: t.rules,
                          };
                          e.push(n);
                        }),
                        t.other_urls.forEach(function (t) {
                          var n = {
                            system: t.system,
                            priority: t.priority,
                            source: t.url,
                            total: t.rules,
                          };
                          e.push(n);
                        }),
                        {
                          sources: e,
                          controls: {
                            'play-pause': {
                              include: t.playStop.include,
                              persistent: t.playStop.animated,
                            },
                            'mute-unmute': {
                              include: t.volume.include,
                              persistent: t.volume.animated,
                            },
                            'expand-collapse': {
                              include: t.fullScreen.include,
                              persistent: t.fullScreen.animated,
                            },
                            close: {
                              include: t.close.include,
                              persistent: t.close.animated,
                            },
                            skip: { include: 0, persistent: 0 },
                          },
                          decorators: h({}, 'progress-bar', {
                            include: t.closingTimeIndicator.include,
                          }),
                          total: t.totalPlay,
                          autoPlay: t.autoPlay,
                          closeOffset: t.skipoffset,
                          unmute: t.mutedPlay ? 0 : 1,
                        }
                      );
                    }
                    return t;
                  })(n),
                  this.informant
                )),
                this.controller.finally(function () {
                  r.wrapper.remove(), r.informant.clear();
                });
            }
            return (
              f(t, [
                {
                  key: 'getAdId',
                  value: function () {
                    return this.controller.getAdId();
                  },
                },
                {
                  key: 'getCreativeId',
                  value: function () {
                    return this.controller.getCreativeId();
                  },
                },
                {
                  key: 'finally',
                  value: function (t) {
                    this.controller.finally(t);
                  },
                },
                {
                  key: 'subscribe',
                  value: function (t, e) {
                    this.informant.subscribe(t, e);
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (t, e) {
                    'function' == typeof e && this.informant.unsubscribe(t, e);
                  },
                },
                {
                  key: 'destroy',
                  value: function () {
                    this.controller.destroy();
                  },
                },
                {
                  key: 'start',
                  value: function () {
                    return (
                      this.slot.append(this.wrapper), this.controller.start()
                    );
                  },
                },
                {
                  key: 'preload',
                  value: function () {
                    return this.controller.preload();
                  },
                },
                {
                  key: 'getAdVendor',
                  value: function () {
                    return this.controller.getAdVendor();
                  },
                },
              ]),
              t
            );
          })(),
          En = {
            rootMargin: '0px',
            threshold: [0, 0.12, 0.25, 0.37, 0.5, 0.75, 1],
            trackVisibility: !0,
            delay: 100,
          },
          Tn = [
            113, 161, 162, 168, 176, 177, 213, 214, 216, 217, 218, 163, 165,
            226,
          ],
          Pn = [161, 162, 176, 216, 217, 165, 226],
          Cn = [161, 162, 176, 165],
          An = [115, 161, 162, 176, 216, 217, 165, 226],
          xn = [
            113, 115, 161, 162, 163, 165, 168, 176, 177, 213, 214, 216, 217,
            218, 226,
          ],
          On = {
            zero: [].concat(w(Tn), [227]),
            clientViewability: [].concat(w(Pn), [227]),
            firstScreenViewability: [].concat(w(Cn), [227]),
            viewability: [].concat(w(An), [227]),
            error: w(xn),
          },
          jn = {
            zero: [].concat(w(Tn), [116, 117, 118, 119, 177]),
            clientViewability: [].concat(w(Pn), [116, 117, 118, 119, 177]),
            firstScreenViewability: [].concat(w(Cn), [116, 117, 118, 119, 177]),
            viewability: [].concat(w(An), [116, 117, 118, 119, 177]),
            error: [].concat(w(xn), [116, 117, 118, 119, 177]),
          },
          Ln = {
            zero: w(Tn),
            clientViewability: w(Pn),
            firstScreenViewability: w(Cn),
            viewability: w(An),
            error: w(xn),
          },
          Vn = { name: 'ZeroEvent', type: 0 },
          In = { name: 'ClientViewability', type: 69 },
          Mn = { name: 'FirstScreenViewability', type: 27 },
          _n = { name: 'Viewability', type: 53 },
          Rn = { name: 'Error', type: 26 },
          Fn = { type: 'text/javascript', charset: 'windows-1251' },
          Dn = (function () {
            function t(e) {
              var n = e.eventLink,
                r = e.sendZeroEvent,
                i = e.permanent,
                o = e.sendEvents,
                a = e.nodeToTrack,
                s = e.delay,
                u = e.startTime,
                l = e.secondaryParams;
              if (
                (c(this, t),
                h(this, 'informant', void 0),
                h(this, 'eventLink', void 0),
                h(this, 'startTime', void 0),
                h(this, 'sendZeroEvent', void 0),
                h(this, 'sendEvents', void 0),
                h(this, 'permanent', void 0),
                h(this, 'delay', void 0),
                h(this, 'visibilityInformant', void 0),
                h(this, 'nodeToTrack', void 0),
                h(this, 'secondaryParams', void 0),
                h(this, 'viewablePercent', void 0),
                h(this, 'firstStart', void 0),
                h(this, 'checkList', void 0),
                h(this, 'clientViewabilityTimeoutId', void 0),
                h(this, 'viewabilityTimeoutId', void 0),
                'string' != typeof n || _(n))
              )
                throw new Error('AV: missing event link');
              (this.informant = new ut()),
                (this.eventLink = n),
                (this.nodeToTrack = a),
                (this.sendZeroEvent = 'boolean' != typeof r || r),
                (this.permanent = 'boolean' != typeof i || i),
                (this.sendEvents = 'boolean' != typeof o || o),
                (this.delay = x(s) ? s : 1e3),
                (this.startTime = x(u) ? u : new Date().getTime()),
                (this.secondaryParams = l && x(l.time) && x(l.area) ? l : null),
                (this.viewablePercent = -1),
                (this.firstStart = !0),
                (this.visibilityInformant = new ut()),
                (this.checkList = {
                  client: R(this.secondaryParams),
                  native: !0,
                  firstScreen: !0,
                });
            }
            return (
              f(t, [
                {
                  key: 'sendEvent',
                  value: function (t, e, n) {
                    var r = t.name,
                      i = t.type;
                    if ((this.informant.triggerEvent(r), e)) {
                      var o = this.cc
                          .clear()
                          .collect(n || [])
                          .toString(),
                        a = new st(this.eventLink)
                          .setRnd()
                          .setParams({ type: i, custom: o })
                          .toString();
                      new ht(a).send();
                    }
                  },
                },
                {
                  key: 'checkViewability',
                  value: function () {
                    var t = this;
                    this.cc.collectFrom(this),
                      z().then(function () {
                        return t.sendEvent(
                          Vn,
                          t.sendZeroEvent,
                          t.customLists.zero
                        );
                      }),
                      this.visibilityInformant.subscribe(Mn.name, function () {
                        return t.sendEvent(
                          Mn,
                          t.sendEvents,
                          t.customLists.firstScreenViewability
                        );
                      }),
                      this.visibilityInformant.subscribe(_n.name, function () {
                        t.sendEvent(
                          _n,
                          t.sendEvents,
                          t.customLists.viewability
                        ),
                          t.visibilityInformant.unsubscribe(_n.name),
                          t.permanent &&
                            t.visibilityInformant.subscribe(
                              _n.name,
                              function () {
                                return t.sendEvent(_n, !1);
                              }
                            );
                      }),
                      this.visibilityInformant.subscribe(In.name, function () {
                        t.sendEvent(
                          In,
                          t.sendEvents,
                          t.customLists.clientViewability
                        ),
                          t.visibilityInformant.unsubscribe(In.name),
                          t.permanent &&
                            t.visibilityInformant.subscribe(
                              In.name,
                              function () {
                                return t.sendEvent(In, !1);
                              }
                            );
                      }),
                      this.visibilityInformant.subscribe(Rn.name, function () {
                        t.sendEvent(
                          Rn,
                          t.sendZeroEvent || t.sendEvents,
                          t.customLists.error
                        ),
                          t.remove();
                      }),
                      this.init();
                  },
                },
                {
                  key: 'viewabilityChange',
                  value: function (t) {
                    (this.viewablePercent = this.width && this.height ? t : 0),
                      this.checkList.client && this.checkClientViewability(),
                      this.checkList.native && this.checkNativeViewability(),
                      this.checkList.firstScreen &&
                        this.checkFirstScreenViewability(),
                      this.permanent ||
                        this.checkList.client ||
                        this.checkList.native ||
                        this.checkList.firstScreen ||
                        this.visibilityInformant.clear();
                  },
                },
                {
                  key: 'checkClientViewability',
                  value: function () {
                    var t = this;
                    this.viewablePercent >= +this.secondaryParams.area / 100
                      ? this.clientViewabilityTimeoutId ||
                        (this.clientViewabilityTimeoutId = setTimeout(
                          function () {
                            t.visibilityInformant.triggerEvent(In.name),
                              t.permanent || (t.checkList.client = !1);
                          },
                          +this.secondaryParams.time
                        ))
                      : this.clientViewabilityTimeoutId &&
                        (clearTimeout(this.clientViewabilityTimeoutId),
                        (this.clientViewabilityTimeoutId = null));
                  },
                },
                {
                  key: 'checkNativeViewability',
                  value: function () {
                    var t = this;
                    this.viewablePercent >= 0.5
                      ? this.viewabilityTimeoutId ||
                        (this.viewabilityTimeoutId = setTimeout(function () {
                          t.visibilityInformant.triggerEvent(_n.name),
                            t.permanent || (t.checkList.native = !1);
                        }, this.delay))
                      : this.viewabilityTimeoutId &&
                        (clearTimeout(this.viewabilityTimeoutId),
                        (this.viewabilityTimeoutId = null));
                  },
                },
                {
                  key: 'checkFirstScreenViewability',
                  value: function () {
                    if (new Date().getTime() - this.startTime <= 1e3) {
                      if (!(this.viewablePercent >= 0.5)) return;
                      this.visibilityInformant.triggerEvent(Mn.name);
                    }
                    this.checkList.firstScreen = !1;
                  },
                },
                {
                  key: 'getViewablePercent',
                  value: function () {
                    return this.viewablePercent;
                  },
                },
                {
                  key: 'subscribe',
                  value: function (t, e, n) {
                    var r;
                    this.informant.subscribe(
                      t,
                      null == e || null === (r = e.bind) || void 0 === r
                        ? void 0
                        : r.call(e, n)
                    );
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (t) {
                    this.informant.unsubscribe(t);
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    this.informant.clear(),
                      this.visibilityInformant.clear(),
                      (this.viewablePercent = -1);
                  },
                },
              ]),
              t
            );
          })(),
          Bn = (function (e) {
            function n(e) {
              var r;
              return (
                c(this, n),
                h(y((r = t(this, n, [e]))), 'cc', void 0),
                h(y(r), 'measurable', void 0),
                h(y(r), 'methodOfDeterminingVisibility', void 0),
                h(y(r), 'observer', void 0),
                h(y(r), 'customLists', void 0),
                h(y(r), 'absoluteVisible', void 0),
                (r.observer = new lt(r.observerHandler.bind(y(r)), En)),
                (r.methodOfDeterminingVisibility = 1),
                (r.cc = new Z()),
                (r.customLists = On),
                (r.measurable = !0),
                (r.absoluteVisible = null),
                r
              );
            }
            return (
              d(n, e),
              f(n, [
                {
                  key: 'width',
                  get: function () {
                    return this.nodeToTrack.clientWidth;
                  },
                },
                {
                  key: 'height',
                  get: function () {
                    return this.nodeToTrack.clientHeight;
                  },
                },
                {
                  key: 'isFullscreenMode',
                  get: function () {
                    return rt(this.nodeToTrack, this.nodeToTrack.ownerDocument);
                  },
                },
                {
                  key: 'init',
                  value: function () {
                    this.observer.observe(this.nodeToTrack);
                  },
                },
                {
                  key: 'observerHandler',
                  value: function (t) {
                    var e = g(t, 1)[0],
                      n = e.intersectionRatio,
                      r = e.isVisible;
                    this.viewabilityChange(n),
                      (this.absoluteVisible = null != r ? r : null);
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    b(p(n.prototype), 'remove', this).call(this),
                      this.observer.disconnect();
                  },
                },
              ]),
              n
            );
          })(Dn),
          Un = (function (e) {
            function n(e) {
              var r, i, o, a, s, u, l, f, d;
              return (
                c(this, n),
                h(
                  y((d = t(this, n, [e]))),
                  'methodOfDeterminingVisibility',
                  void 0
                ),
                h(y(d), 'cc', void 0),
                h(y(d), 'customLists', void 0),
                h(y(d), 'measurable', void 0),
                h(y(d), 'isFullscreenMode', void 0),
                h(y(d), 'version', void 0),
                h(y(d), 'sdk', void 0),
                h(y(d), 'sdkVersion', void 0),
                h(y(d), 'appId', void 0),
                h(y(d), 'ifa', void 0),
                h(y(d), 'removed', void 0),
                (d.cc = new Z()),
                (d.version = window.mraid.getVersion()),
                (d.methodOfDeterminingVisibility = '2.0' === d.version ? 4 : 5),
                (d.customLists = jn),
                (d.measurable = !0),
                (d.sdk =
                  null !==
                    (r =
                      null === (i = window) ||
                      void 0 === i ||
                      null === (i = i.MRAID_ENV) ||
                      void 0 === i
                        ? void 0
                        : i.sdk) && void 0 !== r
                    ? r
                    : '0'),
                (d.sdkVersion =
                  null !==
                    (o =
                      null === (a = window) ||
                      void 0 === a ||
                      null === (a = a.MRAID_ENV) ||
                      void 0 === a
                        ? void 0
                        : a.sdkVersion) && void 0 !== o
                    ? o
                    : '0'),
                (d.appId =
                  null !==
                    (s =
                      null === (u = window) ||
                      void 0 === u ||
                      null === (u = u.MRAID_ENV) ||
                      void 0 === u
                        ? void 0
                        : u.appId) && void 0 !== s
                    ? s
                    : '0'),
                (d.ifa =
                  null !==
                    (l =
                      null === (f = window) ||
                      void 0 === f ||
                      null === (f = f.MRAID_ENV) ||
                      void 0 === f
                        ? void 0
                        : f.ifa) && void 0 !== l
                    ? l
                    : '0'),
                (d.removed = !1),
                (d.isFullscreenMode = null),
                d
              );
            }
            return (
              d(n, e),
              f(n, [
                {
                  key: 'width',
                  get: function () {
                    return Math.round(window.mraid.getSize().width);
                  },
                },
                {
                  key: 'height',
                  get: function () {
                    return Math.round(window.mraid.getSize().height);
                  },
                },
                {
                  key: 'handleStateChange',
                  value: function (t) {
                    this.isFullscreenMode = this.removed
                      ? null
                      : 'expanded' === t;
                  },
                },
                {
                  key: 'init',
                  value: function () {
                    var t = this;
                    if ('loading' === window.mraid.getState())
                      return window.mraid.addEventListener(
                        'ready',
                        this.init.bind(this)
                      );
                    window.mraid.addEventListener(
                      'stateChange',
                      this.handleStateChange.bind(this)
                    ),
                      '3.0' === this.version
                        ? window.mraid.addEventListener(
                            'exposureChange',
                            function (e) {
                              return t.mraidEventHandler(e / 100);
                            }
                          )
                        : (window.mraid.isViewable() &&
                            this.mraidEventHandler(1),
                          window.mraid.addEventListener(
                            'viewableChange',
                            function (e) {
                              return t.mraidEventHandler(e ? 1 : 0);
                            }
                          ));
                  },
                },
                {
                  key: 'mraidEventHandler',
                  value: function (t) {
                    this.removed || this.viewabilityChange(t);
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    b(p(n.prototype), 'remove', this).call(this),
                      (this.removed = !0);
                  },
                },
              ]),
              n
            );
          })(Dn),
          zn = (function (e) {
            function n(e) {
              var r;
              return (
                c(this, n),
                h(y((r = t(this, n, [e]))), '_width', void 0),
                h(y(r), '_height', void 0),
                h(y(r), 'isFullscreenMode', void 0),
                h(y(r), 'customLists', void 0),
                h(y(r), 'cc', void 0),
                h(y(r), 'measurable', void 0),
                h(y(r), 'methodOfDeterminingVisibility', void 0),
                h(y(r), 'omidClient', void 0),
                h(y(r), 'removed', void 0),
                (r.omidClient = new window.VerificationClient()),
                (r.cc = new Z()),
                (r.customLists = Ln),
                (r.measurable = !0),
                (r._width = -1),
                (r._height = -1),
                (r.methodOfDeterminingVisibility = 6),
                (r.removed = !1),
                (r.isFullscreenMode = null),
                r
              );
            }
            return (
              d(n, e),
              f(n, [
                {
                  key: 'playerStateChangeHandler',
                  value: function (t) {
                    this.isFullscreenMode =
                      !this.removed && null != t && t.data
                        ? 'fullscreen' === t.data.state
                        : null;
                  },
                },
                {
                  key: 'width',
                  get: function () {
                    return this._width;
                  },
                },
                {
                  key: 'height',
                  get: function () {
                    return this._height;
                  },
                },
                {
                  key: 'isSupported',
                  value: function () {
                    return this.omidClient.isSupported();
                  },
                },
                {
                  key: 'init',
                  value: function () {
                    this.omidClient.addEventListener(
                      'geometryChange',
                      this.omidEventHandler.bind(this)
                    ),
                      this.omidClient.addEventListener(
                        'playerStateChange',
                        this.playerStateChangeHandler.bind(this)
                      );
                  },
                },
                {
                  key: 'omidEventHandler',
                  value: function (t) {
                    var e, n, r, i, o, a;
                    if (!this.removed) {
                      var s =
                        (null !==
                          (e =
                            null == t ||
                            null === (n = t.data) ||
                            void 0 === n ||
                            null === (n = n.adView) ||
                            void 0 === n
                              ? void 0
                              : n.percentageInView) && void 0 !== e
                          ? e
                          : 0) / 100;
                      x(s) && this.viewabilityChange(s),
                        (this._width =
                          null !==
                            (r =
                              null == t || null === (i = t.data) || void 0 === i
                                ? void 0
                                : i.adView.geometry.width) && void 0 !== r
                            ? r
                            : this._width),
                        (this._height =
                          null !==
                            (o =
                              null == t || null === (a = t.data) || void 0 === a
                                ? void 0
                                : a.adView.geometry.height) && void 0 !== o
                            ? o
                            : this._height);
                    }
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    b(p(n.prototype), 'remove', this).call(this),
                      (this.removed = !0);
                  },
                },
              ]),
              n
            );
          })(Dn),
          Hn = (function () {
            function t(e) {
              c(this, t), h(this, 'url', void 0), (this.url = e);
            }
            return (
              f(t, [
                {
                  key: 'load',
                  value: function () {
                    var t = new st(this.url).httpslize().setRnd().toString();
                    new ht(t).send();
                  },
                },
              ]),
              t
            );
          })(),
          Wn = (function () {
            function t(e, n) {
              c(this, t),
                h(this, 'url', void 0),
                h(this, 'parent', void 0),
                (this.url = e),
                (this.parent = n);
            }
            return (
              f(t, [
                {
                  key: 'load',
                  value: function () {
                    var t = new st(this.url).httpslize().setRnd().toString();
                    new dt(t, this.parent)
                      .setAttributes(Fn)
                      .load()
                      .catch(function (t) {
                        console.error(t);
                      });
                  },
                },
              ]),
              t
            );
          })(),
          qn = (function () {
            function t(e) {
              var n = this;
              if (
                (c(this, t),
                h(this, 'viewabilityDeterminant', void 0),
                h(this, 'config', void 0),
                !L(e) || M(e))
              )
                throw new Error('AdriverViewability: there is no confing.');
              if (((this.config = r({}, e)), !V(this.config.nodeToTrack))) {
                if (
                  'string' != typeof this.config.nodeToTrack ||
                  _(this.config.nodeToTrack)
                )
                  throw new Error(
                    'AdriverViewability: the element or its id is missing.'
                  );
                var i = document.querySelector(
                  (function (t) {
                    if (!O(t)) throw new Error('Element id must be a string');
                    if (_(t))
                      throw new Error('Element id cannot be an empty string');
                    return /^#.+/.test(t) ? t : '#'.concat(t);
                  })(this.config.nodeToTrack)
                );
                if (!i)
                  throw new Error(
                    'AdriverViewability: the element could not be found.'
                  );
                this.config.nodeToTrack = i;
              }
              'BODY' !== this.config.nodeToTrack.tagName.toUpperCase() ||
                new q().onPage ||
                this.config.nodeToTrack.style.width ||
                this.config.nodeToTrack.style.height ||
                ((this.config.nodeToTrack.style.height = '100%'),
                (this.config.nodeToTrack.style.width = '100%'),
                (this.config.nodeToTrack.style.margin = '0px'),
                (this.config.nodeToTrack.ownerDocument.documentElement.style.width =
                  '100%'),
                (this.config.nodeToTrack.ownerDocument.documentElement.style.height =
                  '100%'));
              var o = D();
              t: {
                if (o && window.mraid) {
                  var a = window.mraid.getVersion();
                  if ('2.0' === a || '3.0' === a) {
                    this.viewabilityDeterminant = new Un(this.config);
                    break t;
                  }
                }
                if (o && window.VerificationClient) {
                  var s = new zn(this.config);
                  if (s.isSupported()) {
                    this.viewabilityDeterminant = s;
                    break t;
                  }
                }
                this.viewabilityDeterminant = new Bn(this.config);
              }
              this.viewabilityDeterminant.checkViewability();
              var u = new q().onPage
                ? this.config.nodeToTrack
                : document.documentElement;
              this.subscribe(Vn.name, function () {
                var t, e;
                null === (t = n.config.trackers) ||
                  void 0 === t ||
                  null === (t = t.img) ||
                  void 0 === t ||
                  null === (t = t.load) ||
                  void 0 === t ||
                  t.forEach(function (t) {
                    new Hn(t).load();
                  }),
                  null === (e = n.config.trackers) ||
                    void 0 === e ||
                    null === (e = e.js) ||
                    void 0 === e ||
                    null === (e = e.load) ||
                    void 0 === e ||
                    e.forEach(function (t) {
                      new Wn(t, u).load();
                    });
              }),
                this.subscribe(_n.name, function () {
                  var t, e;
                  null === (t = n.config.trackers) ||
                    void 0 === t ||
                    null === (t = t.img) ||
                    void 0 === t ||
                    null === (t = t.view) ||
                    void 0 === t ||
                    t.forEach(function (t) {
                      new Hn(t).load();
                    }),
                    null === (e = n.config.trackers) ||
                      void 0 === e ||
                      null === (e = e.js) ||
                      void 0 === e ||
                      null === (e = e.view) ||
                      void 0 === e ||
                      e.forEach(function (t) {
                        new Wn(t, u).load();
                      });
                });
            }
            return (
              f(t, [
                {
                  key: 'getViewablePercent',
                  value: function () {
                    return this.viewabilityDeterminant.getViewablePercent();
                  },
                },
                {
                  key: 'subscribe',
                  value: function (t, e, n) {
                    this.viewabilityDeterminant.subscribe(t, e, n);
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (t) {
                    this.viewabilityDeterminant.unsubscribe(t);
                  },
                },
                {
                  key: 'remove',
                  value: function () {
                    this.viewabilityDeterminant.remove();
                  },
                },
              ]),
              t
            );
          })();
        !(function (t) {
          (t.AdLoaded = 'AdLoaded'),
            (t.AdStarted = 'AdStarted'),
            (t.AdStopped = 'AdStopped'),
            (t.AdSkipped = 'AdSkipped'),
            (t.AdSkippableStateChange = 'AdSkippableStateChange'),
            (t.AdSizeChange = 'AdSizeChange'),
            (t.AdLinearChange = 'AdLinearChange'),
            (t.AdDurationChange = 'AdDurationChange'),
            (t.AdExpandedChange = 'AdExpandedChange'),
            (t.AdVolumeChange = 'AdVolumeChange'),
            (t.AdImpression = 'AdImpression'),
            (t.AdVideoStart = 'AdVideoStart'),
            (t.AdVideoFirstQuartile = 'AdVideoFirstQuartile'),
            (t.AdVideoMidpoint = 'AdVideoMidpoint'),
            (t.AdVideoThirdQuartile = 'AdVideoThirdQuartile'),
            (t.AdVideoComplete = 'AdVideoComplete'),
            (t.AdClickThru = 'AdClickThru'),
            (t.AdInteraction = 'AdInteraction'),
            (t.AdUserAcceptInvitation = 'AdUserAcceptInvitation'),
            (t.AdUserMinimize = 'AdUserMinimize'),
            (t.AdUserClose = 'AdUserClose'),
            (t.AdPaused = 'AdPaused'),
            (t.AdPlaying = 'AdPlaying'),
            (t.AdLog = 'AdLog'),
            (t.AdError = 'AdError'),
            (t.AdRemainingTimeChange = 'AdRemainingTimeChange');
        })(kn || (kn = {}));
        var Nn,
          Qn =
            (((yn = {})[kn.AdLoaded] = xt.Loaded),
            (yn[kn.AdStarted] = xt.Start),
            (yn[kn.AdStopped] = xt.End),
            (yn[kn.AdSkipped] = xt.Skip),
            (yn[kn.AdSkippableStateChange] = xt.SkippableStateChange),
            (yn[kn.AdSizeChange] = xt.SizeChange),
            (yn[kn.AdExpandedChange] = xt.Expand),
            (yn[kn.AdVolumeChange] = xt.VolumeChange),
            (yn[kn.AdImpression] = xt.Impression),
            (yn[kn.AdVideoFirstQuartile] = xt.FirstQuartile),
            (yn[kn.AdVideoMidpoint] = xt.Midpoint),
            (yn[kn.AdVideoThirdQuartile] = xt.ThirdQuartile),
            (yn[kn.AdVideoComplete] = xt.Complete),
            (yn[kn.AdClickThru] = xt.Click),
            (yn[kn.AdUserClose] = xt.Close),
            (yn[kn.AdPaused] = xt.Pause),
            (yn[kn.AdPlaying] = xt.Resume),
            (yn[kn.AdError] = xt.Error),
            (yn[kn.AdRemainingTimeChange] = xt.Timeupdate),
            (yn[kn.AdUserMinimize] = xt.Collapse),
            (yn[kn.AdInteraction] = xt.OtherInteraction),
            (yn[kn.AdLinearChange] = null),
            (yn[kn.AdDurationChange] = null),
            (yn[kn.AdVideoStart] = null),
            (yn[kn.AdUserAcceptInvitation] = null),
            (yn[kn.AdLog] = null),
            yn);
        !(function (t) {
          (t.AcceptInvitation = 'acceptInvitation'),
            (t.Close = 'close'),
            (t.Collapse = 'collapse'),
            (t.Complete = 'complete'),
            (t.CreativeView = 'creativeView'),
            (t.ExitFullscreen = 'exitFullscreen'),
            (t.Expand = 'expand'),
            (t.FirstQuartile = 'firstQuartile'),
            (t.Fullscreen = 'fullscreen'),
            (t.Midpoint = 'midpoint'),
            (t.Mute = 'mute'),
            (t.Pause = 'pause'),
            (t.Progress = 'progress'),
            (t.Resume = 'resume'),
            (t.Rewind = 'rewind'),
            (t.Skip = 'skip'),
            (t.Start = 'start'),
            (t.ThirdQuartile = 'thirdQuartile'),
            (t.Unmute = 'unmute');
        })(Nn || (Nn = {}));
        var Gn,
          Zn,
          $n =
            (((bn = {})[Nn.AcceptInvitation] = xt.OtherInteraction),
            (bn[Nn.Close] = xt.Close),
            (bn[Nn.Collapse] = xt.Collapse),
            (bn[Nn.Complete] = xt.Complete),
            (bn[Nn.CreativeView] = xt.Impression),
            (bn[Nn.Expand] = xt.Expand),
            (bn[Nn.FirstQuartile] = xt.FirstQuartile),
            (bn[Nn.Start] = xt.Start),
            (bn[Nn.Midpoint] = xt.Midpoint),
            (bn[Nn.ThirdQuartile] = xt.ThirdQuartile),
            (bn[Nn.Mute] = xt.Mute),
            (bn[Nn.Unmute] = xt.Unmute),
            (bn[Nn.Pause] = xt.Pause),
            (bn[Nn.Rewind] = xt.Rewind),
            (bn[Nn.Resume] = xt.Resume),
            (bn[Nn.Progress] = xt.Timeupdate),
            (bn[Nn.Skip] = xt.Skip),
            (bn[Nn.ExitFullscreen] = null),
            (bn[Nn.Fullscreen] = null),
            bn);
        !(function (t) {
          (t.Normal = 'normal'),
            (t.Thumbnail = 'thumbnail'),
            (t.Fullscreen = 'fullscreen');
        })(Gn || (Gn = {})),
          (function (t) {
            (t.CreativeView = 'creativeView'),
              (t.Start = 'start'),
              (t.FirstQuartile = 'firstQuartile'),
              (t.Midpoint = 'midpoint'),
              (t.ThirdQuartile = 'thirdQuartile'),
              (t.Complete = 'complete'),
              (t.Close = 'close'),
              (t.Skip = 'skip'),
              (t.Mute = 'mute'),
              (t.Unmute = 'unmute'),
              (t.Fullscreen = 'fullscreen'),
              (t.ExitFullscreen = 'exitFullscreen'),
              (t.Pause = 'pause'),
              (t.Resume = 'resume'),
              (t.Error = 'error'),
              (t.Viewability = 'viewability'),
              (t.ClientViewability = 'clientViewability'),
              (t.ViewabilityUnderFS = 'viewabilityUnderFS'),
              (t.RejectWhitelist = 'rejectWhitelist'),
              (t.Progress = 'progress'),
              (t.Timeline = 'timeline'),
              (t.MouseEnter = 'mouseEnter'),
              (t.MouseLeave = 'mouseLeave');
          })(Zn || (Zn = {}));
        var Xn =
            (((gn = {})[xt.Impression] = Zn.CreativeView),
            (gn[xt.Start] = Zn.Start),
            (gn[xt.FirstQuartile] = Zn.FirstQuartile),
            (gn[xt.Midpoint] = Zn.Midpoint),
            (gn[xt.ThirdQuartile] = Zn.ThirdQuartile),
            (gn[xt.Complete] = Zn.Complete),
            (gn[xt.Close] = Zn.Close),
            (gn[xt.Skip] = Zn.Skip),
            (gn[xt.Mute] = Zn.Mute),
            (gn[xt.Unmute] = Zn.Unmute),
            (gn[xt.Expand] = Zn.Fullscreen),
            (gn[xt.Collapse] = Zn.ExitFullscreen),
            (gn[xt.Pause] = Zn.Pause),
            (gn[xt.Resume] = Zn.Resume),
            (gn[xt.Error] = Zn.Error),
            gn),
          Yn =
            (((wn = {})[Zn.RejectWhitelist] = {
              type: 70,
              customs: [168, 176, 213, 214, 216, 217, 163],
            }),
            (wn[Zn.Progress] = { type: 19, customs: [] }),
            (wn[Zn.Timeline] = {
              type: 50,
              customs: [161, 162, 165, 166, 167, 170, 171, 176, 201, 164, 229],
            }),
            (wn[Zn.CreativeView] = {
              type: 1,
              customs: [
                113, 161, 162, 165, 166, 167, 168, 170, 171, 176, 201, 213, 214,
                216, 217, 163, 177, 164,
              ],
            }),
            (wn[Zn.Start] = {
              type: 2,
              customs: [
                161, 162, 165, 166, 167, 170, 171, 176, 201, 216, 217, 164, 229,
              ],
            }),
            (wn[Zn.FirstQuartile] = {
              type: 4,
              customs: [
                161, 162, 165, 166, 167, 170, 171, 176, 201, 216, 217, 164, 229,
              ],
            }),
            (wn[Zn.Midpoint] = {
              type: 3,
              customs: [
                161, 162, 165, 166, 167, 170, 171, 176, 201, 216, 217, 164, 229,
              ],
            }),
            (wn[Zn.ThirdQuartile] = {
              type: 5,
              customs: [
                161, 162, 165, 166, 167, 170, 171, 176, 201, 216, 217, 164, 229,
              ],
            }),
            (wn[Zn.Complete] = {
              type: 6,
              customs: [
                161, 162, 165, 166, 167, 170, 171, 176, 201, 216, 217, 164, 229,
              ],
            }),
            (wn[Zn.Close] = {
              type: 15,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.Skip] = {
              type: 18,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.Mute] = {
              type: 7,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164, 169],
            }),
            (wn[Zn.Unmute] = {
              type: 8,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164, 169],
            }),
            (wn[Zn.Fullscreen] = {
              type: 16,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.ExitFullscreen] = {
              type: 17,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.Pause] = {
              type: 9,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.Resume] = {
              type: 11,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.Error] = { type: 25, customs: [] }),
            (wn[Zn.MouseEnter] = {
              type: 51,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164, 164],
            }),
            (wn[Zn.MouseLeave] = {
              type: 52,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 164],
            }),
            (wn[Zn.Viewability] = {
              type: 53,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 216, 217],
            }),
            (wn[Zn.ClientViewability] = {
              type: 69,
              customs: [161, 162, 165, 166, 167, 170, 176, 201, 216, 217, 164],
            }),
            (wn[Zn.ViewabilityUnderFS] = {
              type: 71,
              customs: [
                161, 162, 165, 166, 167, 168, 170, 171, 176, 201, 213, 214, 216,
                217, 163, 177, 164,
              ],
            }),
            wn),
          Jn = [161, 162, 164, 165, 166, 167, 170, 176, 201],
          Kn = (function () {
            function t(t) {
              this.player = t;
            }
            return (
              (t.prototype.bindWith = function (t) {
                var e = this;
                Object.values(kn).forEach(function (n) {
                  var r = Qn[n];
                  r &&
                    (r === xt.Click
                      ? e.player.subscribe(xt.Click, function () {
                          var e = [void 0, void 0, !1];
                          t.triggerEvent(n, e);
                        })
                      : e.player.subscribe(r, function () {
                          t.triggerEvent(n);
                        }));
                });
              }),
              t
            );
          })(),
          tr = (function () {
            function t(t, e) {
              (this.player = t),
                (this.eventHandlers = []),
                (this.elapsedTime = e),
                (this.prevTime = 0),
                (this.handleTimeUpdate = this.handleTimeUpdate.bind(this)),
                this.player.subscribe(xt.Timeupdate, this.handleTimeUpdate);
            }
            return (
              (t.prototype.subscribe = function (t) {
                this.eventHandlers.push(t);
              }),
              (t.prototype.handleTimeUpdate = function () {
                var t = this.player.getAdVendor().currentTime,
                  e = t - this.prevTime;
                (this.prevTime = t),
                  (e > 1 || e < 0) && (this.elapsedTime += e),
                  t >= this.elapsedTime &&
                    (this.invokeHandlers(),
                    this.player.unsubscribe(
                      xt.Timeupdate,
                      this.handleTimeUpdate
                    ));
              }),
              (t.prototype.invokeHandlers = function () {
                for (var t = 0, e = this.eventHandlers; t < e.length; t++) {
                  (0, e[t])();
                }
              }),
              t
            );
          })(),
          er = (function () {
            function t(t, e) {
              (this.player = t),
                (this.progressOffset = e),
                (this.callbacks = []),
                this.player.subscribe(
                  xt.Start,
                  this.initializePlaybackTimeTracker.bind(this)
                );
            }
            return (
              (t.prototype.subscribe = function (t) {
                this.callbacks.push(t);
              }),
              (t.prototype.initializePlaybackTimeTracker = function () {
                var t = this,
                  e = this.getProgressTimeOffset();
                x(e) &&
                  new tr(this.player, e).subscribe(function () {
                    return t.callbacks.forEach(function (t) {
                      return t();
                    });
                  });
              }),
              (t.prototype.getProgressTimeOffset = function () {
                if (!this.progressOffset) return null;
                if (this.progressOffset.endsWith('%')) {
                  var t = this.player.getAdVendor().duration;
                  return !x(t) || t < 0
                    ? null
                    : (+this.progressOffset.slice(0, -1) / 100) * t;
                }
                return W(this.progressOffset);
              }),
              t
            );
          })(),
          nr = (function () {
            function t(t, e) {
              (this.trackingEvents = t), (this.progressEventTracker = e);
            }
            return (
              (t.prototype.bindWith = function (t) {
                var e = this;
                Object.keys(this.trackingEvents).forEach(function (n) {
                  var r = $n[n];
                  if (r) {
                    var i = e.trackingEvents[n];
                    i.length &&
                      (n === Nn.Progress
                        ? e.progressEventTracker.subscribe(function () {
                            e.sendPixels(i);
                          })
                        : t.subscribe(r, function () {
                            return e.sendPixels(i);
                          }));
                  }
                });
              }),
              (t.prototype.sendPixels = function (t) {
                t.forEach(function (t) {
                  if (
                    (function (t) {
                      if (!O(t))
                        throw new Error(''.concat(t, ' is not a string'));
                      return /^(((http|https|ftp):)?\/\/){1}((localhost)|([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)/i.test(
                        t
                      );
                    })(t)
                  ) {
                    var e = new st(t).setRnd().toString();
                    new ht(e).send();
                  }
                });
              }),
              t
            );
          })(),
          rr = {
            113: function (t) {
              return F(t.cv.area) && F(t.cv.time) ? 1 : 0;
            },
            161: function (t) {
              var e;
              return null !== (e = t.player.getAdVendor().contentSize.width) &&
                void 0 !== e
                ? e
                : -1;
            },
            162: function (t) {
              var e;
              return null !== (e = t.player.getAdVendor().contentSize.height) &&
                void 0 !== e
                ? e
                : -1;
            },
            165: function (t) {
              return t.av.getViewablePercent();
            },
            163: function () {
              return new q().topReferrer;
            },
            164: function (t) {
              return t.av.getViewablePercent() >= 0.5
                ? 'viewable'
                : 'unviewable';
            },
            166: function () {
              return 'hidden' in document ? document.hidden : -1;
            },
            167: function (t) {
              return Math.round(t.player.getAdVendor().currentTime);
            },
            168: function () {
              return !new q().onPage;
            },
            169: function (t) {
              return t.muteUnmuteTime;
            },
            170: function (t) {
              return t.player.getAdVendor().muted
                ? 0
                : 10 * t.player.getAdVendor().volume;
            },
            171: function (t) {
              return Math.floor(t.player.getAdVendor().duration);
            },
            176: function (t) {
              return new Date().getTime() - t.startTime;
            },
            177: function () {
              return 1;
            },
            201: function (t) {
              return t.mouseCoords.x;
            },
            202: function (t) {
              return t.mouseCoords.y;
            },
            213: function () {
              var t, e, n;
              return null !==
                (n =
                  null ===
                    (e =
                      null === (t = window.location) || void 0 === t
                        ? void 0
                        : t.ancestorOrigins) || void 0 === e
                    ? void 0
                    : e.length) && void 0 !== n
                ? n
                : '';
            },
            214: function () {
              return window.history.length;
            },
            216: function () {
              return window.screen.width;
            },
            217: function () {
              return window.screen.height;
            },
            229: function (t) {
              return t.hoverTime;
            },
            230: function () {
              return window.navigator.userAgent
                ? btoa(window.navigator.userAgent)
                : -1;
            },
          },
          ir = (function () {
            function t(t, e, n) {
              (this.eventData = e), (this.context = n), (this.eventLink = t);
            }
            return (
              (t.prototype.send = function () {
                var t = new Z(rr)
                    .collectFrom(this.context)
                    .collect(this.eventData.customs)
                    .toString(),
                  e = new st(this.eventLink)
                    .setRnd()
                    .setParams({ custom: t, type: this.eventData.type })
                    .toString();
                new ht(e).send();
              }),
              t
            );
          })(),
          or = (function () {
            function t(t, e, n) {
              var r = this;
              (this.eventHandlers = []),
                (this.player = t),
                (this.av = e),
                (this.vp = { area: n.area, time: n.time }),
                (this.prevTime = 0),
                (this.playbackTime = 0),
                (this.handleTimeUpdate = this.handleTimeUpdate.bind(this)),
                this.player.subscribe(xt.Pause, function () {
                  return (r.playbackTime = 0);
                }),
                this.player.subscribe(xt.Timeupdate, this.handleTimeUpdate);
            }
            return (
              (t.prototype.subscribe = function (t) {
                this.eventHandlers.push(t);
              }),
              (t.prototype.handleTimeUpdate = function () {
                var t = this.av.getViewablePercent(),
                  e = this.player.getAdVendor().currentTime,
                  n = e - this.prevTime;
                t >= this.vp.area && n < 1
                  ? ((this.playbackTime += n),
                    this.playbackTime >= this.vp.time &&
                      (this.invokeHandlers(),
                      this.player.unsubscribe(
                        xt.Timeupdate,
                        this.handleTimeUpdate
                      )))
                  : (this.playbackTime = 0),
                  (this.prevTime = e);
              }),
              (t.prototype.invokeHandlers = function () {
                for (var t = 0, e = this.eventHandlers; t < e.length; t++) {
                  (0, e[t])();
                }
              }),
              t
            );
          })(),
          ar = 'exs4',
          sr = 'exs5',
          ur = (function () {
            function t(t) {
              this.systemEventParameters = t;
            }
            return (
              (t.prototype.bind = function () {
                this.systemEventParameters.player.subscribe(
                  xt.Loaded,
                  this.updateLinks.bind(this)
                ),
                  this.bindEClickEvent(),
                  this.bindViewabilityEvents(),
                  this.bindTimelineEvents(),
                  this.bindProgressEvents(),
                  this.bindPlaybackEvents();
              }),
              (t.prototype.bindViewabilityEvents = function () {
                var t = this;
                new or(
                  this.systemEventParameters.player,
                  this.systemEventParameters.av,
                  { area: 0.5, time: 2 }
                ).subscribe(function () {
                  new ir(
                    t.systemEventParameters.eventLink,
                    Yn[Zn.Viewability],
                    t.systemEventParameters.customContext
                  ).send(),
                    rt() &&
                      !t.systemEventParameters.player.getAdVendor().expanded &&
                      new ir(
                        t.systemEventParameters.eventLink,
                        Yn[Zn.ViewabilityUnderFS],
                        t.systemEventParameters.customContext
                      ).send();
                }),
                  this.systemEventParameters.cv.area &&
                    this.systemEventParameters.cv.time &&
                    new or(
                      this.systemEventParameters.player,
                      this.systemEventParameters.av,
                      {
                        area: +this.systemEventParameters.cv.area / 100,
                        time: +this.systemEventParameters.cv.time,
                      }
                    ).subscribe(function () {
                      new ir(
                        t.systemEventParameters.eventLink,
                        Yn[Zn.ClientViewability],
                        t.systemEventParameters.customContext
                      ).send(),
                        rt() &&
                          !t.systemEventParameters.player.getAdVendor()
                            .expanded &&
                          new ir(
                            t.systemEventParameters.eventLink,
                            Yn[Zn.ViewabilityUnderFS],
                            t.systemEventParameters.customContext
                          ).send();
                    });
              }),
              (t.prototype.bindEClickEvent = function () {
                var t = this;
                this.systemEventParameters.player.subscribe(
                  xt.Click,
                  function () {
                    var e = new Z(rr)
                      .collectFrom(t.systemEventParameters.customContext)
                      .collect(Jn)
                      .toString();
                    t.systemEventParameters.clientCustom &&
                      !M(t.systemEventParameters.clientCustom) &&
                      (e += ';'.concat(
                        B(t.systemEventParameters.clientCustom, ';')
                      ));
                    var n = new st(t.systemEventParameters.eClickLink)
                      .setRnd()
                      .setParams({ custom: e })
                      .toString();
                    new ht(n).send();
                  }
                );
              }),
              (t.prototype.bindTimelineEvents = function () {
                var t = this,
                  e = 0;
                this.systemEventParameters.player.subscribe(
                  xt.Timeupdate,
                  function () {
                    var n =
                      t.systemEventParameters.player.getAdVendor().currentTime;
                    n >= e &&
                      (new ir(
                        t.systemEventParameters.eventLink,
                        Yn[Zn.Timeline],
                        t.systemEventParameters.customContext
                      ).send(),
                      (e = Math.ceil(n)));
                  }
                );
              }),
              (t.prototype.bindProgressEvents = function () {
                var t = this;
                this.systemEventParameters.progressEventTracker.subscribe(
                  function () {
                    new ir(
                      t.systemEventParameters.eventLink,
                      Yn[Zn.Progress],
                      t.systemEventParameters.customContext
                    ).send();
                  }
                );
              }),
              (t.prototype.bindPlaybackEvents = function () {
                var t = this;
                [
                  xt.Impression,
                  xt.Start,
                  xt.FirstQuartile,
                  xt.Midpoint,
                  xt.ThirdQuartile,
                  xt.Complete,
                  xt.Close,
                  xt.Skip,
                  xt.Mute,
                  xt.Unmute,
                  xt.Expand,
                  xt.Collapse,
                  xt.Pause,
                  xt.Resume,
                  xt.Error,
                ].forEach(function (e) {
                  return t.systemEventParameters.player.subscribe(
                    e,
                    function () {
                      new ir(
                        t.systemEventParameters.eventLink,
                        Yn[Xn[e]],
                        t.systemEventParameters.customContext
                      ).send();
                    }
                  );
                });
              }),
              (t.prototype.updateLinks = function () {
                var t = this.systemEventParameters.player.getAdId(),
                  e = this.systemEventParameters.player.getCreativeId();
                if (t || e) {
                  var n = new URL(this.systemEventParameters.eventLink),
                    r = new URL(this.systemEventParameters.eClickLink);
                  t && (n.searchParams.set(ar, t), r.searchParams.set(ar, t)),
                    e && (n.searchParams.set(sr, e), r.searchParams.set(sr, e)),
                    (this.systemEventParameters.eventLink = n.toString()),
                    (this.systemEventParameters.eClickLink = r.toString());
                }
              }),
              t
            );
          })(),
          cr = function (t) {
            (this.bt = t.bt || '0'),
              (this.xpid = t.xpid || ''),
              (this.pz = t.pz || '0'),
              (this.ad = t.ad || '0'),
              (this.bid = t.bid || '0'),
              (this.bn = t.bn || '0'),
              (this.sz = t.sz || '0'),
              (this.sid = t.site || ''),
              (this.tail256 = t.tail256 || new q().topReferrer),
              t.sliceid && (this.sliceid = t.sliceid);
          },
          lr = (function () {
            function t(t, e, n, r) {
              (this.slot = e),
                (this.player = t),
                (this.cv = n),
                (this.startTime = new Date().getTime()),
                (this.mouseCoords = { x: 0, y: 0 }),
                (this.isCursorOverSlot = !1),
                (this.hoverStartTime = 0),
                (this.muteTime = 0),
                (this.av = r),
                this.bindMouseEvents();
            }
            return (
              Object.defineProperty(t.prototype, 'hoverTime', {
                get: function () {
                  if (this.isCursorOverSlot) {
                    var t = new Date().getTime() - this.hoverStartTime;
                    return new Date(t).getSeconds();
                  }
                  return 0;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(t.prototype, 'muteUnmuteTime', {
                get: function () {
                  var t = this.muteTime,
                    e = this.player.getAdVendor().currentTime;
                  return (this.muteTime = e), +(e - t).toFixed(1);
                },
                enumerable: !1,
                configurable: !0,
              }),
              (t.prototype.bindMouseEvents = function () {
                var t = this;
                this.slot.addEventListener('mouseenter', function () {
                  (t.hoverStartTime = new Date().getTime()),
                    (t.isCursorOverSlot = !0);
                }),
                  this.slot.addEventListener('mouseleave', function () {
                    (t.isCursorOverSlot = !1),
                      (t.mouseCoords.x = 0),
                      (t.mouseCoords.y = 0);
                  }),
                  this.slot.addEventListener('mousemove', function (e) {
                    (t.mouseCoords.x = e.offsetX),
                      (t.mouseCoords.y = e.offsetY);
                  });
              }),
              t
            );
          })(),
          fr = (function () {
            function t(t, e) {
              (this.slot = t), (this.scriptUrls = e);
            }
            return (
              (t.prototype.load = function () {
                for (
                  var t = function (t) {
                      new dt(t, e.slot).load().catch(function (e) {
                        console.log(
                          'Error loading script from URL: '.concat(t),
                          e
                        );
                      });
                    },
                    e = this,
                    n = 0,
                    r = this.scriptUrls;
                  n < r.length;
                  n++
                ) {
                  t(r[n]);
                }
              }),
              t
            );
          })(),
          hr = (function () {
            function t() {
              (this.player = null), (this.ec = new ut());
            }
            return (
              (t.prototype.initAd = function (t, e, n, r, i, o) {
                var a = this,
                  s = (function (t) {
                    try {
                      return JSON.parse(t);
                    } catch (t) {
                      return null;
                    }
                  })(null == i ? void 0 : i.AdParameters);
                if (s && s.pass) {
                  var u = o.videoSlot,
                    c = o.slot,
                    l = o.videoSlotCanAutoPlay;
                  if (V(c)) {
                    var f = (function (t) {
                      var e;
                      return (
                        (function (t) {
                          return !t.hasOwnProperty('progress_offset');
                        })(t) &&
                          (Reflect.set(
                            t,
                            'progress_offset',
                            null !== (e = t.TrackingEvents.progress_offset) &&
                              void 0 !== e
                              ? e
                              : ''
                          ),
                          Reflect.deleteProperty(
                            t.TrackingEvents,
                            'progress_offset'
                          )),
                        t
                      );
                    })(s);
                    (f.chwl
                      ? new mt(f.chwl).check()
                      : Promise.resolve(!0)
                    ).then(function (t) {
                      var e = new cr(s),
                        n = new st(
                          'https://ev.adriver.ru/cgi-bin/event.cgi?rnd=![rnd]'
                        )
                          .setParams(T(T({}, f.extstr), e))
                          .toString(),
                        r = new st(
                          'https://ev.adriver.ru/cgi-bin/eclick.cgi?rnd=![rnd]'
                        )
                          .setParams(T(T({}, f.extstr), e))
                          .toString(),
                        i = document.createElement('div');
                      X(i, { width: '100%', height: '100%' }),
                        c.append(i),
                        X(u, { display: 'none' });
                      var o = function () {
                          i.remove(), X(u, { display: 'block' });
                        },
                        h = (function (t, e) {
                          var n, r;
                          return {
                            sources: [
                              { system: '', priority: 1, source: t, total: 1 },
                            ],
                            controls:
                              ((n = {}),
                              (n['play-pause'] = { include: 0, persistent: 0 }),
                              (n['mute-unmute'] = {
                                include: 0,
                                persistent: 0,
                              }),
                              (n['expand-collapse'] = {
                                include: 0,
                                persistent: 0,
                              }),
                              (n.close = { include: 0, persistent: 0 }),
                              (n.skip = { include: 0, persistent: 0 }),
                              n),
                            decorators:
                              ((r = {}),
                              (r['progress-bar'] = { include: 0 }),
                              r),
                            autoPlay: e ? 1 : 0,
                            total: 1,
                            closeOffset: 0,
                            unmute: 0,
                          };
                        })(f.pass, l);
                      a.player = new Sn(i, h);
                      var d = new qn({
                          eventLink: n,
                          nodeToTrack: i,
                          sendZeroEvent: !1,
                          permanent: !0,
                          sendEvents: !1,
                        }),
                        p = new lr(a.player, i, f.cv, d);
                      if (!t)
                        return (
                          a.ec.triggerEvent(kn.AdError, 'chwl error'),
                          new ir(n, Yn[Zn.RejectWhitelist], p).send(),
                          void o()
                        );
                      var v = new er(a.player, f.progress_offset);
                      new fr(i, f.jstracker).load(),
                        new Kn(a.player).bindWith(a.ec),
                        new nr(f.TrackingEvents, v).bindWith(a.player),
                        new ur({
                          player: a.player,
                          progressEventTracker: v,
                          customContext: p,
                          eventLink: n,
                          eClickLink: r,
                          clientCustom: f.custom,
                          av: d,
                          cv: f.cv,
                        }).bind(),
                        a.player.finally(function () {
                          return o();
                        }),
                        a.player.start();
                    });
                  } else
                    this.ec.triggerEvent(
                      kn.AdError,
                      'Slot is not html element'
                    );
                } else this.ec.triggerEvent(kn.AdError, 'Invalid adParameters');
              }),
              (t.prototype.getAdWidth = function () {
                var t, e, n;
                return null !==
                  (n =
                    null ===
                      (e =
                        null === (t = this.player) || void 0 === t
                          ? void 0
                          : t.getAdVendor()) || void 0 === e
                      ? void 0
                      : e.contentSize.width) && void 0 !== n
                  ? n
                  : 0;
              }),
              (t.prototype.getAdHeight = function () {
                var t, e, n;
                return null !==
                  (n =
                    null ===
                      (e =
                        null === (t = this.player) || void 0 === t
                          ? void 0
                          : t.getAdVendor()) || void 0 === e
                      ? void 0
                      : e.contentSize.height) && void 0 !== n
                  ? n
                  : 0;
              }),
              (t.prototype.getAdExpanded = function () {
                var t, e;
                return Boolean(
                  null ===
                    (e =
                      null === (t = this.player) || void 0 === t
                        ? void 0
                        : t.getAdVendor()) || void 0 === e
                    ? void 0
                    : e.expanded
                );
              }),
              (t.prototype.getAdSkippableState = function () {
                var t, e;
                return Boolean(
                  null ===
                    (e =
                      null === (t = this.player) || void 0 === t
                        ? void 0
                        : t.getAdVendor()) || void 0 === e
                    ? void 0
                    : e.skippableState
                );
              }),
              (t.prototype.getAdDuration = function () {
                var t, e, n;
                return null !==
                  (n =
                    null ===
                      (e =
                        null === (t = this.player) || void 0 === t
                          ? void 0
                          : t.getAdVendor()) || void 0 === e
                      ? void 0
                      : e.duration) && void 0 !== n
                  ? n
                  : -2;
              }),
              (t.prototype.getAdLinear = function () {
                return !1;
              }),
              (t.prototype.getAdIcons = function () {
                return !1;
              }),
              (t.prototype.getAdRemainingTime = function () {
                var t,
                  e =
                    null === (t = this.player) || void 0 === t
                      ? void 0
                      : t.getAdVendor();
                return e ? e.duration - e.currentTime : -2;
              }),
              (t.prototype.getAdCompanions = function () {
                return '';
              }),
              (t.prototype.getAdVolume = function () {
                var t, e, n;
                return null !==
                  (n =
                    null ===
                      (e =
                        null === (t = this.player) || void 0 === t
                          ? void 0
                          : t.getAdVendor()) || void 0 === e
                      ? void 0
                      : e.volume) && void 0 !== n
                  ? n
                  : -1;
              }),
              (t.prototype.setAdVolume = function (t) {
                var e,
                  n =
                    null === (e = this.player) || void 0 === e
                      ? void 0
                      : e.getAdVendor();
                n && (n.volume = t);
              }),
              (t.prototype.handshakeVersion = function (t) {
                return '2.0';
              }),
              (t.prototype.resizeAd = function (t, e, n) {}),
              (t.prototype.startAd = function () {
                var t = this;
                z().then(function () {
                  var e, n;
                  return null ===
                    (n =
                      null === (e = t.player) || void 0 === e
                        ? void 0
                        : e.getAdVendor()) || void 0 === n
                    ? void 0
                    : n.start();
                });
              }),
              (t.prototype.stopAd = function () {
                var t;
                null === (t = this.player) || void 0 === t || t.destroy();
              }),
              (t.prototype.pauseAd = function () {
                var t, e;
                null ===
                  (e =
                    null === (t = this.player) || void 0 === t
                      ? void 0
                      : t.getAdVendor()) ||
                  void 0 === e ||
                  e.pause();
              }),
              (t.prototype.resumeAd = function () {
                var t, e;
                null ===
                  (e =
                    null === (t = this.player) || void 0 === t
                      ? void 0
                      : t.getAdVendor()) ||
                  void 0 === e ||
                  e.resume();
              }),
              (t.prototype.expandAd = function () {
                var t, e;
                null ===
                  (e =
                    null === (t = this.player) || void 0 === t
                      ? void 0
                      : t.getAdVendor()) ||
                  void 0 === e ||
                  e.expand();
              }),
              (t.prototype.collapseAd = function () {
                var t, e;
                null ===
                  (e =
                    null === (t = this.player) || void 0 === t
                      ? void 0
                      : t.getAdVendor()) ||
                  void 0 === e ||
                  e.collapse();
              }),
              (t.prototype.skipAd = function () {
                var t, e;
                null ===
                  (e =
                    null === (t = this.player) || void 0 === t
                      ? void 0
                      : t.getAdVendor()) ||
                  void 0 === e ||
                  e.skip();
              }),
              (t.prototype.subscribe = function (t, e, n) {
                this.ec.subscribe(e, t);
              }),
              (t.prototype.unsubscribe = function (t, e) {
                this.ec.unsubscribe(e, t);
              }),
              t
            );
          })();
        window.getVPAIDAd = function () {
          return new hr();
        };
      })();
    </script>

    <script>
        const wrapper = window.getVPAIDAd();

        const jstrackers = ["https://files.adriver.ru/z.daulenov/JSTrackerLoader/jsscript.js"];

      const trackingEvents = {
          acceptInvitation: ["https://example.com/acceptInvitation"],
          close: ["https://example.com/close"],
          collapse: ["https://example.com/collapse"],
          complete: ["https://example.com/complete"],
          creativeView: ["https://example.com/creativeView"],
          exitFullscreen: ["https://example.com/exitFullscreen"],
          expand: ["https://example.com/expand"],
          firstQuartile: ["https://example.com/firstQuartile"],
          fullscreen: ["https://example.com/fullscreen"],
          midpoint: ["https://example.com/midpoint"],
          mute: ["https://example.com/mute"],
          pause: ["https://example.com/pause"],
          progress: ["https://example.com/progress"],
          resume: ["https://example.com/resume"],
          rewind: ["https://example.com/rewind"],
          skip: ["https://example.com/skip"],
          start: ["https://example.com/start"],
          thirdQuartile: ["https://example.com/thirdQuartile"],
          unmute: ["https://example.com/unmute"]
      };

      const videoSlot = document.getElementById("videoSlot");


      wrapper.initAd(
          270,
          200,
          "normal",
          -1,
          {
              AdParameters: JSON.stringify({
                  "jstracker": jstrackers,
                  "TrackingEvents": trackingEvents,
                  "progress_offset": "20%" || "00:00:05",
                  "site": "123456",
                  "bt": "99",
                  "xpid": "DDvErEB03eU5WWsLHkaOuLV5a-PMIkKfx8-67edMtkEKbeLHUXMHyddmhB5pXLOH24rt7tpM3x4wITvOvdKnl",
                  "pass": "https://ad.adriver.ru/cgi-bin/rle.cgi?sid=1&ad=783821&bt=99&tuid=1&pid=3954425&bid=10202072&bn=10202072&rnd=1413990258",
                  "siteParams": {
                      "par1": "par1",
                      "par2": "par2"
                  },
                  "chwl": "",
                  "pz": "PZ12345",
                  "ad": "AD12345",
                  "bid": "BID12345",
                  "bn": "BN12345",
                  "tail256": "TAIL25612345",
                  "sz": "SZ12345",
                  "sliceid": "SLICEID12345",
                  "cv": {
                      "area": 60,
                      "time": 5
                  },
                  "custom": {
                      "10": "CustomValue10",
                      "20": "CustomValue20",
                  },
                  "extstr": {
                      "key1": "extstrKey1",
                      "key2": "extstrKey2",
                  },
              })
          },
          {
              slot: document.querySelector("#parent"),
              videoSlot: videoSlot,
              videoSlotCanAutoPlay: false
          }
      );
    </script>
  </body>
</html>
